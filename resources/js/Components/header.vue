<script setup>
import Dropdown from "@/Components/Dropdown.vue";
import DropdownLink from "@/Components/DropdownLink.vue";
import { useDarkMode } from "@/Composable/useDarkMode";

const { isDark, toggleDark } = useDarkMode();

defineProps({
    title: {
        type: String,
        default: "Inventra",
    },
});

defineEmits(["toggle-sidebar"]);
</script>

<template>
    <header
        class="flex items-center justify-between h-16 p-4 pr-16 bg-white shadow md:pr-4 dark:bg-gray-800"
    >
        <!-- Hamburger Menu Button -->
        <button
            id="menu-toggle"
            @click="$emit('toggle-sidebar')"
            class="fixed z-50 p-2 bg-gray-800 rounded-md shadow dark:bg-white top-2 right-4 lg:hidden"
        >
            <svg
                class="w-6 h-6 text-white dark:text-blue-700"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
                stroke-linecap="round"
                stroke-linejoin="round"
            >
                <path d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
        </button>
        <h1 class="text-xl font-semibold dark:text-white">{{ title }}</h1>
        <div class="flex items-center justify-end space-x-3 align-middle mr-14">
            <button @click="toggleDark" class="p-2 rounded dark:text-white">
                <span v-if="!isDark">
                    <svg
                        class="text-gray-600 dark:text-gray-400"
                        width="35"
                        height="35"
                        viewBox="0 0 30 30"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M15 4.375C9.13197 4.375 4.375 9.13197 4.375 15C4.375 20.868 9.13197 25.625 15 25.625C20.522 25.625 25.0596 21.4129 25.5761 16.0259C25.6001 15.7752 25.4713 15.5346 25.2493 15.4155C25.0274 15.2965 24.7557 15.3223 24.5601 15.481C23.4855 16.3529 22.1171 16.875 20.625 16.875C17.1732 16.875 14.375 14.0768 14.375 10.625C14.375 8.57487 15.3614 6.75529 16.8882 5.61458C17.0901 5.46376 17.1817 5.20646 17.1204 4.96202C17.0592 4.71758 16.8571 4.53382 16.608 4.49598C16.0833 4.41628 15.5463 4.375 15 4.375Z"
                            fill="currentColor"
                        />
                    </svg>
                </span>
                <span v-else>
                    <svg
                        class="text-gray-600 dark:text-yellow-400"
                        width="35"
                        height="35"
                        viewBox="0 0 30 30"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M15 1.5625C15.5178 1.5625 15.9375 1.98223 15.9375 2.5V3.75C15.9375 4.26777 15.5178 4.6875 15 4.6875C14.4822 4.6875 14.0625 4.26777 14.0625 3.75V2.5C14.0625 1.98223 14.4822 1.5625 15 1.5625Z"
                            fill="currentColor"
                        />
                        <path
                            d="M15 7.8125C11.0305 7.8125 7.8125 11.0305 7.8125 15C7.8125 18.9695 11.0305 22.1875 15 22.1875C18.9695 22.1875 22.1875 18.9695 22.1875 15C22.1875 11.0305 18.9695 7.8125 15 7.8125Z"
                            fill="currentColor"
                        />
                        <path
                            d="M6.8241 5.49828C6.45798 5.13216 5.86439 5.13216 5.49827 5.49828C5.13215 5.8644 5.13215 6.45799 5.49827 6.82411L6.38215 7.70799C6.74827 8.07411 7.34186 8.07411 7.70798 7.70799C8.0741 7.34187 8.0741 6.74828 7.70798 6.38216L6.8241 5.49828Z"
                            fill="currentColor"
                        />
                        <path
                            d="M28.4375 15C28.4375 15.5178 28.0178 15.9375 27.5 15.9375H26.25C25.7322 15.9375 25.3125 15.5178 25.3125 15C25.3125 14.4822 25.7322 14.0625 26.25 14.0625H27.5C28.0178 14.0625 28.4375 14.4822 28.4375 15Z"
                            fill="currentColor"
                        />
                        <path
                            d="M24.5017 6.8241C24.8678 6.45798 24.8678 5.86439 24.5017 5.49827C24.1356 5.13215 23.542 5.13215 23.1759 5.49827L22.292 6.38215C21.9259 6.74827 21.9259 7.34186 22.292 7.70798C22.6581 8.0741 23.2517 8.0741 23.6178 7.70798L24.5017 6.8241Z"
                            fill="currentColor"
                        />
                        <path
                            d="M15 25.3125C15.5178 25.3125 15.9375 25.7322 15.9375 26.25V27.5C15.9375 28.0178 15.5178 28.4375 15 28.4375C14.4822 28.4375 14.0625 28.0178 14.0625 27.5V26.25C14.0625 25.7322 14.4822 25.3125 15 25.3125Z"
                            fill="currentColor"
                        />
                        <path
                            d="M23.6179 22.292C23.2518 21.9259 22.6582 21.9259 22.2921 22.292C21.926 22.6581 21.926 23.2517 22.2921 23.6179L23.176 24.5017C23.5421 24.8679 24.1357 24.8679 24.5018 24.5017C24.8679 24.1356 24.8679 23.542 24.5018 23.1759L23.6179 22.292Z"
                            fill="currentColor"
                        />
                        <path
                            d="M4.6875 15C4.6875 15.5178 4.26777 15.9375 3.75 15.9375H2.5C1.98223 15.9375 1.5625 15.5178 1.5625 15C1.5625 14.4822 1.98223 14.0625 2.5 14.0625H3.75C4.26777 14.0625 4.6875 14.4822 4.6875 15Z"
                            fill="currentColor"
                        />
                        <path
                            d="M7.7079 23.6178C8.07401 23.2517 8.07401 22.6581 7.7079 22.292C7.34178 21.9259 6.74819 21.9259 6.38207 22.292L5.49819 23.1759C5.13207 23.542 5.13207 24.1356 5.49819 24.5017C5.8643 24.8678 6.4579 24.8678 6.82401 24.5017L7.7079 23.6178Z"
                            fill="currentColor"
                        />
                    </svg>
                </span>
            </button>
            <div class="p-2 rounded">
                <svg
                    class="text-gray-600 dark:text-gray-200"
                    width="33"
                    height="33"
                    viewBox="0 0 48 48"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M40.38 28.12L38.12 24.36C37.62 23.54 37.18 21.96 37.18 21V17.26C37.18 10 31.28 4.1 24.04 4.1C16.78 4.12 10.88 10 10.88 17.26V20.98C10.88 21.94 10.44 23.52 9.96004 24.34L7.70004 28.1C6.84004 29.56 6.64004 31.22 7.18004 32.66C7.72004 34.12 8.94004 35.28 10.54 35.8C12.7 36.52 14.88 37.04 17.1 37.42C17.32 37.46 17.54 37.48 17.76 37.52C18.04 37.56 18.34 37.6 18.64 37.64C19.16 37.72 19.68 37.78 20.22 37.82C21.48 37.94 22.76 38 24.04 38C25.3 38 26.56 37.94 27.8 37.82C28.26 37.78 28.72 37.74 29.16 37.68C29.52 37.64 29.88 37.6 30.24 37.54C30.46 37.52 30.68 37.48 30.9 37.44C33.14 37.08 35.36 36.52 37.52 35.8C39.06 35.28 40.24 34.12 40.8 32.64C41.36 31.14 41.2 29.5 40.38 28.12ZM25.5 20C25.5 20.84 24.82 21.52 23.98 21.52C23.14 21.52 22.46 20.84 22.46 20V13.8C22.46 12.96 23.14 12.28 23.98 12.28C24.82 12.28 25.5 12.96 25.5 13.8V20Z"
                        fill="currentColor"
                    />
                    <path
                        d="M29.66 40.02C28.82 42.34 26.6 44 24 44C22.42 44 20.86 43.36 19.76 42.22C19.12 41.62 18.64 40.82 18.36 40C18.62 40.04 18.88 40.06 19.16 40.1C19.62 40.16 20.1 40.22 20.58 40.26C21.72 40.36 22.88 40.42 24.04 40.42C25.18 40.42 26.32 40.36 27.44 40.26C27.86 40.22 28.28 40.2 28.68 40.14C29 40.1 29.32 40.06 29.66 40.02Z"
                        fill="currentColor"
                    />
                </svg>
            </div>
            <div class="hidden lg:ms-3 lg:flex lg:items-center">
                <!-- Settings Dropdown -->
                <div class="relative">
                    <Dropdown align="right" width="48">
                        <template #trigger>
                            <span class="inline-flex rounded-md">
                                <button
                                    type="button"
                                    class="inline-flex items-center px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out bg-white border border-transparent rounded-md dark:text-gray-200 dark:bg-gray-800 hover:text-gray-700 focus:outline-none"
                                >
                                    <svg
                                        class="mr-2 dark:text-gray-200"
                                        width="35"
                                        height="35"
                                        viewBox="0 0 48 48"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <path
                                            d="M44 24C44 12.98 35.02 4 24 4C12.98 4 4 12.98 4 24C4 29.8 6.5 35.02 10.46 38.68C10.46 38.7 10.46 38.7 10.44 38.72C10.64 38.92 10.88 39.08 11.08 39.26C11.2 39.36 11.3 39.46 11.42 39.54C11.78 39.84 12.18 40.12 12.56 40.4C12.7 40.5 12.82 40.58 12.96 40.68C13.34 40.94 13.74 41.18 14.16 41.4C14.3 41.48 14.46 41.58 14.6 41.66C15 41.88 15.42 42.08 15.86 42.26C16.02 42.34 16.18 42.42 16.34 42.48C16.78 42.66 17.22 42.82 17.66 42.96C17.82 43.02 17.98 43.08 18.14 43.12C18.62 43.26 19.1 43.38 19.58 43.5C19.72 43.54 19.86 43.58 20.02 43.6C20.58 43.72 21.14 43.8 21.72 43.86C21.8 43.86 21.88 43.88 21.96 43.9C22.64 43.96 23.32 44 24 44C24.68 44 25.36 43.96 26.02 43.9C26.1 43.9 26.18 43.88 26.26 43.86C26.84 43.8 27.4 43.72 27.96 43.6C28.1 43.58 28.24 43.52 28.4 43.5C28.88 43.38 29.38 43.28 29.84 43.12C30 43.06 30.16 43 30.32 42.96C30.76 42.8 31.22 42.66 31.64 42.48C31.8 42.42 31.96 42.34 32.12 42.26C32.54 42.08 32.96 41.88 33.38 41.66C33.54 41.58 33.68 41.48 33.82 41.4C34.22 41.16 34.62 40.94 35.02 40.68C35.16 40.6 35.28 40.5 35.42 40.4C35.82 40.12 36.2 39.84 36.56 39.54C36.68 39.44 36.78 39.34 36.9 39.26C37.12 39.08 37.34 38.9 37.54 38.72C37.54 38.7 37.54 38.7 37.52 38.68C41.5 35.02 44 29.8 44 24ZM33.88 33.94C28.46 30.3 19.58 30.3 14.12 33.94C13.24 34.52 12.52 35.2 11.92 35.94C8.88 32.86 7 28.64 7 24C7 14.62 14.62 7 24 7C33.38 7 41 14.62 41 24C41 28.64 39.12 32.86 36.08 35.94C35.5 35.2 34.76 34.52 33.88 33.94Z"
                                            fill="currentColor"
                                        />
                                        <path
                                            d="M24 13.86C19.86 13.86 16.5 17.22 16.5 21.36C16.5 25.42 19.68 28.72 23.9 28.84C23.96 28.84 24.04 28.84 24.08 28.84C24.12 28.84 24.18 28.84 24.22 28.84C24.24 28.84 24.26 28.84 24.26 28.84C28.3 28.7 31.48 25.42 31.5 21.36C31.5 17.22 28.14 13.86 24 13.86Z"
                                            fill="currentColor"
                                        />
                                    </svg>

                                    {{ $page.props.auth.user.name }}

                                    <!-- <svg
                                        class="-me-0.5 ms-2 h-4 w-4"
                                        xmlns="http://www.w3.org/2000/svg"
                                        viewBox="0 0 20 20"
                                        fill="currentColor"
                                    >
                                        <path
                                            fill-rule="evenodd"
                                            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                            clip-rule="evenodd"
                                        />
                                    </svg> -->
                                </button>
                            </span>
                        </template>

                        <template #content>
                            <DropdownLink :href="route('profile.edit')">
                                Profile
                            </DropdownLink>
                            <DropdownLink
                                :href="route('logout')"
                                method="post"
                                as="button"
                            >
                                Log Out
                            </DropdownLink>
                        </template>
                    </Dropdown>
                </div>
            </div>
        </div>
    </header>
</template>
