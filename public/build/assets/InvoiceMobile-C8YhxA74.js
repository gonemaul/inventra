import{E as u,p as _,l as s,o as n,e as x,f as e,m as d,k as I,F as h,C as D,t as l,n as y,w as B,g as M,x as j}from"./vendor-core-D38XQ_w0.js";import{_ as N}from"./ImageModal-Cnbh4QPH.js";import"./vendor-common-BBegFRNv.js";import"./vendor-charts-Bw6UNgWf.js";import"./BottomSheet-CCD1ZQZl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"space-y-4"},E={class:"flex items-start justify-between"},L={class:"px-2 py-1 text-xs font-bold text-gray-800 bg-gray-100 rounded dark:text-white dark:bg-gray-800"},$={class:"text-[10px] text-gray-400 mt-1"},H={class:"text-[10px] text-red-400 mt-1 font-medium"},z={class:"text-right items-end gap-1.5"},F={class:"flex gap-1"},U={class:"text-sm font-bold text-gray-800 dark:text-gray-200 mt-0.5"},A={class:"flex items-center justify-between"},S={class:"flex gap-2"},T=["onClick"],q=["onClick"],O=["onClick"],P={key:0,class:"py-10 text-sm text-center text-gray-400"},X={__name:"InvoiceMobile",props:{purchase:{type:Array,required:!0},isCheckingMode:{type:Boolean,default:!1},canEditDelete:Boolean,actions:Object},setup(a){const c=a,i=u(!1),g=u(null),m=u(null),v=(o,t)=>{g.value=o,m.value="Invoice-#"+t,i.value=!0},w=_(()=>c.purchase.status!=="diterima"&&c.purchase.status!=="checking"),p=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-",k=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o||0),f=o=>o==="validated"?"bg-teal-50 text-teal-700 border-teal-200":"bg-blue-50 text-blue-700 border-blue-200",C=o=>{switch(o){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";default:return"bg-orange-100 text-orange-800"}};return(o,t)=>(n(),s(h,null,[x(N,{show:i.value,imageUrl:g.value,productName:m.value,onClose:t[0]||(t[0]=r=>i.value=!1)},null,8,["show","imageUrl","productName"]),e("div",V,[e("button",{onClick:t[1]||(t[1]=r=>a.actions.openCreateInvoiceModal()),class:"flex items-center justify-center w-full gap-2 py-3 font-bold transition border-2 border-dashed border-lime-300 dark:border-lime-800 bg-lime-50 dark:bg-lime-900/10 text-lime-700 dark:text-lime-400 rounded-xl hover:bg-lime-100"},[...t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),I(" Buat Nota Baru ",-1)])]),(n(!0),s(h,null,D(a.purchase.invoices,r=>(n(),s("div",{key:r.id,class:"relative p-4 bg-white border border-gray-100 shadow-sm dark:bg-gray-900 rounded-xl dark:border-gray-800"},[e("div",E,[e("div",null,[e("span",L,"#"+l(r.invoice_number),1),e("p",$,l(p(r.invoice_date)),1),e("p",H,l(r.due_date?p(r.due_date):"Tunai"),1)]),e("div",z,[e("div",F,[e("span",{class:y(["text-[9px] px-2 py-0.5 rounded font-bold uppercase border tracking-wider",f(r.status)])},l(r.status),3),e("span",{class:y(["text-[9px] px-2 py-0.5 rounded font-bold uppercase",C(r.payment_status)])},l(r.payment_status),3)]),e("p",U,l(k(r.total_amount)),1)])]),t[7]||(t[7]=e("div",{class:"h-px my-2 bg-gray-100 dark:bg-gray-800"},null,-1)),e("div",A,[e("div",S,[a.canEditDelete?(n(),s("button",{key:0,onClick:b=>a.actions.handleEditInvoice(r),class:"p-2 text-blue-600 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[...t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,T)):d("",!0),a.canEditDelete?(n(),s("button",{key:1,onClick:b=>a.actions.handleDeleteInvoice(r),class:"p-2 text-red-600 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[...t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,q)):d("",!0),r.invoice_image?(n(),s("button",{key:2,onClick:b=>v(r.invoice_url,r.invoice_number),class:"p-2 text-gray-600 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[...t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])],8,O)):d("",!0)]),x(M(j),{href:o.route("purchases.linkInvoiceItems",{purchase:a.purchase.id,invoice:r.id}),class:"flex items-center gap-1 px-4 py-2 text-xs font-bold text-white rounded-lg shadow-sm bg-lime-500 hover:bg-lime-600"},{default:B(()=>[e("span",null,l(w.value?"Detail":"Checking"),1),t[6]||(t[6]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),_:2},1032,["href"])])]))),128)),a.purchase.invoices.length===0?(n(),s("div",P," Belum ada nota. ")):d("",!0)])],64))}};export{X as default};
