import{D as B,l as C,o as I,f as t,e as a,w as b,t as u,n as q,g as l}from"./vendor-core-B46KUNyc.js";import e from"./InfoCard-C_BSxPYG.js";import{u as Q}from"./usePurchaseAnalytics-B78pFBIH.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";const A={class:"space-y-8 dark:bg-gray-800"},F={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},K={class:"space-y-6"},M={class:"p-4 border shadow-lg rounded-xl border-lime-400 bg-gray-50 dark:bg-gray-900"},O={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},R={class:"flex flex-col"},H={class:"font-medium"},P={class:"text-sm text-gray-500"},j={class:"p-4 border shadow-lg rounded-xl border-lime-400 bg-gray-50 dark:bg-gray-900"},V={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},z={class:"flex flex-col h-full gap-6"},E={class:"p-4 border shadow-lg rounded-xl border-lime-400 bg-gray-50 dark:bg-gray-900"},J={class:"grid grid-cols-2 gap-4 sm:grid-cols-3"},X={__name:"HeaderDetail",props:{data:{type:Object,required:!0},mode:{type:String,default:"detail"}},setup(r){const i=r;function g(d){return d?new Date(d).toLocaleDateString("id-ID",{day:"2-digit",month:"numeric",year:"numeric"}):"-"}function n(d){return!d&&d!==0?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d)}const o=B(()=>i.data.received_at),c=(i.data.shipping_cost||0)+(i.data.other_costs||0);(i.data.invoices_sum_total_amount||0)+c;const m=d=>({draft:"bg-gray-100 text-gray-700 border border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700",dipesan:"bg-blue-50 text-blue-700 border border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800",dikirim:"bg-orange-50 text-orange-700 border border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800",diterima:"bg-cyan-50 text-cyan-700 border border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-300 dark:border-cyan-800",checking:"bg-purple-50 text-purple-700 border border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800",selesai:"bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",dibatalkan:"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800"})[d]||"bg-gray-100 text-gray-600 border border-gray-200",{kosong:y,baru_pengganti:v,total_macam_dipesan:p,total_macam_diterima:k,total_qty_dipesan:x,total_qty_diterima:_,total_rupiah_dipesan:f,total_rupiah_diterima:h,total_barang_sesuai:D,macam_harga_naik:w,macam_harga_turun:N,produk_qty_lebih:S,produk_qty_kurang:T}=Q(i.data.items);return(d,s)=>(I(),C("div",A,[t("div",F,[t("div",K,[t("div",M,[s[0]||(s[0]=t("div",{class:"flex justify-between"},[t("h3",{class:"mb-4 text-sm font-semibold text-gray-600 dark:text-gray-300"}," Info Transaksi ")],-1)),t("div",O,[a(e,{label:"Supplier"},{default:b(()=>[t("div",R,[t("span",H,u(r.data.supplier?r.data.supplier.name:"Umum/Cash"),1),t("span",P,u(r.data.supplier?r.data.supplier.address+" | "+r.data.supplier.phone:"-"),1)])]),_:1}),a(e,{label:"Status"},{default:b(()=>[t("span",{class:q(["px-3 py-1 rounded-md text-sm uppercase font-bold border",m(r.data.status)])},u(r.data.status),3)]),_:1}),a(e,{label:"Tanggal Order",value:g(r.data.transaction_date)},null,8,["value"]),a(e,{label:"Tanggal Datang",value:g(r.data.received_at)},null,8,["value"])])]),t("div",j,[s[1]||(s[1]=t("h3",{class:"mb-4 text-sm font-semibold text-gray-600 dark:text-gray-300"}," Ringkasan Keuangan ",-1)),t("div",V,[a(e,{label:"Jumlah Nota",value:o.value?r.data.invoices.length+" Nota":"-"},null,8,["value"]),a(e,{label:"Nilai PO Awal",value:n(l(f)),"format-value":n},null,8,["value"]),a(e,{label:"Nilai Fisik Diterima",value:o.value?n(l(h)):"-","format-value":n,highlight:""},null,8,["value"])])])]),t("div",z,[t("div",E,[s[2]||(s[2]=t("h3",{class:"mb-4 text-sm font-semibold text-gray-600 dark:text-gray-300"}," Analisis Discrepancy (PO vs Fisik Nota) ",-1)),t("div",J,[a(e,{label:"Barang Sesuai Total",value:l(D),type:"success"},null,8,["value"]),a(e,{label:"Macam Dipesan",value:l(p)},null,8,["value"]),a(e,{label:"Macam Diterima",value:o.value?l(k):"-"},null,8,["value"]),a(e,{label:"Qty Total Dipesan",value:l(x)},null,8,["value"]),a(e,{label:"Qty Total Diterima",value:o.value?l(_):"-"},null,8,["value"]),a(e,{label:"Qty Kekurangan",value:r.data.received_at?l(T):"-",type:"danger"},null,8,["value"]),a(e,{label:"Qty Kelebihan",value:r.data.received_at?l(S):"-",type:"warning"},null,8,["value"]),a(e,{label:"Item Kosong (Qty 0)",value:l(y),type:"danger"},null,8,["value"]),a(e,{label:"Harga Naik (Macam)",value:l(w),type:"warning"},null,8,["value"]),a(e,{label:"Harga Turun (Macam)",value:l(N),type:"info"},null,8,["value"]),a(e,{label:"Barang Baru/Substitusi",value:l(v),type:"info"},null,8,["value"]),a(e,{label:"Catatan",value:r.data.notes||"-"},null,8,["value"])])])])])]))}};export{X as default};
