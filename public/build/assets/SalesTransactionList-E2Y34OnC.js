import{v as C,l as s,o as a,e as u,f as t,p as n,F as p,I as D,n as c,t as i,d as B,w as y,g as x,C as k,j as h,y as m}from"./vendor-core-By7Plnkm.js";import{_ as V}from"./DeleteConfirm-D81PCJRC.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";import"./Modal-CAUBCNUq.js";import"./useActionLoading-BREuot5v.js";const j={class:"space-y-3"},I={class:"flex gap-3.5 items-center"},N={class:"flex items-center gap-2"},H={class:"font-bold text-gray-900 dark:text-white text-sm lg:text-base group-hover:text-blue-600 transition-colors"},L={key:0,class:"text-[10px] bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded"},M={key:1,class:"text-[10px] bg-red-100 text-red-600 px-1.5 py-0.5 rounded font-bold"},S={class:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex flex-col gap-0.5"},F={class:"flex items-center gap-1"},$={key:0,class:"text-[10px] text-gray-400 italic"},T={class:"mt-1.5 flex items-center gap-2 text-xs font-medium text-gray-600 dark:text-gray-300"},z={class:"bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded-md"},A={class:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-md"},E={class:"text-right"},R={class:"font-black text-gray-900 dark:text-white text-sm lg:text-lg"},q={class:"flex items-center justify-end gap-2 mt-2"},O=["onClick"],P=["onClick"],Q={key:0,class:"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-2xl border-dashed border-2 border-gray-200 dark:border-gray-700"},Y={__name:"SalesTransactionList",props:{sales:Array},emits:["preview-invoice"],setup(d,{emit:v}){const b=v,f=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o),l=(o,r=!1)=>{const e={day:"numeric",month:"short",year:"numeric"};return r&&(e.hour="2-digit",e.minute="2-digit"),new Date(o).toLocaleDateString("id-ID",e)},g=C(null),w=o=>{g.value.open({title:"Hapus Transaksi?",message:"Stok produk akan dikembalikan. Anda yakin ingin menghapus transaksi ",itemName:o.reference_no,url:route("sales.destroy",o.id)})};return(o,r)=>(a(),s(p,null,[u(V,{ref_key:"deleteConfirm",ref:g,onSuccess:r[0]||(r[0]=e=>o.$emit("refresh"))},null,512),t("div",j,[(a(!0),s(p,null,D(d.sales,e=>(a(),s("div",{key:e.id,class:c(["group relative rounded-2xl p-4 border shadow-sm hover:shadow-md transition-all cursor-pointer",[e.deleted_at?"bg-red-50/50 dark:bg-red-900/10 border-red-200 dark:border-red-900/30":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700"]])},[t("div",{class:c(["flex justify-between items-start gap-3",{"opacity-60 grayscale":e.deleted_at}])},[t("div",I,[r[1]||(r[1]=t("div",{class:"w-10 h-10 lg:w-12 lg:h-12 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 flex items-center justify-center shrink-0"},[t("span",{class:"text-lg lg:text-xl"},"ðŸ§¾")],-1)),t("div",null,[t("div",N,[t("h4",H,i(e.reference_no),1),e.notes?(a(),s("span",L,"Note")):n("",!0),e.deleted_at?(a(),s("span",M,"VOID")):n("",!0)]),t("div",S,[t("span",F," ðŸ“… "+i(l(e.transaction_date)),1),e.updated_at&&e.created_at&&e.updated_at!==e.created_at?(a(),s("div",$," (Diedit: "+i(l(e.updated_at,!0))+") ",1)):n("",!0)]),t("div",T,[t("span",z," ðŸ“¦ "+i(e.items_count||0)+" Item ",1),t("span",A," ðŸ”¢ "+i(parseFloat(e.items_sum_quantity||0))+" Qty ",1)])])]),t("div",E,[t("div",R,i(f(e.total_revenue)),1),t("div",q,[u(x(k),{href:o.route("sales.show",e.id),class:"p-1.5 rounded-full bg-gray-100 text-gray-500 hover:bg-blue-100 hover:text-blue-600 transition dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-blue-900/30 dark:hover:text-blue-400",title:"Lihat Detail Lengkap"},{default:y(()=>[...r[2]||(r[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),t("polyline",{points:"15 3 21 3 21 9"}),t("line",{x1:"10",y1:"14",x2:"21",y2:"3"})],-1)])]),_:2},1032,["href"]),e.deleted_at?n("",!0):(a(),B(x(k),{key:0,href:o.route("sales.edit",e.id),class:"p-1.5 rounded-full bg-gray-100 text-gray-500 hover:bg-yellow-100 hover:text-yellow-600 transition dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-yellow-900/30 dark:hover:text-yellow-400",title:"Edit Transaksi"},{default:y(()=>[...r[3]||(r[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])]),_:2},1032,["href"])),e.deleted_at?n("",!0):(a(),s("button",{key:1,onClick:h(_=>w(e),["stop"]),class:"p-1.5 rounded-full bg-gray-100 text-gray-500 hover:bg-red-100 hover:text-red-600 transition dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-red-900/30 dark:hover:text-red-400",title:"Hapus Transaksi"},[...r[4]||(r[4]=[m('<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>',1)])],8,O)),e.deleted_at?n("",!0):(a(),s("button",{key:2,onClick:h(_=>b("preview-invoice",e),["stop"]),class:"p-1.5 rounded-full bg-gray-100 text-gray-500 hover:bg-orange-100 hover:text-orange-600 transition dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-orange-900/30 dark:hover:text-orange-400",title:"Preview Invoice"},[...r[5]||(r[5]=[m('<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>',1)])],8,P))])])],2)],2))),128)),d.sales.length===0?(a(),s("div",Q,[...r[6]||(r[6]=[t("span",{class:"text-4xl block mb-2"},"ðŸ“­",-1),t("p",{class:"text-gray-500 font-medium"},"Belum ada transaksi pada periode ini.",-1)])])):n("",!0)])],64))}};export{Y as default};
