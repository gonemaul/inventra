import{C as c,q as B,l as n,o as l,f as t,m as x,F as f,H as D,n as g,t as s,e as v,w as p,k as y,g as b,B as w}from"./vendor-core-CTIsLlXR.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";const I=["src"],L={key:1,class:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800 text-gray-300"},V={class:"absolute top-2 left-2 flex flex-col gap-1 pointer-events-none z-10"},$={class:"flex flex-1 items-stretch divide-x divide-gray-50 dark:divide-gray-700"},z={class:"flex-1 p-4 flex flex-col justify-center min-w-[200px]"},E={class:"flex items-center gap-2 mb-1 text-[10px] font-bold uppercase tracking-wider text-gray-400"},F={class:"text-lime-600 dark:text-lime-400 truncate max-w-[100px]"},N={class:"truncate max-w-[100px]"},P={class:"mt-3 flex flex-wrap items-center gap-3"},A={class:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400 font-mono border border-gray-200 dark:border-gray-600"},S={key:0,class:"text-[10px] text-gray-500 dark:text-gray-400 flex items-center gap-1"},T={class:"text-[10px] text-gray-400 italic"},R={class:"w-32 p-4 flex flex-col justify-center items-center bg-gray-50/50 dark:bg-gray-800/50 transition-colors hover:bg-lime-50/30"},q={class:"text-center"},J={class:"text-[10px] text-gray-400 uppercase font-medium"},O={class:"w-48 p-4 flex flex-col justify-center gap-2"},U={class:"text-base font-black text-gray-900 dark:text-white"},G={class:"flex items-center gap-3"},K={class:"text-xs font-semibold text-gray-500 dark:text-gray-400"},Q={class:"text-right flex-1"},W={class:"w-auto p-4 flex items-center justify-center gap-1 pr-6"},_={__name:"ProductCardList",props:{data:Object},emits:["imageClick","delete","restore","forceDelete"],setup(a,{emit:C}){const i=a,u=C,h=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),M=r=>{if(!r)return"-";const e=new Date(r),d=Math.floor((new Date-e)/1e3);return d<60?"Baru saja":d<3600?`${Math.floor(d/60)} menit lalu`:d<86400?`${Math.floor(d/3600)} jam lalu`:d<604800?`${Math.floor(d/86400)} hari lalu`:new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"short",year:"numeric"}).format(e)};c(()=>i.data.insights?.some(r=>r.type==="trend")),c(()=>i.data.insights?.some(r=>r.type==="dead_stock")),c(()=>i.data.insights?.some(r=>r.type==="margin_alert"));const j=c(()=>i.data.insights?.some(e=>e.type==="restock"&&e.severity==="critical")||i.data.stock<=i.data.min_stock),m=B(!1),H=()=>{m.value=!0},k=c(()=>i.data.deleted_at!==null);return(r,e)=>(l(),n("div",{class:g(["relative flex flex-row w-full overflow-hidden transition-all duration-300 bg-white border border-gray-100 shadow-sm group dark:bg-gray-800 rounded-2xl dark:border-gray-700 hover:shadow-xl hover:-translate-y-0.5 hover:border-lime-500/30",{"opacity-60 grayscale":k.value}])},[t("div",{class:"relative w-36 shrink-0 bg-gray-50 dark:bg-gray-900 border-r border-gray-100 dark:border-gray-700 select-none cursor-pointer overflow-hidden",onClick:e[0]||(e[0]=o=>u("imageClick",{path:a.data.image_url,name:a.data.name}))},[m.value?x("",!0):(l(),n("img",{key:0,src:a.data.image_url,loading:"lazy",class:"absolute inset-0 object-cover w-full h-full transition-transform duration-500 hover:scale-110",onError:H},null,40,I)),m.value||!a.data.image_url?(l(),n("div",L,[...e[4]||(e[4]=[t("svg",{class:"w-10 h-10 opacity-50",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])])):x("",!0),t("div",V,[(l(!0),n(f,null,D(a.data.active_badges,o=>(l(),n("span",{key:o.type,class:g(["self-start px-1.5 py-0.5 text-[9px] font-bold uppercase tracking-wider text-white rounded shadow-sm backdrop-blur-sm",o.class])},s(o.label),3))),128))])]),t("div",$,[t("div",z,[t("div",E,[t("span",F,s(a.data.brand?.name),1),e[5]||(e[5]=t("span",null,"â€¢",-1)),t("span",N,s(a.data.category?.name),1)]),v(b(w),{href:r.route("products.show",a.data.slug),class:"text-base font-bold leading-tight text-gray-900 dark:text-gray-100 hover:text-lime-600 dark:hover:text-lime-400 transition-colors line-clamp-2"},{default:p(()=>[y(s(a.data.name),1)]),_:1},8,["href"]),t("div",P,[t("span",A,s(a.data.code),1),a.data.supplier?(l(),n("span",S,[e[6]||(e[6]=t("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),y(" "+s(a.data.supplier?.name),1)])):x("",!0),t("span",T," Updated "+s(M(a.data.updated_at)),1)])]),t("div",R,[e[7]||(e[7]=t("span",{class:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1"},"Stok",-1)),t("div",q,[t("span",{class:g(["text-lg font-bold block leading-none",j.value?"text-red-500":"text-gray-700 dark:text-gray-200"])},s(a.data.stock),3),t("span",J,s(a.data.unit?.name),1)])]),t("div",O,[t("div",null,[e[8]||(e[8]=t("span",{class:"text-[9px] block text-gray-400 uppercase font-bold"},"Harga Jual",-1)),t("span",U,s(h(a.data.selling_price)),1)]),t("div",G,[t("div",null,[e[9]||(e[9]=t("span",{class:"text-[9px] block text-gray-400 uppercase font-bold"},"Modal",-1)),t("span",K,s(h(a.data.purchase_price)),1)]),t("div",Q,[e[10]||(e[10]=t("span",{class:"text-[9px] block text-gray-400 uppercase font-bold"},"Margin",-1)),t("span",{class:g(["text-xs font-bold",a.data.is_margin_low?"text-red-500":"text-green-600"])}," +"+s(a.data.current_margin.percent)+"% ",3)])])]),t("div",W,[k.value?(l(),n(f,{key:1},[t("button",{onClick:e[2]||(e[2]=o=>u("restore",a.data)),class:"p-2 text-lime-600 transition-colors rounded-lg hover:bg-lime-50",title:"Pulihkan"},[...e[13]||(e[13]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])]),t("button",{onClick:e[3]||(e[3]=o=>u("forceDelete",a.data)),class:"p-2 text-red-600 transition-colors rounded-lg hover:bg-red-50",title:"Hapus Permanen"},[...e[14]||(e[14]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])],64)):(l(),n(f,{key:0},[v(b(w),{href:r.route("products.edit",a.data.slug),class:"p-2 text-gray-500 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-lime-600",title:"Edit Produk"},{default:p(()=>[...e[11]||(e[11]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),t("button",{onClick:e[1]||(e[1]=o=>u("delete",a.data)),class:"p-2 text-gray-500 transition-colors rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600",title:"Hapus Produk"},[...e[12]||(e[12]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])],64))])])],2))}};export{_ as default};
