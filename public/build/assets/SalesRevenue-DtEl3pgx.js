import{u as z,C as p,d as D,o as g,w as u,f as t,e as b,g as o,B as j,k as x,y as c,z as y,t as d,X as C,l as m,m as B,F,H as V}from"./vendor-core-CTIsLlXR.js";import{_ as S}from"./AuthenticatedLayout-BfKFT1gl.js";import{u as I}from"./useExport-ZWbXSJP4.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";import"./useSidebar-CS5Wldf6.js";import"./useActionLoading-C7V52Mi3.js";const L={class:"space-y-6"},N={class:"flex flex-col gap-4 mb-4 md:flex-row md:items-center md:justify-between print:hidden"},H={class:"flex items-center gap-2"},M={class:"flex flex-col items-center justify-between p-4 bg-white border border-gray-200 shadow-sm md:flex-row dark:bg-gray-800 rounded-2xl dark:border-gray-700"},O={class:"flex w-full gap-2 md:w-auto"},R={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},P={class:"relative p-5 overflow-hidden text-white shadow-lg bg-gradient-to-r from-blue-600 to-blue-500 rounded-2xl"},E={class:"mt-1 text-3xl font-black"},A={class:"p-5 bg-white border border-gray-200 shadow-sm rounded-2xl dark:bg-gray-800 dark:border-gray-700"},J={class:"mt-1 text-3xl font-black text-gray-800 dark:text-white"},K={class:"p-5 bg-white border border-gray-200 shadow-sm rounded-2xl dark:bg-gray-800 dark:border-gray-700"},U={class:"mt-1 text-3xl font-black text-lime-600"},G={class:"p-6 bg-white border border-gray-200 shadow-lg rounded-2xl dark:bg-gray-800 dark:border-gray-700"},X={class:"w-full"},$={class:"overflow-hidden bg-white border border-gray-200 shadow-sm rounded-2xl dark:bg-gray-800 dark:border-gray-700"},q={class:"overflow-x-auto"},Q={class:"w-full text-sm text-left"},W={class:"divide-y divide-gray-100 dark:divide-gray-700"},Y={class:"px-6 py-3 font-medium text-gray-900 dark:text-white"},Z={class:"px-6 py-3 text-center"},tt={class:"px-2 py-1 text-xs font-bold text-blue-700 bg-blue-100 border border-blue-200 rounded"},et={class:"px-6 py-3 font-black text-right text-lime-600"},rt={key:0},gt={__name:"SalesRevenue",props:{filters:Object,data:Array,summary:Object},setup(s){const l=s,n=z({start_date:l.filters.start_date,end_date:l.filters.end_date}),{exportToCsv:f}=I(),h=()=>{const r=l.data.map(e=>({Tanggal:e.date,"Jumlah Transaksi":e.transaction_count,Omzet:e.revenue}));f("Laporan_Penjualan_Revenue",r)},k=()=>{n.get(route("reports.sales-revenue"),{preserveScroll:!0})},i=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),w=r=>r>=1e6?(r/1e6).toFixed(1)+"jt":r>=1e3?(r/1e3).toFixed(0)+"rb":r,v=p(()=>[{name:"Omzet",data:l.data.map(r=>parseInt(r.revenue))}]),_=p(()=>({chart:{type:"area",height:350,fontFamily:"Inter, sans-serif",toolbar:{show:!1},zoom:{enabled:!1}},colors:["#84cc16"],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.1,stops:[0,90,100]}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},xaxis:{categories:l.data.map(r=>new Date(r.date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})),axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:"#9ca3af",fontSize:"11px"}}},yaxis:{labels:{style:{colors:"#9ca3af",fontSize:"11px"},formatter:r=>w(r)}},grid:{borderColor:"#f3f4f6",strokeDashArray:4,yaxis:{lines:{show:!0}}},tooltip:{theme:"light",y:{formatter:r=>i(r)}}}));return(r,e)=>(g(),D(S,{headerTitle:"Laporan Penjualan (Sales)"},{default:u(()=>[t("div",L,[t("div",N,[t("div",H,[b(o(j),{href:r.route("reports.index"),class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-gray-600 transition bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 hover:text-blue-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:text-white"},{default:u(()=>[...e[2]||(e[2]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),x(" Kembali ",-1)])]),_:1},8,["href"])]),t("div",{class:"flex gap-2"},[t("button",{onClick:h,class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white transition bg-green-600 rounded-lg shadow hover:bg-green-700"},[...e[3]||(e[3]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),x(" Export CSV ",-1)])]),e[4]||(e[4]=t("button",{onclick:"window.print()",class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white transition bg-blue-600 rounded-lg shadow hover:bg-blue-700"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})]),x(" Print ")],-1))])]),t("div",M,[e[6]||(e[6]=t("h3",{class:"mb-3 font-bold text-gray-700 dark:text-gray-200 md:mb-0"}," ðŸ“… Periode Laporan ",-1)),t("div",O,[c(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=a=>o(n).start_date=a),class:"text-sm border-gray-300 rounded-lg dark:bg-gray-700 dark:text-white"},null,512),[[y,o(n).start_date]]),e[5]||(e[5]=t("span",{class:"self-center text-gray-400"},"-",-1)),c(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=a=>o(n).end_date=a),class:"text-sm border-gray-300 rounded-lg dark:bg-gray-700 dark:text-white"},null,512),[[y,o(n).end_date]]),t("button",{onClick:k,class:"px-4 py-2 font-bold text-white transition rounded-lg shadow-md bg-lime-500 hover:bg-lime-600"}," Filter ")])]),t("div",R,[t("div",P,[e[7]||(e[7]=t("p",{class:"text-xs font-bold tracking-widest text-blue-100 uppercase"}," Total Omzet ",-1)),t("h2",E,d(i(s.summary.total_revenue)),1),e[8]||(e[8]=t("div",{class:"absolute bottom-0 right-0 p-3 opacity-20"},[t("svg",{class:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),t("div",A,[e[10]||(e[10]=t("p",{class:"text-xs font-bold tracking-widest text-gray-400 uppercase"}," Total Transaksi ",-1)),t("h2",J,[x(d(s.summary.total_transactions)+" ",1),e[9]||(e[9]=t("span",{class:"text-sm font-medium text-gray-400"},"Nota",-1))])]),t("div",K,[e[11]||(e[11]=t("p",{class:"text-xs font-bold tracking-widest text-gray-400 uppercase"}," Rata-rata per Nota ",-1)),t("h2",U,d(i(s.summary.average_basket_size)),1),e[12]||(e[12]=t("p",{class:"mt-1 text-xs text-gray-400"},"Basket Size",-1))])]),t("div",G,[e[13]||(e[13]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",{class:"text-lg font-bold text-gray-800 dark:text-white"}," Grafik Tren Penjualan "),t("div",{class:"px-2 py-1 text-xs font-bold border rounded text-lime-600 bg-lime-50 border-lime-100"}," Daily Revenue ")],-1)),t("div",X,[b(o(C),{type:"area",height:"350",options:_.value,series:v.value},null,8,["options","series"])])]),t("div",$,[e[17]||(e[17]=t("div",{class:"p-4 border-b border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800"},[t("h3",{class:"font-bold text-gray-800 dark:text-white"}," Rincian Per Hari ")],-1)),t("div",q,[t("table",Q,[e[16]||(e[16]=t("thead",{class:"text-xs text-gray-500 uppercase bg-gray-50 dark:bg-gray-700/50"},[t("tr",null,[t("th",{class:"px-6 py-3"},"Tanggal"),t("th",{class:"px-6 py-3 text-center"}," Jumlah Transaksi "),t("th",{class:"px-6 py-3 text-right"}," Omzet Harian "),t("th",{class:"px-6 py-3 text-center"},"Aksi")])],-1)),t("tbody",W,[(g(!0),m(F,null,V(s.data,(a,T)=>(g(),m("tr",{key:T,class:"hover:bg-gray-50 dark:hover:bg-gray-700/30"},[t("td",Y,d(new Date(a.date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})),1),t("td",Z,[t("span",tt,d(a.transaction_count)+" Nota",1)]),t("td",et,d(i(a.revenue)),1),e[14]||(e[14]=t("td",{class:"px-6 py-3 text-center"},[t("button",{class:"text-xs font-bold text-gray-400 hover:text-blue-600 hover:underline"}," Lihat Detail ")],-1))]))),128)),s.data.length===0?(g(),m("tr",rt,[...e[15]||(e[15]=[t("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-400"}," Tidak ada penjualan pada periode ini. ",-1)])])):B("",!0)])])])])])]),_:1}))}};export{gt as default};
