import{j as _,g as r,o as a,a as u,d as g,h as k,w as f,b as t,t as l,n as d,F as c,m as x,p as j,f as m,i as b,l as C,q as D}from"./app-C_cXePOB.js";import{_ as S}from"./AuthenticatedLayout-DqzYp9rK.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useActionLoading-Bvh_DZn-.js";const T={class:"min-h-screen px-4 py-6 sm:px-6 lg:px-8 bg-gray-50"},z={class:"grid grid-cols-1 gap-6 mb-8 md:grid-cols-12"},B={class:"grid grid-cols-1 gap-4 md:col-span-8 sm:grid-cols-2"},M={class:"relative p-6 overflow-hidden text-white shadow-lg bg-gradient-to-br from-emerald-600 to-green-500 rounded-2xl group"},V={class:"relative z-10"},N={class:"flex items-start justify-between"},A={class:"text-3xl font-bold tracking-tight"},F={class:"flex items-center gap-2 mt-4 text-sm text-green-50"},O={class:"bg-white/20 px-2 py-0.5 rounded text-xs font-bold"},P={class:"flex flex-col justify-between p-6 bg-white border border-gray-100 shadow-sm rounded-2xl"},L={class:"mt-4"},H={class:"inline-block px-2 py-1 text-xs font-medium text-gray-600 bg-gray-100 rounded"},K={class:"relative flex flex-col items-center justify-center p-6 overflow-hidden text-center bg-white border border-gray-100 shadow-sm md:col-span-4 rounded-2xl"},R={class:"relative w-32 h-32"},$={class:"w-full h-full transform -rotate-90"},q=["stroke-dashoffset"],E={class:"absolute top-0 left-0 flex flex-col items-center justify-center w-full h-full"},U={class:"text-4xl font-black text-gray-800"},G={class:"grid grid-cols-1 gap-6 mb-8 lg:grid-cols-3"},J={class:"p-6 bg-white border border-gray-100 shadow-sm lg:col-span-2 rounded-2xl"},Q={class:"flex items-end justify-between h-56 gap-3"},W={class:"absolute -top-10 opacity-0 group-hover:opacity-100 transition bg-gray-900 text-white text-[10px] py-1 px-2 rounded pointer-events-none z-10"},X={class:"mt-3 text-xs font-medium text-gray-400"},Y={class:"flex flex-col h-full bg-white border border-gray-100 shadow-sm rounded-2xl"},Z={class:"flex items-center justify-between p-5 border-b border-gray-100 bg-gray-50/50 rounded-t-2xl"},tt={class:"px-2 py-1 text-xs font-bold text-gray-600 bg-gray-200 rounded-full"},et={class:"p-4 flex-1 overflow-y-auto max-h-[300px] space-y-3 custom-scrollbar"},st=["onClick"],ot={class:"flex gap-3"},lt={class:"mt-1"},rt={key:0,class:"text-xl"},at={key:1,class:"text-xl"},nt={key:2,class:"text-xl"},it={class:"mt-1 text-xs leading-relaxed text-gray-600"},dt={key:0,class:"flex flex-col items-center justify-center h-full py-8 text-center opacity-50"},ct={class:"overflow-hidden bg-white border border-gray-100 shadow-sm rounded-2xl"},ut={class:"flex items-center justify-between p-6 border-b border-gray-100"},xt={class:"overflow-x-auto"},ht={class:"w-full text-sm text-left"},gt={class:"divide-y divide-gray-100"},ft={class:"px-6 py-4 font-medium text-gray-900"},mt={class:"px-6 py-4 text-gray-600"},bt={class:"px-6 py-4 font-bold text-right text-gray-800"},yt={key:0},pt={__name:"Dashboard",props:{stats:Object,health:Object,cashflow:Object,insights:Array,chart_data:Array,recent_sales:Array},setup(o){const y=o,i=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n),p=n=>new Date(n).toLocaleDateString("id-ID",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}),v=_(()=>{const n=Math.max(...y.chart_data.map(e=>e.value));return n===0?1:n}),w=n=>{n&&D.visit(n)};return(n,e)=>(a(),r(c,null,[u(g(k),{title:"Dashboard"}),u(S,null,{default:f(()=>[t("div",T,[t("div",z,[t("div",B,[t("div",M,[t("div",V,[t("div",N,[t("div",null,[e[0]||(e[0]=t("p",{class:"mb-1 text-sm font-medium text-green-100"}," Profit Bersih Hari Ini ",-1)),t("h2",A,l(i(o.stats.profit)),1)]),e[1]||(e[1]=t("div",{class:"p-2 rounded-lg bg-white/20 backdrop-blur-sm"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),t("div",F,[t("span",O,l(o.stats.transactions)+" Transaksi",1),t("span",null,"Omzet: "+l(i(o.stats.revenue)),1)])]),e[2]||(e[2]=t("div",{class:"absolute w-40 h-40 transition duration-700 bg-white rounded-full -right-10 -bottom-10 opacity-10 blur-2xl group-hover:opacity-20"},null,-1))]),t("div",P,[t("div",null,[e[3]||(e[3]=t("p",{class:"mb-1 text-sm font-medium text-gray-500"}," Proyeksi Cashflow (7 Hari) ",-1)),t("h2",{class:d(["text-2xl font-bold tracking-tight",o.cashflow.balance>=0?"text-gray-800":"text-red-600"])},l(i(o.cashflow.balance)),3)]),t("div",L,[e[4]||(e[4]=t("div",{class:"w-full h-2 mb-2 overflow-hidden bg-gray-100 rounded-full"},[t("div",{class:"h-2 bg-blue-500 rounded-full",style:{width:"70%"}})],-1)),t("p",H,l(o.cashflow.message),1)])])]),t("div",K,[e[6]||(e[6]=t("h3",{class:"mb-4 text-xs font-bold tracking-widest text-gray-400 uppercase"}," Skor Kesehatan Toko ",-1)),t("div",R,[(a(),r("svg",$,[e[5]||(e[5]=t("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor","stroke-width":"12",fill:"transparent",class:"text-gray-100"},null,-1)),t("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor","stroke-width":"12",fill:"transparent","stroke-dasharray":351,"stroke-dashoffset":351-351*o.health.score/100,class:d(["transition-all duration-1000 ease-out",o.health.color]),"stroke-linecap":"round"},null,10,q)])),t("div",E,[t("span",U,l(o.health.score),1)])]),t("p",{class:d(["mt-4 text-sm font-bold",o.health.color])},l(o.health.status),3)])]),t("div",G,[t("div",J,[e[8]||(e[8]=t("div",{class:"flex items-center justify-between mb-6"},[t("h3",{class:"font-bold text-gray-800"}," Tren Penjualan Minggu Ini ")],-1)),t("div",Q,[(a(!0),r(c,null,x(o.chart_data,(s,h)=>(a(),r("div",{key:h,class:"relative flex flex-col items-center w-full group"},[t("div",W,l(i(s.value)),1),t("div",{class:"w-full max-w-[40px] bg-blue-50 rounded-t-xl relative overflow-hidden transition-all duration-300 group-hover:bg-blue-100",style:j({height:s.value/v.value*100+"%"})},[...e[7]||(e[7]=[t("div",{class:"absolute bottom-0 w-full h-full transition bg-blue-500 opacity-80 rounded-t-xl group-hover:opacity-100"},null,-1)])],4),t("p",X,l(s.day),1)]))),128))])]),t("div",Y,[t("div",Z,[e[9]||(e[9]=t("h3",{class:"flex items-center gap-2 font-bold text-gray-800"},[t("span",{class:"relative flex w-2 h-2"},[t("span",{class:"absolute inline-flex w-full h-full bg-red-400 rounded-full opacity-75 animate-ping"}),t("span",{class:"relative inline-flex w-2 h-2 bg-red-500 rounded-full"})]),m(" Smart Assistant ")],-1)),t("span",tt,l(o.insights.length),1)]),t("div",et,[(a(!0),r(c,null,x(o.insights,s=>(a(),r("div",{key:s.id,onClick:h=>w(s.action_url),class:d(["relative p-3 overflow-hidden transition-all border cursor-pointer group rounded-xl hover:shadow-md",{"bg-red-50 border-red-100 hover:border-red-300":s.severity==="critical","bg-yellow-50 border-yellow-100 hover:border-yellow-300":s.severity==="warning","bg-blue-50 border-blue-100 hover:border-blue-300":s.severity==="info"}])},[t("div",ot,[t("div",lt,[s.severity==="critical"?(a(),r("span",rt,"ðŸš¨")):s.severity==="warning"?(a(),r("span",at,"âš¡")):(a(),r("span",nt,"ðŸ’¡"))]),t("div",null,[t("h4",{class:d(["text-sm font-bold",s.severity==="critical"?"text-red-800":"text-gray-800"])},l(s.title),3),t("p",it,l(s.message),1),e[10]||(e[10]=t("div",{class:"mt-2 text-[10px] font-bold uppercase tracking-wider opacity-60 group-hover:opacity-100 transition"}," Klik untuk proses â†’ ",-1))])])],10,st))),128)),o.insights.length===0?(a(),r("div",dt,[...e[11]||(e[11]=[t("svg",{class:"w-12 h-12 mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),t("p",{class:"text-sm font-medium"}," Semua aman terkendali ",-1)])])):b("",!0)])])]),t("div",ct,[t("div",ut,[e[13]||(e[13]=t("h3",{class:"font-bold text-gray-800"},"Transaksi Terakhir",-1)),u(g(C),{href:n.route("sales.index"),class:"text-sm font-medium text-blue-600 hover:underline"},{default:f(()=>[...e[12]||(e[12]=[m("Lihat Semua",-1)])]),_:1},8,["href"])]),t("div",xt,[t("table",ht,[e[16]||(e[16]=t("thead",{class:"text-xs font-semibold text-gray-500 uppercase bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-4"},"Tanggal"),t("th",{class:"px-6 py-4"},"Pelanggan"),t("th",{class:"px-6 py-4"},"Status"),t("th",{class:"px-6 py-4 text-right"},"Total")])],-1)),t("tbody",gt,[(a(!0),r(c,null,x(o.recent_sales,s=>(a(),r("tr",{key:s.id,class:"transition hover:bg-gray-50"},[t("td",ft,l(p(s.transaction_date)),1),t("td",mt,l(s.customer_name||"Umum"),1),e[14]||(e[14]=t("td",{class:"px-6 py-4"},[t("span",{class:"px-2 py-1 text-xs font-bold text-green-700 bg-green-100 rounded-full"},"Selesai")],-1)),t("td",bt,l(i(s.total_revenue)),1)]))),128)),o.recent_sales.length===0?(a(),r("tr",yt,[...e[15]||(e[15]=[t("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-400"}," Belum ada transaksi hari ini. ",-1)])])):b("",!0)])])])])])]),_:1})],64))}},jt=I(pt,[["__scopeId","data-v-4d7a279b"]]);export{jt as default};
