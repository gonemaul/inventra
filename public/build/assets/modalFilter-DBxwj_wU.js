import{u as C,c as M,o as a,w as B,b as t,f as F,k as i,d as l,g as n,F as m,q as x,t as g,B as d,A as y,n as v,i as z,s as c}from"./app-OOVJa1pD.js";import{_ as A}from"./Modal-CeAPgi98.js";import{u as j}from"./useActionLoading-1e1XIs5r.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"flex flex-col max-h-[85vh] bg-white dark:bg-gray-800 rounded-xl shadow-xl overflow-hidden"},h={class:"flex items-center justify-between px-6 py-4 border-b border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800"},D={class:"flex-1 p-6 space-y-8 overflow-y-auto custom-scrollbar"},H={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-x-6 gap-y-4"},L=["value"],N=["value"],J=["value"],O=["value"],P={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},K=["value"],R=["value"],Z={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},q={class:"flex gap-2"},E={class:"flex gap-2"},I={class:"flex gap-2"},W={class:"p-4 border border-gray-100 bg-gray-50 dark:bg-gray-700/30 rounded-xl dark:border-gray-600"},G={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Q={class:"sm:col-span-2"},X={class:"flex gap-2"},Y=["value"],ee={class:"flex overflow-hidden bg-white border border-gray-300 rounded-lg dark:bg-gray-700 dark:border-gray-600"},te={class:"flex flex-col-reverse items-center justify-between gap-4 p-5 border-t border-gray-100 sm:flex-row dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800 sm:gap-0"},re={class:"flex w-full gap-3 sm:w-auto"},se=["disabled"],le={key:0,class:"w-4 h-4 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},oe={__name:"modalFilter",props:{show:{type:Boolean,default:!1},filters:Object,dropdowns:Object},emits:["close"],setup(u,{emit:w}){const o=u,k=w,S=[{value:"created_at",label:"Tanggal Dibuat"},{value:"name",label:"Nama Produk"},{value:"stock",label:"Jumlah Stok"},{value:"selling_price",label:"Harga Jual"},{value:"purchase_price",label:"Harga Beli"}],s=C({category_id:o.filters.category_id||"",brand_id:o.filters.brand_id||"",supplier_id:o.filters.supplier_id||"",product_type_id:o.filters.product_type_id||"",unit_id:o.filters.unit_id||"",size_id:o.filters.size_id||"",min_stock:o.filters.stock_min||"",max_stock:o.filters.stock_max||"",min_price:o.filters.price_min||"",max_price:o.filters.price_max||"",min_cost:o.filters.cost_min||"",max_cost:o.filters.cost_max||"",status:o.filters.status||"",trashed:o.filters.trashed||"",sort:o.filters.sort||"created_at",order:o.filters.order||"desc"}),{isActionLoading:b}=j();function _(p){return Object.entries(p).reduce((e,[r,f])=>(f!=null&&f!==""&&(e[r]=f),e),{})}function V(){const e={...o.filters.search?{search:o.filters.search}:{},category_id:s.category_id,brand_id:s.brand_id,supplier_id:s.supplier_id,product_type_id:s.product_type_id,unit_id:s.unit_id,size_id:s.size_id,status:s.status,trashed:s.trashed,sort:s.sort,order:s.order,stock_min:s.min_stock,stock_max:s.max_stock,price_min:s.min_price,price_max:s.max_price,cost_min:s.min_cost,cost_max:s.max_cost},r=_(e);b.value=!0,c.get(route("products.index"),r,{preserveState:!0,replace:!0,onFinish:()=>{b.value=!1,k("close")}})}function U(){const p=o.filters.search?{search:o.filters.search}:{};b.value=!0,c.get(route("products.index"),p,{preserveState:!0,replace:!0,onFinish:()=>{b.value=!1,s.reset(),s.defaults(),k("close")}})}return(p,e)=>(a(),M(A,{show:u.show,onClose:e[19]||(e[19]=r=>p.$emit("close")),maxWidth:"2xl"},{default:B(()=>[t("div",$,[t("div",h,[e[21]||(e[21]=t("div",null,[t("h2",{class:"flex items-center gap-2 text-lg font-bold text-gray-800 dark:text-white"},[t("svg",{class:"w-5 h-5 text-lime-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})]),F(" Filter Lanjutan ")]),t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"}," Saring data produk secara mendetail. ")],-1)),t("button",{onClick:e[0]||(e[0]=r=>p.$emit("close")),class:"text-gray-400 hover:text-red-500 transition p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg"},[...e[20]||(e[20]=[t("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",D,[t("section",null,[e[30]||(e[30]=t("h3",{class:"pb-1 mb-3 text-xs font-bold tracking-wider text-gray-400 uppercase border-b border-gray-100 dark:border-gray-700"}," Klasifikasi Produk ",-1)),t("div",H,[t("div",null,[e[23]||(e[23]=t("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Kategori",-1)),i(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>l(s).category_id=r),class:"form-select"},[e[22]||(e[22]=t("option",{value:""},"Semua Kategori",-1)),(a(!0),n(m,null,x(u.dropdowns.categories,r=>(a(),n("option",{key:r.id,value:r.id},g(r.name),9,L))),128))],512),[[d,l(s).category_id]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Tipe Produk",-1)),i(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>l(s).product_type_id=r),class:"form-select"},[e[24]||(e[24]=t("option",{value:""},"Semua Tipe",-1)),(a(!0),n(m,null,x(u.dropdowns.types,r=>(a(),n("option",{key:r.id,value:r.id},g(r.name),9,N))),128))],512),[[d,l(s).product_type_id]])]),t("div",null,[e[27]||(e[27]=t("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Merk / Brand",-1)),i(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>l(s).brand_id=r),class:"form-select"},[e[26]||(e[26]=t("option",{value:""},"Semua Merk",-1)),(a(!0),n(m,null,x(u.dropdowns.brands,r=>(a(),n("option",{key:r.id,value:r.id},g(r.name),9,J))),128))],512),[[d,l(s).brand_id]])]),t("div",null,[e[29]||(e[29]=t("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Supplier",-1)),i(t("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>l(s).supplier_id=r),class:"form-select"},[e[28]||(e[28]=t("option",{value:""},"Semua Supplier",-1)),(a(!0),n(m,null,x(u.dropdowns.suppliers,r=>(a(),n("option",{key:r.id,value:r.id},g(r.name),9,O))),128))],512),[[d,l(s).supplier_id]])])])]),t("section",null,[e[35]||(e[35]=t("h3",{class:"pb-1 mb-3 text-xs font-bold tracking-wider text-gray-400 uppercase border-b border-gray-100 dark:border-gray-700"}," Spesifikasi Fisik ",-1)),t("div",P,[t("div",null,[e[32]||(e[32]=t("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Satuan (Unit)",-1)),i(t("select",{"onUpdate:modelValue":e[5]||(e[5]=r=>l(s).unit_id=r),class:"form-select"},[e[31]||(e[31]=t("option",{value:""},"Semua Satuan",-1)),(a(!0),n(m,null,x(u.dropdowns.units,r=>(a(),n("option",{key:r.id,value:r.id},g(r.name),9,K))),128))],512),[[d,l(s).unit_id]])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Ukuran (Size)",-1)),i(t("select",{"onUpdate:modelValue":e[6]||(e[6]=r=>l(s).size_id=r),class:"form-select"},[e[33]||(e[33]=t("option",{value:""},"Semua Ukuran",-1)),(a(!0),n(m,null,x(u.dropdowns.sizes,r=>(a(),n("option",{key:r.id,value:r.id},g(r.name),9,R))),128))],512),[[d,l(s).size_id]])])])]),t("section",null,[e[42]||(e[42]=t("h3",{class:"pb-1 mb-3 text-xs font-bold tracking-wider text-gray-400 uppercase border-b border-gray-100 dark:border-gray-700"}," Rentang Nilai ",-1)),t("div",Z,[t("div",null,[e[37]||(e[37]=t("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Jumlah Stok",-1)),t("div",q,[i(t("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=r=>l(s).min_stock=r),placeholder:"Min",class:"px-1 text-center form-input"},null,512),[[y,l(s).min_stock]]),e[36]||(e[36]=t("span",{class:"self-center text-gray-400"},"-",-1)),i(t("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=r=>l(s).max_stock=r),placeholder:"Max",class:"px-1 text-center form-input"},null,512),[[y,l(s).max_stock]])])]),t("div",null,[e[39]||(e[39]=t("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Harga Jual",-1)),t("div",E,[i(t("input",{type:"number","onUpdate:modelValue":e[9]||(e[9]=r=>l(s).min_price=r),placeholder:"Min",class:"px-1 text-center form-input"},null,512),[[y,l(s).min_price]]),e[38]||(e[38]=t("span",{class:"self-center text-gray-400"},"-",-1)),i(t("input",{type:"number","onUpdate:modelValue":e[10]||(e[10]=r=>l(s).max_price=r),placeholder:"Max",class:"px-1 text-center form-input"},null,512),[[y,l(s).max_price]])])]),t("div",null,[e[41]||(e[41]=t("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Harga Beli",-1)),t("div",I,[i(t("input",{type:"number","onUpdate:modelValue":e[11]||(e[11]=r=>l(s).min_cost=r),placeholder:"Min",class:"px-1 text-center form-input"},null,512),[[y,l(s).min_cost]]),e[40]||(e[40]=t("span",{class:"self-center text-gray-400"},"-",-1)),i(t("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=r=>l(s).max_cost=r),placeholder:"Max",class:"px-1 text-center form-input"},null,512),[[y,l(s).max_cost]])])])])]),t("section",W,[t("div",G,[t("div",null,[e[44]||(e[44]=t("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Status Produk",-1)),i(t("select",{"onUpdate:modelValue":e[13]||(e[13]=r=>l(s).status=r),class:"form-select"},[...e[43]||(e[43]=[t("option",{value:""},"Semua Status",-1),t("option",{value:"active"},"Aktif (Tampil)",-1),t("option",{value:"inactive"}," Non-Aktif (Disembunyikan) ",-1)])],512),[[d,l(s).status]])]),t("div",null,[e[46]||(e[46]=t("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Data Terhapus",-1)),i(t("select",{"onUpdate:modelValue":e[14]||(e[14]=r=>l(s).trashed=r),class:"font-medium text-red-600 form-select"},[...e[45]||(e[45]=[t("option",{value:""},"Sembunyikan Sampah",-1),t("option",{value:"with"}," Tampilkan Arsip Sampah ",-1),t("option",{value:"only"}," Hanya Sampah (Recovery) ",-1)])],512),[[d,l(s).trashed]])]),t("div",Q,[e[48]||(e[48]=t("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Urutkan Data",-1)),t("div",X,[i(t("select",{"onUpdate:modelValue":e[15]||(e[15]=r=>l(s).sort=r),class:"flex-1 form-select"},[(a(),n(m,null,x(S,r=>t("option",{key:r.value,value:r.value},g(r.label),9,Y)),64))],512),[[d,l(s).sort]]),t("div",ee,[t("button",{type:"button",onClick:e[16]||(e[16]=r=>l(s).order="asc"),class:v(["px-3 py-2 text-xs font-bold transition hover:bg-lime-50 dark:hover:bg-gray-600",l(s).order==="asc"?"bg-lime-500 text-white hover:bg-lime-600":"text-gray-600 dark:text-gray-300"])}," A-Z ",2),e[47]||(e[47]=t("div",{class:"w-px bg-gray-300 dark:bg-gray-600"},null,-1)),t("button",{type:"button",onClick:e[17]||(e[17]=r=>l(s).order="desc"),class:v(["px-3 py-2 text-xs font-bold transition hover:bg-lime-50 dark:hover:bg-gray-600",l(s).order==="desc"?"bg-lime-500 text-white hover:bg-lime-600":"text-gray-600 dark:text-gray-300"])}," Z-A ",2)])])])])])]),t("div",te,[t("button",{onClick:U,class:"text-xs font-bold text-gray-500 transition border-b border-gray-400 border-dashed hover:text-red-500 hover:border-red-500"}," Reset ke Default "),t("div",re,[t("button",{onClick:e[18]||(e[18]=r=>p.$emit("close")),class:"flex-1 sm:flex-none px-5 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-bold text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition"}," Batal "),t("button",{onClick:V,class:"flex-1 sm:flex-none px-8 py-2.5 rounded-xl bg-lime-500 hover:bg-lime-600 text-white font-bold text-sm shadow-md shadow-lime-200 dark:shadow-none transition flex items-center justify-center gap-2",disabled:l(b)},[l(b)?(a(),n("svg",le,[...e[49]||(e[49]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):z("",!0),e[50]||(e[50]=t("span",null,"Terapkan Filter",-1))],8,se)])])])]),_:1},8,["show"]))}},ue=T(oe,[["__scopeId","data-v-848e7c73"]]);export{ue as default};
