import{C as d,Z as f,_ as h}from"./vendor-core-BhnropoY.js";function g(o){const l=d(()=>f(o)?o.value:o),e=n=>parseFloat(n)||0,c=d(()=>{const n=l.value||[];let a={kosong:0,baru_pengganti:0,total_macam_dipesan:0,total_macam_diterima:0,total_qty_dipesan:0,total_qty_diterima:0,total_rupiah_dipesan:0,total_rupiah_diterima:0,total_barang_sesuai:0,macam_harga_naik:0,macam_harga_turun:0,produk_qty_lebih:0,produk_qty_kurang:0};return n.forEach(r=>{const u=r.product_snapshot||{},t=e(u.quantity),_=e(u.purchase_price),i=e(r.quantity),s=e(r.purchase_price);a.total_qty_dipesan+=t,a.total_qty_diterima+=i,a.total_rupiah_dipesan+=t*_,r.purchase_invoice_id&&(a.total_rupiah_diterima+=i*s),t===0&&i>0&&(a.baru_pengganti+=1),t>0&&(a.total_macam_dipesan+=1,i===0&&(a.kosong+=1)),i>0&&(a.total_macam_diterima+=1),i>t?a.produk_qty_lebih+=i-t:i<t&&(a.produk_qty_kurang+=t-i);const p=i===t&&t>0,m=s===_;p&&(s>_?a.macam_harga_naik+=1:s<_&&(a.macam_harga_turun+=1)),p&&m&&(a.total_barang_sesuai+=1)}),a});return{...h(c.value),analytics:c}}export{g as u};
