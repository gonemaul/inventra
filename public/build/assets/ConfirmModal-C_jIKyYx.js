import{_ as B}from"./Modal-CeAPgi98.js";import{D as N}from"./DangerButton-C3yXGm0L.js";import{_ as L}from"./SecondaryButton-34kUvxFC.js";import{y as V,x as t,c as $,o as i,w as u,b as a,g as m,i as j,t as c,f as h,a as x,d as g,s as D}from"./app-OOVJa1pD.js";import{u as M}from"./useActionLoading-1e1XIs5r.js";const S={class:"p-6"},T={class:"mb-4 text-xl font-bold text-red-600"},E={class:"mb-4 text-gray-700 dark:text-gray-300"},K={key:0,class:"mb-6 text-lg font-semibold"},U={class:"text-red-700 dark:text-red-400"},F={class:"flex justify-end gap-3 mt-4"},I={key:0},P={key:1},J={__name:"ConfirmModal",emits:["close","success"],setup(R,{expose:y,emit:b}){const{isActionLoading:o}=M(),p=V(),r=t(!1),_=t("Konfirmasi Aksi"),v=t("Anda yakin ingin melanjutkan aksi ini?"),d=t(""),n=t(""),f=t("post"),k=t({});y({open:s=>{_.value=s.title||"Konfirmasi Penghapusan",v.value=s.message||"Anda yakin ingin menghapus data ini?",d.value=s.itemName||"",n.value=s.url||"",f.value=s.method||"post",k.value=s.data||{},r.value=!0}});const C=()=>{r.value=!1,l("close")},w=()=>{if(!n.value){p.error("URL aksi tidak terdefinisi.");return}o.value=!0;const s=f.value.toLowerCase();D[s](n.value,k.value||{},{preserveScroll:!0,only:["flash","purchases","filters"],onSuccess:()=>{C(),l("close")},onError:e=>{p.error(e.message||"Terjadi kesalahan saat menghapus data.")},onFinish:()=>{o.value=!1,n.value=""}})},l=b;return(s,e)=>(i(),$(B,{show:r.value,onClose:e[1]||(e[1]=A=>l("close")),maxWidth:"md"},{default:u(()=>[a("div",S,[a("h3",T,c(_.value),1),a("p",E,c(v.value),1),d.value?(i(),m("p",K,[e[2]||(e[2]=h(" Item: ",-1)),a("span",U,c(d.value),1)])):j("",!0),a("div",F,[x(L,{onClick:e[0]||(e[0]=A=>l("close")),type:"button"},{default:u(()=>[...e[3]||(e[3]=[h(" Batal ",-1)])]),_:1}),x(N,{onClick:w,disabled:g(o)},{default:u(()=>[g(o)?(i(),m("span",I,"Memproses...")):(i(),m("span",P,"Ya"))]),_:1},8,["disabled"])])])]),_:1},8,["show"]))}};export{J as _};
