import{m as u,g as r,o as n,a as p,d as _,h as k,w as q,b as e,i as D,t as o,f as x,F as v,y as T,k as g,B as h,j as C}from"./app-Cde9GbA4.js";import{_ as F}from"./AuthenticatedLayout-lJ7tg5Vh.js";import P from"./AddManualModal-DvrgNDP-.js";import V from"./AddOrderModal-j6dbcqLf.js";import"./useActionLoading-DxcsvJ2v.js";import"./Modal-ClSYSUje.js";const z={class:"container p-4 mx-auto md:p-8"},A={class:"p-6 mb-6 bg-white rounded-lg shadow-md"},M={class:"mb-4 text-2xl font-bold text-gray-800"},S={class:"grid grid-cols-1 gap-4 text-gray-600 md:grid-cols-2"},U={class:"font-semibold text-green-600"},$={class:"p-6 bg-white rounded-lg shadow-md"},N={class:"flex items-center justify-between mb-4"},I={class:"space-x-2"},L={key:0,class:"py-8 text-center text-gray-500"},B={key:1,class:"overflow-x-auto"},E={class:"min-w-full divide-y divide-gray-200"},O={class:"bg-white divide-y divide-gray-200"},R={class:"px-6 py-4 whitespace-nowrap"},j={class:"text-sm font-medium text-gray-900"},H={class:"text-xs text-gray-500"},Q={class:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap"},W={class:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap"},G={class:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap"},J=["onUpdate:modelValue"],K={class:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap"},X=["onUpdate:modelValue"],Y={class:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap"},Z={class:"px-6 py-4 text-sm font-semibold text-green-600 whitespace-nowrap"},ee={class:"px-6 py-4 text-sm font-medium text-right whitespace-nowrap"},te=["onClick"],le={__name:"checking",setup(se){const c=u(!1),m=u(!1),a=u({number:"INV-001",po_number:"PO-2025-001",date:"22-09-2025",supplier:"PT Maju Terus",status:"Diterima",photo:"https://via.placeholder.com/600x400",products:[]});let l=u([{id:1,name:"Laptop ASUS ROG",category:"Elektronik",size:"15 inch",unit:"Unit",ordered_quantity:2,ordered_price:15e6},{id:2,name:'Monitor Dell 27"',category:"Elektronik",size:"27 inch",unit:"Unit",ordered_quantity:1,ordered_price:5e6},{id:3,name:"Mouse Logitech",category:"Aksesoris",size:"Wireless",unit:"Unit",ordered_quantity:3,ordered_price:5e5}]);const y=d=>{d.forEach(t=>{const s={...t,category:t.category||"",size:t.size||"",ordered_quantity:t.ordered_quantity||t.quantity||1,ordered_price:t.ordered_price||0,received_quantity:t.received_quantity||t.quantity||1,invoice_price:t.invoice_price||0,status:"Diterima"},i=C(()=>({...s,total:s.received_quantity*s.invoice_price||0}));a.value.products.push(i.value),s.source==="Pesanan"&&(l.value=l.value.filter(b=>b.id!==s.id))})},f=d=>{const t=a.value.products.find(s=>s.id===d);t&&(t.source==="Pesanan"&&l.value.push({id:t.id,name:t.name,category:t.category,size:t.size,unit:t.unit,ordered_quantity:t.ordered_quantity,ordered_price:t.ordered_price}),a.value.products=a.value.products.filter(s=>s.id!==d))},w=()=>{window.open(a.value.photo,"_blank")};return(d,t)=>(n(),r(v,null,[p(_(k),{title:"Detail Invoice"}),p(F,{headerTitle:"Detail Invoice",showSidebar:!1},{default:q(()=>[e("div",z,[e("div",A,[e("h1",M," Detail Faktur #"+o(a.value.number),1),e("div",S,[e("div",null,[e("p",null,[t[4]||(t[4]=e("strong",null,"Nomor Pesanan:",-1)),x(" "+o(a.value.po_number),1)]),e("p",null,[t[5]||(t[5]=e("strong",null,"Tanggal Faktur:",-1)),x(" "+o(a.value.date),1)])]),e("div",null,[e("p",null,[t[6]||(t[6]=e("strong",null,"Pemasok:",-1)),x(" "+o(a.value.supplier),1)]),e("p",null,[t[7]||(t[7]=e("strong",null,"Status:",-1)),e("span",U,o(a.value.status),1)])])]),a.value.photo?(n(),r("button",{key:0,onClick:w,class:"mt-4 text-blue-600 hover:text-blue-800"}," Lihat Foto Faktur ")):D("",!0)]),e("div",$,[e("div",N,[t[8]||(t[8]=e("h2",{class:"text-xl font-semibold"},"Produk dalam Faktur",-1)),e("div",I,[e("button",{onClick:t[0]||(t[0]=s=>c.value=!0),class:"px-4 py-2 text-white bg-blue-500 rounded"}," + Tambah dari Pesanan "),e("button",{onClick:t[1]||(t[1]=s=>m.value=!0),class:"px-4 py-2 text-white bg-green-500 rounded"}," + Tambah Manual ")])]),a.value.products.length===0?(n(),r("div",L," Belum ada produk di faktur ini. ")):(n(),r("div",B,[e("table",E,[t[9]||(t[9]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Nama Produk "),e("th",{class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Qty Pesan "),e("th",{class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Harga Pesan "),e("th",{class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Qty Diterima "),e("th",{class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Harga Invoice "),e("th",{class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Total "),e("th",{class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Status "),e("th",{class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Aksi")])])],-1)),e("tbody",O,[(n(!0),r(v,null,T(a.value.products,s=>(n(),r("tr",{key:s.id},[e("td",R,[e("div",j,o(s.name),1),e("div",H,o(s.category)+" - "+o(s.size)+" - "+o(s.unit),1)]),e("td",Q,o(s.ordered_quantity),1),e("td",W," Rp"+o(s.ordered_price.toLocaleString("id-ID")),1),e("td",G,[g(e("input",{type:"number","onUpdate:modelValue":i=>s.received_quantity=i,class:"w-20 px-2 py-1 text-center border rounded"},null,8,J),[[h,s.received_quantity,void 0,{number:!0}]])]),e("td",K,[g(e("input",{type:"number","onUpdate:modelValue":i=>s.invoice_price=i,class:"w-24 px-2 py-1 text-center border rounded"},null,8,X),[[h,s.invoice_price,void 0,{number:!0}]])]),e("td",Y," Rp"+o(s.total.toLocaleString("id-ID")),1),e("td",Z,o(s.status),1),e("td",ee,[e("button",{onClick:i=>f(s.id),class:"text-red-600 hover:text-red-900"}," Hapus ",8,te)])]))),128))])])]))])]),p(V,{show:c.value,"products-from-order":_(l),onClose:t[2]||(t[2]=s=>c.value=!1),onAddProducts:y},null,8,["show","products-from-order"]),p(P,{show:m.value,onClose:t[3]||(t[3]=s=>m.value=!1),onAddProducts:y},null,8,["show"])]),_:1})],64))}};export{le as default};
