import{u as B}from"./usePurchaseAnalytics-CMDF5Y0v.js";import{B as C}from"./BottomSheet-D-oFX2bz.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{x as j,g as M,o as N,b as e,a as s,t as i,f as F,p as H,w as T,d as a,J as V,F as z,K as g}from"./app-B5O1DEgc.js";const I={class:"p-4 space-y-4 bg-white border border-gray-100 shadow-sm dark:bg-gray-900 rounded-xl dark:border-gray-800"},K={class:"flex items-start justify-between mb-3"},A={class:"text-lg font-bold leading-tight text-lime-600 dark:text-lime-400"},O={class:"text-xs text-gray-500 mt-0.5"},P={class:"grid grid-cols-2 gap-3 bg-gray-50 dark:bg-gray-800 p-2.5 rounded-lg border border-gray-100 dark:border-gray-700"},q={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},Q={class:"pl-3 border-l border-gray-200 dark:border-gray-700"},$={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},J={class:"p-3 border rounded-lg bg-lime-50 dark:bg-lime-900/10 border-lime-100 dark:border-lime-900/30"},L={class:"flex flex-col gap-2"},R={class:"flex items-center justify-between p-3 border border-gray-100 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},W={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},E={class:"flex items-center justify-between p-3 border border-gray-100 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},G={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},U={class:"flex items-center justify-between p-3 bg-white border border-l-4 rounded-lg dark:bg-lime-900/10 border-lime-100 dark:border-lime-900/30 border-l-lime-500"},X={class:"text-sm font-bold text-lime-700 dark:text-lime-400"},Y={class:""},Z={class:"grid grid-cols-3 gap-2"},ee={class:"flex flex-col justify-center col-span-1 p-2 border border-gray-100 rounded bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},ae={class:"text-xs font-medium truncate"},l=V({props:["label","value","isDanger","isWarning","isSuccess","isSubtle"],setup(r){let d="text-gray-800 dark:text-gray-200",n="bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700";return r.isDanger?(d="text-red-600",n="bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-800"):r.isWarning?(d="text-orange-600",n="bg-orange-50 dark:bg-orange-900/20 border-orange-100 dark:border-orange-800"):r.isSuccess?(d="text-green-600",n="bg-green-50 dark:bg-green-900/20 border-green-100 dark:border-green-800"):r.isSubtle&&(d="text-gray-400"),()=>g("div",{class:`p-2 rounded border ${n} flex flex-col justify-between min-h-[50px]`},[g("span",{class:"text-[9px] text-gray-400 leading-tight mb-1"},r.label),g("span",{class:`text-sm font-bold leading-none ${d}`},r.value||"-")])}}),te={__name:"HeadMobile",props:{purchase:Object},setup(r){const d=r,n=j(!1),u=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o||0),b=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",{kosong:c,baru_pengganti:y,total_macam_dipesan:f,total_macam_diterima:k,total_qty_dipesan:h,total_qty_diterima:w,total_barang_sesuai:_,macam_harga_naik:x,macam_harga_turun:m,produk_qty_lebih:p,produk_qty_kurang:v}=B(d.purchase.items);return(o,t)=>(N(),M(z,null,[e("div",I,[e("div",null,[e("div",K,[e("div",null,[t[2]||(t[2]=e("p",{class:"text-[10px] text-gray-400 uppercase tracking-wider font-semibold"}," Supplier ",-1)),e("h3",A,i(r.purchase.supplier?.name),1),e("p",O,i(r.purchase.supplier?.address)+" | "+i(r.purchase.supplier?.phone),1)])]),e("div",P,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-[10px] text-gray-400 mb-0.5"}," Tanggal Order ",-1)),e("p",q,i(b(r.purchase.transaction_date)),1)]),e("div",Q,[t[4]||(t[4]=e("p",{class:"text-[10px] text-gray-400 mb-0.5"}," Tanggal Datang ",-1)),e("p",$,i(r.purchase.received_at?b(r.purchase.received_at):"-"),1)])])]),e("div",J,[t[8]||(t[8]=e("h4",{class:"text-[10px] font-bold text-lime-700 dark:text-lime-400 uppercase tracking-wide mb-2 flex items-center gap-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a1 1 0 100-2 1 1 0 000 2z"})]),F(" Ringkasan Keuangan ")],-1)),e("div",L,[e("div",R,[t[5]||(t[5]=e("span",{class:"text-xs font-semibold tracking-wide text-gray-500 uppercase"},"Jml Nota",-1)),e("span",W,i(r.purchase.invoices?.length||"-"),1)]),e("div",E,[t[6]||(t[6]=e("span",{class:"text-xs font-semibold tracking-wide text-gray-500 uppercase"},"Nilai PO",-1)),e("span",G,i(u(r.purchase.total_item_price)),1)]),e("div",U,[t[7]||(t[7]=e("span",{class:"text-xs font-semibold tracking-wide uppercase text-lime-700 dark:text-lime-400"},"Fisik Diterima",-1)),e("span",X,i(u(o.receivedAmount)||"-"),1)])])]),e("button",{onClick:t[0]||(t[0]=D=>n.value=!0),class:"w-full bg-white dark:bg-gray-900 rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-800 flex justify-between items-center group active:scale-[0.99] transition"},[...t[9]||(t[9]=[H('<div class="flex items-center gap-3" data-v-f0046ce8><div class="flex items-center justify-center w-10 h-10 text-blue-600 rounded-full bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400" data-v-f0046ce8><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-f0046ce8><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-f0046ce8></path></svg></div><div class="text-left" data-v-f0046ce8><h4 class="text-sm font-bold text-gray-800 dark:text-gray-100" data-v-f0046ce8> Analisis Discrepancy </h4><p class="text-[10px] text-gray-500" data-v-f0046ce8> Klik untuk melihat detail perbandingan PO vs Fisik </p></div></div><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-400 transition group-hover:text-blue-500" viewBox="0 0 20 20" fill="currentColor" data-v-f0046ce8><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" data-v-f0046ce8></path></svg>',2)])])]),s(C,{show:n.value,onClose:t[1]||(t[1]=D=>n.value=!1),title:"Analisis Detail (PO vs Fisik)"},{default:T(()=>[e("div",Y,[e("div",Z,[s(a(l),{label:"Barang Sesuai",value:a(_)},null,8,["value"]),s(a(l),{label:"Macam Dipesan",value:a(f)},null,8,["value"]),s(a(l),{label:"Macam Diterima",value:a(k),"is-subtle":""},null,8,["value"]),s(a(l),{label:"Qty Total Pesan",value:a(h)},null,8,["value"]),s(a(l),{label:"Qty Total Terima",value:a(w),"is-subtle":""},null,8,["value"]),s(a(l),{label:"Qty Kekurangan",value:a(v),"is-danger":a(v)>0},null,8,["value","is-danger"]),s(a(l),{label:"Qty Kelebihan",value:a(p),"is-warning":a(p)>0},null,8,["value","is-warning"]),s(a(l),{label:"Item Kosong",value:a(c),"is-danger":a(c)>0},null,8,["value","is-danger"]),s(a(l),{label:"Harga Naik",value:a(x),"is-warning":a(x)>0},null,8,["value","is-warning"]),s(a(l),{label:"Harga Turun",value:a(m),"is-success":a(m)>0},null,8,["value","is-success"]),s(a(l),{label:"Barang Baru",value:a(y)},null,8,["value"]),e("div",ee,[t[10]||(t[10]=e("span",{class:"text-[9px] text-gray-400 leading-tight"},"Catatan",-1)),e("span",ae,i(r.purchase.notes||"-"),1)])]),t[11]||(t[11]=e("p",{class:"text-center text-[10px] text-gray-400 mt-6"}," Data ini diperbarui otomatis berdasarkan input nota kedatangan. ",-1))])]),_:1},8,["show"])],64))}},ne=S(te,[["__scopeId","data-v-f0046ce8"]]);export{ne as default};
