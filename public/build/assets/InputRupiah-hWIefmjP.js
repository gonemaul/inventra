import{q as f,U as g,J as y,l as w,o as h,f as x,V as _,g as I}from"./vendor-core-BhnropoY.js";const V={class:"relative w-full"},v=["value"],k=Object.assign({inheritAttrs:!1},{__name:"InputRupiah",props:{modelValue:[Number,String],max:{type:[Number,String],default:null}},emits:["update:modelValue"],setup(u,{emit:i}){const r=u,c=i,l=f(""),m=g(),o=e=>e===""||e===null||e===void 0||isNaN(e)?"":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),p=e=>{let a=e.target.value.replace(/[^0-9]/g,"");a.startsWith("0")&&(a=a.replace(/^0+/,""));let t=a===""?null:parseInt(a);if(r.max&&t!==null&&t>parseInt(r.max)&&(t=parseInt(r.max)),t!==null){const n=o(t);l.value=n,e.target.value!==n&&(e.target.value=n)}else l.value="";c("update:modelValue",t)},d=e=>{const s=["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"];(e.ctrlKey||e.metaKey)&&["a","c","v","x"].includes(e.key.toLowerCase())||s.includes(e.key)||/^[0-9]$/.test(e.key)||e.preventDefault()};return y(()=>r.modelValue,e=>{l.value=o(e)},{immediate:!0}),(e,s)=>(h(),w("div",V,[x("input",_({type:"text",inputmode:"numeric",value:l.value,onInput:p,onKeydown:d},e.$attrs,{class:["w-full py-3 pl-4 pr-4 border border-gray-300 rounded-lg shadow-sm focus:border-green-500 focus:ring-green-500 transition-all duration-200 placeholder-gray-400 text-gray-900","text-right",I(m).class]}),null,16,v)]))}});export{k as _};
