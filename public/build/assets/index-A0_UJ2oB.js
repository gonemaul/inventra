const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BarcodeScanner-D-4995_2.js","assets/vendor-scanner-DjT4WSI1.js","assets/vendor-common-BBegFRNv.js","assets/vendor-core-PGoj2oEu.js","assets/vendor-charts-Bw6UNgWf.js","assets/vendor-core-DnojJsHo.css","assets/BarcodeScanner-D58Opl3T.css"])))=>i.map(i=>d[i]);
import{_ as se}from"./app-X2KXb4KG.js";import{G as oe,E as u,u as re,K as ne,a as le,H as ie,a1 as de,p as x,l as g,o as m,e as A,d as ue,m as k,f as t,g as i,i as ce,L as me,w as W,x as ge,q as Z,I as ee,W as pe,n as Y,F as X,C as te,t as p,B as ye,k as ae}from"./vendor-core-PGoj2oEu.js";import"./vendor-scanner-DjT4WSI1.js";import"./vendor-common-BBegFRNv.js";import ve from"./ConfirmSubmit-BS5voR_d.js";import{B as fe}from"./BottomSheet-BwLNYbxn.js";import he from"./Cart-pIQUIymV.js";import"./vendor-charts-Bw6UNgWf.js";import"./Modal-DpJx3Yf4.js";/* empty css                                                                    */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./MoneyInput-DlGwSRxK.js";function be(S){const y=oe(),T="POS_REALTIME_DRAFT_V3",q=u(""),w=u("all"),f=u([]),j=u(!1),M=u(8),v=u(""),F=u([]),R=u(!1),_=u(null);u(null),u(!1),u("single");const B=u(null),s=re({input_type:"realtime",report_date:new Date().toISOString().slice(0,10),items:[],customer_id:null,payment_amount:0,change_amount:0,payment_method:"cash",discount_type:"fixed",discount_value:0,notes:""});ne(async()=>{j.value=!0;try{const o=await le.get(route("sales.products.lite"));f.value=o.data}catch(o){console.error("Gagal load produk:",o),y.error("Gagal memuat database produk")}finally{j.value=!1}const e=localStorage.getItem(T);if(e)try{const o=JSON.parse(e);o.items&&(s.items=o.items),s.payment_amount=o.payment_amount||0,s.payment_method=o.payment_method||"cash",s.notes=o.notes||"",s.discount_type=o.discount_type||"fixed",s.discount_value=o.discount_value||0,o.selectedMember&&(_.value=o.selectedMember,s.customer_id=o.selectedMember.id)}catch{localStorage.removeItem(T)}}),ie([()=>s.items,()=>s.customer_id,()=>s.payment_amount,()=>s.discount_value,()=>s.notes],()=>{localStorage.setItem(T,JSON.stringify({items:s.items,customer_id:s.customer_id,payment_amount:s.payment_amount,payment_method:s.payment_method,notes:s.notes,discount_type:s.discount_type,discount_value:s.discount_value,selectedMember:_.value}))},{deep:!0});const V=e=>{const o=S.products.find(l=>l.code==e);if(o){if(o.stock<=0){y.warning(`Stok produk "${o.name}" habis!`);return}return o}else y.warning(`Produk tidak ditemukan (Kode: ${e})`)},N=e=>{const o=S.customers.find(l=>l.member_code==code||l.phone==code);o?n(o):alert("member tidak ada")};de(()=>{B.value&&B.value.isScanning&&B.value.stop()});const Q=x(()=>{let e=f.value;if(w.value!=="all"&&(e=e.filter(o=>o.category_id===w.value)),q.value){const o=q.value.toLowerCase();e=e.filter(l=>l.name.toLowerCase().includes(o)||l.code.toLowerCase().includes(o))}return e.slice(0,M.value)}),E=()=>{M.value<f.value.length&&(M.value+=20)};x(()=>{if(!v){F.value=[];return}if(v.value){const e=v.value.toLowerCase();result=S.customers.filter(o=>o.name.toLowerCase().includes(e)||o.code.toLowerCase().includes(e))}F.value=result.slice(0,5)});const h=x(()=>s.items.reduce((e,o)=>e+(parseFloat(o.subtotal)||0),0)),P=x(()=>{const e=parseFloat(s.discount_value)||0;if(e<=0)return 0;if(s.discount_type==="percent"){const o=e>100?100:e;return Math.round(h.value*o/100)}return e>h.value?h.value:e}),b=x(()=>{const e=h.value-P.value,o=e>0?e:0;return o===0&&(s.payment_amount=0,s.discount_value=0),o}),C=x(()=>(parseFloat(s.payment_amount)||0)-b.value),$=x(()=>s.payment_method!=="cash"&&s.payment_method!==""?!0:(parseFloat(s.payment_amount)||0)>=b.value),H=x(()=>s.items.some(e=>e.quantity<=0||isNaN(e.quantity))),I=x(()=>{const e=b.value;if(e<=0)return[];const o=[{label:"Uang Pas",value:e}];if([2e3,5e3,1e4,2e4,5e4,1e5].forEach(c=>{c>e&&!o.find(J=>J.value===c)&&o.push({label:r(c),value:c})}),e>5e4){const c=Math.ceil(e/5e4)*5e4;o.find(J=>J.value===c)||o.push({label:r(c),value:c})}return o.slice(0,4)}),d=e=>{s.payment_amount=e.value},O=()=>{s.payment_amount=0},U=e=>{if(parseFloat(e.stock)<=0){y.error("Stok habis!");return}const o=s.items.find(l=>l.product_id===e.id);if(o){if(o.quantity+1>e.stock){y.warning("Stok maksimal!");return}o.quantity++,z(o)}else{const l=parseFloat(e.selling_price||e.price);s.items.push({product_id:e.id,code:e.code,name:e.name,unit:e.unit,stock_max:parseFloat(e.stock),image:e.image_path,selling_price:l,original_price:l,quantity:1,subtotal:l})}},L=e=>s.items.splice(e,1),K=(e,o)=>{const l=s.items[e],c=parseFloat(l.quantity)+o;if(c>l.stock_max){y.warning(`Stok sisa ${l.stock_max}`);return}if(c<=0){confirm("Hapus item ini?")&&L(e);return}l.quantity=c,z(l)},z=e=>{e.unit?.is_decimal===1||(e.quantity=Math.round(e.quantity),e.quantity<1&&(e.quantity=1)),e.quantity>e.stock_max&&(e.quantity=e.stock_max,y.warning(`Stok sisa ${e.stock_max}`)),e.subtotal=Math.round(e.quantity*e.selling_price)},D=e=>{const o=parseFloat(e.subtotal)||0,l=parseFloat(e.selling_price)||0;if(!(l<=0))if(e.unit?.is_decimal===1){let c=o/l;c>e.stock_max&&(c=e.stock_max,e.subtotal=Math.round(c*l),y.warning("Melebihi sisa stok!")),e.quantity=parseFloat(c.toFixed(4))}else confirm(`‚ö†Ô∏è Ubah harga satuan agar sesuai total Rp ${r(o)}?`)?e.quantity>0&&(e.selling_price=Math.round(o/e.quantity)):e.subtotal=Math.round(e.quantity*e.selling_price)},G=e=>{e.subtotal=Math.round(e.quantity*e.selling_price)},n=e=>{_.value=e,s.customer_id=e.id,F.value=[],v.value=""},a=(e=!1,o={})=>{s.change_amount=C.value,s.payment_amount=parseFloat(s.payment_amount),s.transform(l=>({...l,print_invoice:e})).post(route("sales.pos.store"),{onStart:o.onStart,onFinish:o.onFinish,onSuccess:l=>{localStorage.removeItem(T),s.reset(),s.items=[],_.value=null,o.onSuccess&&o.onSuccess(l)},onError:l=>{console.error(l),y.error("Gagal memproses transaksi")}})},r=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e);return{form:s,allProducts:f,filteredProducts:Q,isFetchingData:j,queryProduk:V,queryMember:N,searchQuery:q,selectedCategory:w,loadMoreProducts:E,memberSearch:v,memberSearchResults:F,isLoadingMember:R,selectedMember:_,selectMember:n,removeMember:()=>{_.value=null,s.customer_id=null},subTotal:h,discountAmount:P,grandTotal:b,changeAmount:C,isPaymentSufficient:$,hasInvalidQty:H,moneySuggestions:I,addItem:U,removeItem:L,updateQty:K,recalcFromQty:z,recalcFromSubtotal:D,recalcFromPrice:G,handleMoneyClick:d,resetPayment:O,submitTransaction:a,rp:r}}const xe={class:"flex flex-col lg:flex-row h-[100dvh] w-full bg-gray-100 dark:bg-gray-900 overflow-hidden font-sans transition-colors duration-300"},ke={class:"relative flex flex-col flex-1 h-full overflow-hidden"},we={class:"z-10 flex items-center gap-3 px-4 py-3 bg-white border-b shadow-sm shrink-0 dark:bg-gray-800 dark:border-gray-700"},_e={class:"relative flex-1"},Ce={key:0,class:"absolute right-11 top-3.5 flex items-center gap-2"},Me={class:"px-4 py-2 overflow-x-auto bg-white border-b shadow-sm shrink-0 dark:bg-gray-800 dark:border-gray-700 whitespace-nowrap scrollbar-hide"},Se=["onClick"],qe={class:"grid grid-cols-2 gap-3 pb-20 md:grid-cols-3 lg:grid-cols-4"},je=["onClick"],Fe={class:"relative w-full overflow-hidden bg-gray-100 aspect-square dark:bg-gray-700"},Be=["src"],Pe={key:1,class:"absolute z-10 top-2 right-2"},$e={class:"bg-gray-900/70 backdrop-blur text-white text-[10px] font-bold px-2 py-1 rounded-lg shadow-sm"},Ie={key:2,class:"absolute z-10 top-2 left-2"},Te={class:"bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-lg shadow-sm animate-pulse"},He={class:"p-3 flex flex-col h-[85px] justify-between"},Le={class:"text-xs font-bold leading-snug text-gray-800 sm:text-sm dark:text-gray-100 line-clamp-2"},ze={class:"flex items-end justify-between mt-1"},Ae={class:"flex flex-col"},De={class:"text-[13px] sm:text-[15px] font-black text-lime-600 dark:text-lime-400 leading-none"},Re={key:0,class:"py-10 text-center"},Ve={key:1,class:"flex flex-col items-center justify-center px-4 py-16 text-center animate-fade-in"},Ne={key:2,class:"py-4 text-center text-[10px] text-gray-400"},Qe={key:0,class:"absolute z-30 lg:hidden bottom-4 left-4 right-4"},Ee={class:"flex items-center gap-3"},Oe={class:"flex items-center justify-center text-xs font-bold text-white rounded-full shadow-sm bg-lime-500 dark:bg-white dark:text-lime-700 w-7 h-7"},Ue={class:"flex flex-col items-start leading-none gap-0.5"},Ke={class:"text-lg font-bold"},Ge={class:"space-y-6"},Je={class:"flex items-center gap-4 pb-4 border-b border-gray-100 dark:border-gray-800"},We={class:"flex items-center justify-center text-lg font-bold text-gray-400 bg-gray-100 border border-gray-200 w-14 h-14 dark:bg-gray-800 rounded-xl dark:border-gray-700 shrink-0"},Ye={class:"flex-1 min-w-0"},Xe={class:"text-lg font-bold leading-tight text-gray-800 truncate dark:text-white"},Ze={class:"flex items-center justify-between mt-1"},et={class:"text-xs text-gray-500 font-mono bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded"},tt={class:"bg-gray-50 dark:bg-gray-800/50 p-1.5 rounded-2xl border border-gray-200 dark:border-gray-700"},at={class:"flex items-center justify-between"},ot=["disabled"],st={class:"flex-1 px-2 text-center"},rt={class:"flex items-center justify-between p-4 bg-white border border-gray-100 shadow-sm dark:bg-gray-900 dark:border-gray-800 rounded-xl"},nt={class:"font-bold text-gray-600 dark:text-gray-300"},lt={class:"text-right"},it={class:"text-2xl font-black text-gray-900 dark:text-white"},dt={key:0,class:"px-3 py-2 text-xs font-bold text-center text-red-600 border border-red-100 rounded-lg bg-red-50"},ut={class:"flex gap-3 h-14"},_t={__name:"index",props:{categories:Array,customers:Array},setup(S){const y=me(()=>se(()=>import("./BarcodeScanner-D-4995_2.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),q=be(S),{form:w,filteredProducts:f,isFetchingData:j,searchQuery:M,selectedCategory:v,loadMoreProducts:F,queryMember:R,queryProduk:_,addItem:B,grandTotal:s,changeAmount:V,isPaymentSufficient:N,hasInvalidQty:Q,submitTransaction:E,rp:h}=q,P=oe(),b=u(!1),C=u(!1),$=u(!1),H=u(!1),I=u("product"),d=u({id:null,name:"",code:"",price:0,quantity:1,stock:0,unit:"Pcs",image:null}),O=n=>{console.log(n),d.value={id:n.id,name:n.name,code:n.code,image_url:n.image_url,price:parseFloat(n.selling_price||n.price||0),quantity:1,stock:parseInt(n.stock||0),unit:n.unit?.name||"Pcs"},H.value=!0},U=n=>{const{scrollTop:a,clientHeight:r,scrollHeight:e}=n.target;a+r>=e-50&&F()},L=()=>{I.value="product",C.value=!0},K=()=>{I.value="member",C.value=!0},z=n=>{C.value=!1,alert("scan berhasil :"+n),I.value=="product"?(n=_(n),O(n)):I.value=="member"&&(n=R(n))},D=(n=!1)=>{B(d),n&&L()},G=n=>{if(w.items.length===0)return P.error("Keranjang kosong!");if(Q.value)return P.error("Qty tidak valid!");if(w.payment_method==="cash"&&!N.value)return P.error("Uang kurang!");E(n,{onSuccess:a=>{$.value=!1,b.value=!1;const r=a.props.flash?.print_url;n&&r?setTimeout(()=>{window.open(r,"_blank","width=300,height=600")},50):n&&!r&&alert("Gagal mendapatkan URL Print dari server.")}})};return(n,a)=>(m(),g(X,null,[A(i(ce),{title:"Kasir POS"}),A(ve,{showConfirmModal:$.value,changeAmount:i(V),onClose:a[0]||(a[0]=r=>$.value=!1),onConfirmTransaction:G},null,8,["showConfirmModal","changeAmount"]),C.value?(m(),ue(i(y),{key:0,onResult:z,onClose:a[1]||(a[1]=r=>C.value=!1)})):k("",!0),t("div",xe,[t("div",ke,[t("div",we,[A(i(ge),{href:n.route("dashboard"),class:"p-2 rounded-lg bg-lime-50 dark:bg-gray-700 text-lime-700 dark:text-lime-400"},{default:W(()=>[...a[15]||(a[15]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1},8,["href"]),t("div",_e,[Z(t("input",{"onUpdate:modelValue":a[2]||(a[2]=r=>pe(M)?M.value=r:null),type:"text",placeholder:"Cari Nama / Kode...",class:"w-full pl-9 pr-10 py-2.5 bg-gray-100 dark:bg-gray-900 border-none rounded-xl focus:ring-2 focus:ring-lime-500 text-sm dark:text-white transition-all shadow-inner"},null,512),[[ee,i(M)]]),a[18]||(a[18]=t("span",{class:"absolute text-gray-400 left-3 top-3"},"üîç",-1)),i(j)?(m(),g("div",Ce,[...a[16]||(a[16]=[t("span",{class:"text-[10px] text-gray-400 italic"},"Syncing...",-1),t("span",{class:"relative flex w-2 h-2"},[t("span",{class:"absolute inline-flex w-full h-full rounded-full opacity-75 animate-ping bg-lime-400"}),t("span",{class:"relative inline-flex w-2 h-2 rounded-full bg-lime-500"})],-1)])])):k("",!0),t("button",{onClick:a[3]||(a[3]=r=>L()),class:"absolute right-1.5 top-1.5 p-1 bg-white dark:bg-gray-700 rounded-lg shadow-sm text-gray-600 dark:text-gray-200 hover:text-lime-600 hover:bg-lime-50 transition border border-gray-200 dark:border-gray-600",title:"Scan Produk"},[...a[17]||(a[17]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])])])]),t("div",Me,[t("button",{onClick:a[4]||(a[4]=r=>v.value="all"),class:Y([i(v)==="all"?"bg-lime-500 text-white shadow-lime-500/40":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600","px-5 py-2 mr-2 text-xs font-bold transition-all rounded-full active:scale-95"])}," Semua ",2),(m(!0),g(X,null,te(S.categories,r=>(m(),g("button",{key:r.id,onClick:e=>v.value=r.id,class:Y([i(v)===r.id?"bg-lime-500 text-white shadow-lime-500/40":"bg-gray-50 dark:bg-gray-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600","px-5 py-2 mr-2 text-xs font-bold transition-all rounded-full active:scale-95"])},p(r.name),11,Se))),128))]),t("div",{class:"h-[calc(100vh-220px)] flex-1 p-4 overflow-y-auto bg-gray-100 custom-scroll pb-28 lg:pb-4 dark:bg-gray-900",onScroll:U},[t("div",qe,[(m(!0),g(X,null,te(i(f),r=>(m(),g("div",{key:r.id,onClick:e=>i(B)(r),class:"relative overflow-hidden transition-all bg-white border border-gray-200 shadow-sm cursor-pointer group dark:bg-gray-800 rounded-xl dark:border-gray-700 hover:shadow-md hover:border-lime-500 active:scale-95"},[t("div",Fe,[r.image_path?(m(),g("img",{key:0,src:r.image_url,loading:"lazy",decoding:"async",alt:"",class:"absolute inset-0 z-10 object-cover w-full h-full transition-opacity duration-500 opacity-0",onload:"this.classList.remove('opacity-0')",onerror:"this.style.display='none'"},null,8,Be)):k("",!0),a[19]||(a[19]=t("div",{class:"flex flex-col items-center justify-center w-full h-full text-gray-500 bg-gray-300 dark:text-gray-700 dark:bg-gray-400"},[t("svg",{class:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),t("span",{class:"text-[9px] font-bold mt-1 opacity-50"},"NO IMG")],-1)),r.unit?(m(),g("div",Pe,[t("span",$e,p(r.unit.name),1)])):k("",!0),r.stock<=5?(m(),g("div",Ie,[t("span",Te," Sisa "+p(parseFloat(r.stock)),1)])):k("",!0),a[20]||(a[20]=t("div",{class:"absolute inset-0 z-20 flex items-center justify-center transition-opacity opacity-0 bg-lime-500/20 group-hover:opacity-100"},[t("div",{class:"p-2 text-white transition-transform duration-300 scale-0 rounded-full shadow-lg bg-lime-500 group-hover:scale-110"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])])],-1))]),t("div",He,[t("h3",Le,p(r.name),1),t("div",ze,[t("div",Ae,[t("span",De,p(i(h)(r.selling_price||r.price)),1)]),a[21]||(a[21]=t("div",{class:"text-gray-300 transition-colors group-hover:text-lime-500"},[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))])])],8,je))),128))]),i(j)&&i(f).length===0?(m(),g("div",Re,[...a[22]||(a[22]=[t("div",{class:"w-8 h-8 mx-auto mb-2 border-b-2 rounded-full animate-spin border-lime-500"},null,-1),t("span",{class:"text-xs text-gray-400"},"Memuat database produk...",-1)])])):i(f).length===0?(m(),g("div",Ve,[a[24]||(a[24]=ye('<div class="relative mb-6"><div class="flex items-center justify-center w-24 h-24 rounded-full shadow-inner bg-gray-50 dark:bg-gray-800"><svg class="w-12 h-12 text-gray-300 dark:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><div class="absolute -top-2 -right-2 bg-white dark:bg-gray-700 rounded-full p-1.5 shadow-md border border-gray-100 dark:border-gray-600"><div class="p-1 rounded-full bg-lime-100 dark:bg-lime-900/50"><svg class="w-5 h-5 text-lime-500 dark:text-lime-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01"></path></svg></div></div></div><h3 class="mb-2 text-lg font-bold text-gray-900 dark:text-white"> Produk tidak ditemukan </h3><p class="max-w-xs mx-auto mb-6 text-sm leading-relaxed text-gray-500 dark:text-gray-400"> Kami tidak dapat menemukan produk dengan kata kunci atau kategori tersebut. </p>',3)),t("button",{onClick:a[5]||(a[5]=r=>{n.search="",v.value="all"}),class:"inline-flex items-center gap-2 px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 hover:border-lime-500 hover:text-lime-600 dark:hover:border-lime-500 dark:hover:text-lime-400 shadow-sm hover:shadow-md"},[...a[23]||(a[23]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),ae(" Reset Pencarian ",-1)])])])):k("",!0),i(f).length>0&&i(f).length%20===0?(m(),g("div",Ne," Scroll untuk memuat lebih banyak... ")):k("",!0)],32),i(w).items.length>0?(m(),g("div",Qe,[t("button",{onClick:a[6]||(a[6]=r=>b.value=!0),class:"w-full bg-gray-900 dark:bg-lime-600 text-white p-3.5 rounded-2xl shadow-xl shadow-gray-900/20 flex justify-between items-center animate-bounce-subtle"},[t("div",Ee,[t("span",Oe,p(i(w).items.reduce((r,e)=>r+parseFloat(e.quantity),0)),1),t("div",Ue,[a[25]||(a[25]=t("span",{class:"text-[9px] text-gray-400 dark:text-lime-100 uppercase font-bold tracking-wider"},"Total Belanja",-1)),t("span",Ke,p(i(h)(i(s))),1)])]),a[26]||(a[26]=t("span",{class:"flex items-center gap-1 px-4 py-2 text-xs font-bold bg-gray-700 dark:bg-lime-800/30 rounded-xl"},[ae(" Bayar "),t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})])],-1))])])):k("",!0)]),A(he,{showMobileCart:b.value,reprops:i(q),onOpenScanMember:K,onShowBayar:a[7]||(a[7]=r=>$.value=!0),onShowDesktop:a[8]||(a[8]=r=>b.value=!1)},null,8,["showMobileCart","reprops"])]),A(fe,{show:H.value,onClose:a[14]||(a[14]=r=>H.value=!1),title:"Tambah Pesanan"},{footer:W(()=>[t("div",ut,[t("button",{onClick:a[12]||(a[12]=r=>D(!1)),class:"flex-1 font-bold transition border text-lime-700 bg-lime-100 border-lime-200 rounded-xl active:bg-lime-200 dark:bg-lime-800 dark:text-lime-300 dark:border-lime-700"}," Masuk Keranjang "),t("button",{onClick:a[13]||(a[13]=r=>D(!0)),class:"flex-[1.3] bg-gray-900 text-white font-bold rounded-xl shadow-xl flex items-center justify-center gap-2 active:scale-[0.98] transition hover:bg-gray-800 dark:bg-white dark:text-gray-900"},[...a[32]||(a[32]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})],-1),t("span",null,"Scan Lagi",-1)])])])]),default:W(()=>[t("div",Ge,[t("div",Je,[t("div",We,p(d.value.name?.substring(0,2).toUpperCase()),1),t("div",Ye,[t("h3",Xe,p(d.value.name),1),t("div",Ze,[t("p",et,p(d.value.code),1),t("p",{class:Y(["text-xs font-medium",3>d.value.stock?"text-red-500":"text-gray-400"])}," Stok: "+p(d.value.stock),3)])])]),t("div",tt,[t("div",at,[t("button",{onClick:a[9]||(a[9]=r=>d.value.quantity>1?d.value.quantity--:null),class:"flex items-center justify-center text-gray-500 transition bg-white border border-gray-200 shadow-sm w-14 h-14 dark:bg-gray-800 rounded-xl dark:border-gray-600 active:scale-95 hover:text-red-500 disabled:opacity-50",disabled:d.value.quantity<=1},[...a[27]||(a[27]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,ot),t("div",st,[a[28]||(a[28]=t("label",{class:"block text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-0.5"},"Jumlah Beli",-1)),Z(t("input",{"onUpdate:modelValue":a[10]||(a[10]=r=>d.value.quantity=r),type:"number",class:"w-full p-0 text-3xl font-black text-center text-gray-800 bg-transparent border-none dark:text-white focus:ring-0"},null,512),[[ee,d.value.quantity,void 0,{number:!0}]])]),t("button",{onClick:a[11]||(a[11]=r=>d.value.quantity++),class:"flex items-center justify-center text-white transition shadow-lg w-14 h-14 bg-lime-500 rounded-xl shadow-lime-500/30 active:scale-95"},[...a[29]||(a[29]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])])])]),t("div",rt,[t("div",null,[a[30]||(a[30]=t("p",{class:"text-xs text-gray-400"},"Harga Satuan",-1)),t("p",nt,p(i(h)(d.value.price)),1)]),t("div",lt,[a[31]||(a[31]=t("p",{class:"text-xs font-bold text-gray-400 uppercase"}," Subtotal ",-1)),t("p",it,p(i(h)(d.value.price*d.value.quantity)),1)])]),d.value.quantity>d.value.stock?(m(),g("div",dt," ‚ö†Ô∏è Jumlah melebihi sisa stok ("+p(d.value.stock)+") ",1)):k("",!0)])]),_:1},8,["show"])],64))}};export{_t as default};
