import{u as y,D as k,l as v,o as _,e as i,g as d,i as C,w as u,f as t,C as N,k as b,z as p,A as x,t as l,n as j,m as B,F as T}from"./vendor-core-By7Plnkm.js";import{_ as V}from"./AuthenticatedLayout-BlgKae2S.js";import{u as D}from"./useExport-ZWbXSJP4.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";import"./useSidebar-CpEDRVzi.js";import"./useActionLoading-BREuot5v.js";const I={class:"space-y-6"},K={class:"flex flex-col gap-4 mb-4 md:flex-row md:items-center md:justify-between print:hidden"},U={class:"flex items-center gap-2"},F={class:"flex justify-end gap-2 p-3 bg-white shadow-sm dark:bg-gray-800 rounded-xl"},M={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},S={class:"p-6 bg-white border-l-4 border-green-500 shadow-sm dark:bg-gray-800 rounded-2xl"},O={class:"text-2xl font-black text-green-600"},z={class:"p-6 bg-white border-l-4 border-red-500 shadow-sm dark:bg-gray-800 rounded-2xl"},A={class:"text-2xl font-black text-red-600"},P={class:"text-3xl font-black"},E={class:"mt-1 text-xs"},H={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},R={class:"p-6 bg-white border border-gray-200 shadow-sm dark:bg-gray-800 rounded-2xl dark:border-gray-700"},L={class:"p-6 bg-white border border-gray-200 shadow-sm dark:bg-gray-800 rounded-2xl dark:border-gray-700"},$={class:"space-y-4 text-sm"},q={class:"flex justify-between pb-2 border-b border-gray-100 dark:border-gray-700"},G={class:"font-bold text-green-600"},J={class:"flex justify-between pb-2 border-b border-gray-100 dark:border-gray-700"},Q={class:"font-bold text-red-500"},W={class:"flex justify-between pb-2 border-b border-gray-100 dark:border-gray-700"},X={class:"font-bold text-red-500"},ot={__name:"CashFlow",props:{filters:Object,data:Object},setup(s){const a=s,n=y({start_date:a.filters.start_date,end_date:a.filters.end_date}),c=()=>n.get(route("reports.cash-flow"),{preserveScroll:!0}),r=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o),{exportToCsv:m}=D(),h=()=>{const o=[{Item:"Total Uang Masuk",Nilai:a.data.cash_in},{Item:" - Dari Penjualan",Nilai:a.data.breakdown.sales},{Item:"Total Uang Keluar",Nilai:a.data.cash_out},{Item:" - Bayar Supplier",Nilai:a.data.breakdown.supplier_payment},{Item:" - Biaya Operasional",Nilai:a.data.breakdown.expenses},{Item:"Net Cashflow",Nilai:a.data.net_flow}];m("Laporan_Arus_Kas",o)},f={chart:{type:"bar",height:350,toolbar:{show:!1}},colors:["#10b981","#ef4444"],plotOptions:{bar:{borderRadius:8,distributed:!0}},xaxis:{categories:["Uang Masuk","Uang Keluar"]},dataLabels:{formatter:o=>r(o)},legend:{show:!1}},w=k(()=>[{name:"Total",data:[a.data.cash_in,a.data.cash_out]}]);return(o,e)=>(_(),v(T,null,[i(d(C),{title:"Laporan Arus Kas"}),i(V,{headerTitle:"Arus Kas (Cashflow)"},{default:u(()=>[t("div",I,[t("div",K,[t("div",U,[i(d(N),{href:o.route("reports.index"),class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-gray-600 transition bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 hover:text-blue-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:text-white"},{default:u(()=>[...e[2]||(e[2]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),b(" Kembali ",-1)])]),_:1},8,["href"])]),t("div",{class:"flex gap-2"},[t("button",{onClick:h,class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white transition bg-green-600 rounded-lg shadow hover:bg-green-700"},[...e[3]||(e[3]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),b(" Export CSV ",-1)])]),e[4]||(e[4]=t("button",{onclick:"window.print()",class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white transition bg-blue-600 rounded-lg shadow hover:bg-blue-700"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})]),b(" Print ")],-1))])]),t("div",F,[p(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=g=>d(n).start_date=g),class:"text-sm border-gray-300 rounded-lg dark:bg-gray-700"},null,512),[[x,d(n).start_date]]),p(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=g=>d(n).end_date=g),class:"text-sm border-gray-300 rounded-lg dark:bg-gray-700"},null,512),[[x,d(n).end_date]]),t("button",{onClick:c,class:"px-4 text-sm font-bold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700"}," Cek ")]),t("div",M,[t("div",S,[e[5]||(e[5]=t("p",{class:"text-xs font-bold text-gray-400 uppercase"}," Total Uang Masuk ",-1)),t("h3",O,l(r(s.data.cash_in)),1)]),t("div",z,[e[6]||(e[6]=t("p",{class:"text-xs font-bold text-gray-400 uppercase"}," Total Uang Keluar ",-1)),t("h3",A,l(r(s.data.cash_out)),1)]),t("div",{class:j(["p-6 text-white shadow-lg rounded-2xl",s.data.net_flow>=0?"bg-blue-600":"bg-orange-500"])},[e[7]||(e[7]=t("p",{class:"text-xs font-bold uppercase opacity-80"}," Net Cashflow ",-1)),t("h3",P,l(r(s.data.net_flow)),1),t("p",E,l(s.data.net_flow>=0?"Surplus (Positif)":"Defisit (Negatif)"),1)],2)]),t("div",H,[t("div",R,[e[8]||(e[8]=t("h3",{class:"mb-4 font-bold dark:text-white"}," Visualisasi Arus Kas ",-1)),i(d(B),{type:"bar",height:"300",options:f,series:w.value},null,8,["series"])]),t("div",L,[e[12]||(e[12]=t("h3",{class:"mb-4 font-bold dark:text-white"},"Rincian",-1)),t("ul",$,[t("li",q,[e[9]||(e[9]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Penjualan Tunai/DP",-1)),t("span",G,"+ "+l(r(s.data.breakdown.sales)),1)]),t("li",J,[e[10]||(e[10]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Bayar Supplier",-1)),t("span",Q,"- "+l(r(s.data.breakdown.supplier_payment)),1)]),t("li",W,[e[11]||(e[11]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Biaya Operasional",-1)),t("span",X,"- "+l(r(s.data.breakdown.expenses)),1)])])])])])]),_:1})],64))}};export{ot as default};
