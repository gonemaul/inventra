import{_ as f}from"./AuthenticatedLayout-BlgKae2S.js";import{l as n,o as l,e as i,g as c,i as w,w as p,f as t,C as v,k as u,t as s,p as _,F as m,I as B,n as b}from"./vendor-core-By7Plnkm.js";import{u as T}from"./useExport-ZWbXSJP4.js";import"./useSidebar-CpEDRVzi.js";import"./useActionLoading-BREuot5v.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";const H={class:"space-y-6"},S={class:"flex flex-col gap-4 mb-4 md:flex-row md:items-center md:justify-between print:hidden"},j={class:"flex items-center gap-2"},C={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},D={class:"flex items-center justify-between p-6 bg-white border border-gray-200 shadow-sm rounded-2xl dark:bg-gray-800 dark:border-gray-700"},V={class:"mt-1 text-3xl font-black text-gray-800 dark:text-white"},I={class:"mt-1 text-xs text-gray-500"},z={class:"flex items-center justify-between p-6 border border-red-200 shadow-sm bg-red-50 rounded-2xl dark:bg-red-900/20 dark:border-red-800"},L={class:"mt-1 text-3xl font-black text-red-600 dark:text-red-400"},M={class:"overflow-hidden bg-white border border-gray-200 shadow-sm rounded-2xl dark:bg-gray-800 dark:border-gray-700"},E={class:"overflow-x-auto"},N={class:"w-full text-sm text-left"},A={class:"divide-y divide-gray-100 dark:divide-gray-700"},F={class:"px-6 py-3"},J={class:"font-bold text-gray-800 dark:text-white"},K={class:"px-6 py-3"},P={class:"font-bold text-gray-800 dark:text-white"},$={class:"text-xs text-gray-500"},O={class:"px-6 py-3 text-right text-gray-500"},R={class:"px-6 py-3 text-right text-green-600"},q={class:"px-6 py-3 font-black text-right text-red-600 bg-red-50/50 dark:bg-red-900/10"},G={class:"px-6 py-3 text-center"},Q={key:0},rt={__name:"AccountsPayable",props:{invoices:Array,summary:Object},setup(o){const h=o,d=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),x=r=>new Date(r).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),{exportToCsv:y}=T(),k=()=>{const r=h.invoices.map(e=>({"Jatuh Tempo":x(e.due_date),"No Invoice":e.invoice_number,Supplier:e.supplier_name,"Total Tagihan":e.total_amount,"Sudah Bayar":e.paid_amount,"Sisa Hutang":e.remaining_amount,Status:e.status}));y("Laporan_Hutang",r)},g=r=>r>0?{text:`Telat ${r} Hari`,class:"bg-red-100 text-red-700 border-red-200 animate-pulse"}:r===0?{text:"Jatuh Tempo Hari Ini",class:"bg-orange-100 text-orange-700 border-orange-200"}:{text:`${Math.abs(r)} Hari Lagi`,class:"bg-green-100 text-green-700 border-green-200"};return(r,e)=>(l(),n(m,null,[i(c(w),{title:"Buku Hutang Dagang"}),i(f,{headerTitle:"Buku Hutang (Accounts Payable)"},{default:p(()=>[t("div",H,[t("div",S,[t("div",j,[i(c(v),{href:r.route("reports.index"),class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-gray-600 transition bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 hover:text-blue-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:text-white"},{default:p(()=>[...e[0]||(e[0]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),u(" Kembali ",-1)])]),_:1},8,["href"])]),t("div",{class:"flex gap-2"},[t("button",{onClick:k,class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white transition bg-green-600 rounded-lg shadow hover:bg-green-700"},[...e[1]||(e[1]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),u(" Export CSV ",-1)])]),e[2]||(e[2]=t("button",{onclick:"window.print()",class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white transition bg-blue-600 rounded-lg shadow hover:bg-blue-700"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})]),u(" Print ")],-1))])]),t("div",C,[t("div",D,[t("div",null,[e[3]||(e[3]=t("p",{class:"text-xs font-bold tracking-widest text-gray-400 uppercase"}," Total Kewajiban Hutang ",-1)),t("h2",V,s(d(o.summary.total_debt)),1),t("p",I,s(o.summary.count)+" Invoice Belum Lunas ",1)]),e[4]||(e[4]=t("div",{class:"p-3 bg-gray-100 rounded-full dark:bg-gray-700"},[t("svg",{class:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))]),t("div",z,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-xs font-bold tracking-widest text-red-600 uppercase dark:text-red-400"}," Lewat Jatuh Tempo (Overdue) ",-1)),t("h2",L,s(d(o.summary.overdue_debt)),1),e[6]||(e[6]=t("p",{class:"mt-1 text-xs text-red-500"},"Segera Lunasi!",-1))]),e[7]||(e[7]=t("div",{class:"p-3 bg-red-100 rounded-full dark:bg-red-800"},[t("svg",{class:"w-8 h-8 text-red-600 dark:text-red-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),t("div",M,[e[11]||(e[11]=t("div",{class:"flex items-center justify-between p-4 border-b bg-gray-50/50 dark:border-gray-700 dark:bg-gray-800"},[t("h3",{class:"font-bold text-gray-800 dark:text-white"}," Daftar Tagihan Supplier "),t("button",{class:"text-xs font-bold text-blue-600 hover:underline"}," Download Excel ")],-1)),t("div",E,[t("table",N,[e[10]||(e[10]=t("thead",{class:"text-xs text-gray-500 uppercase bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3"},"Jatuh Tempo"),t("th",{class:"px-6 py-3"},"Invoice & Supplier"),t("th",{class:"px-6 py-3 text-right"}," Total Tagihan "),t("th",{class:"px-6 py-3 text-right"}," Sudah Bayar "),t("th",{class:"px-6 py-3 font-bold text-right text-red-600"}," Sisa Hutang "),t("th",{class:"px-6 py-3 text-center"},"Status")])],-1)),t("tbody",A,[(l(!0),n(m,null,B(o.invoices,a=>(l(),n("tr",{key:a.id,class:"transition hover:bg-gray-50 dark:hover:bg-gray-700/50"},[t("td",F,[t("div",J,s(x(a.due_date)),1),t("span",{class:b(["inline-block mt-1 px-2 py-0.5 rounded text-[10px] font-bold uppercase border shadow-sm",g(a.days_overdue).class])},s(g(a.days_overdue).text),3)]),t("td",K,[t("div",P,s(a.invoice_number),1),t("div",$,s(a.supplier_name),1)]),t("td",O,s(d(a.total_amount)),1),t("td",R,s(d(a.paid_amount)),1),t("td",q,s(d(a.remaining_amount)),1),t("td",G,[t("span",{class:b(["px-2 py-1 text-xs font-bold uppercase rounded",a.status==="partial"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"])},s(a.status),3),e[8]||(e[8]=t("button",{class:"block w-full mt-2 text-[10px] text-blue-600 hover:underline"}," Bayar Sekarang ",-1))])]))),128)),o.invoices.length===0?(l(),n("tr",Q,[...e[9]||(e[9]=[t("td",{colspan:"6",class:"px-6 py-12 text-center"},[t("div",{class:"flex flex-col items-center justify-center text-green-500"},[t("svg",{class:"w-12 h-12 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("h3",{class:"text-lg font-bold text-gray-800 dark:text-white"}," Tidak Ada Hutang! "),t("p",{class:"text-sm text-gray-500"}," Semua tagihan supplier sudah lunas. Keuangan sehat. ")])],-1)])])):_("",!0)])])])])])]),_:1})],64))}};export{rt as default};
