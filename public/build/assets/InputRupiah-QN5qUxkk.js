import{t as g}from"./vendor-common-GpUWqhKr.js";import{q as y,U as w,C as h,J as x,l as _,o as v,f as I,V}from"./vendor-core-B1zCOcYd.js";const D={class:"relative w-full"},k=["value"],b=Object.assign({inheritAttrs:!1},{__name:"InputRupiah",props:{modelValue:[Number,String],max:{type:[Number,String],default:null}},emits:["update:modelValue"],setup(u,{emit:i}){const r=u,c=i,l=y(""),m=w(),p=h(()=>g("w-full py-3 pl-4 pr-4 border border-gray-300 rounded-lg shadow-sm focus:border-lime-500 focus:ring-lime-500 transition-all duration-200 placeholder-gray-400 text-gray-900 text-right",m.class)),n=e=>e===""||e===null||e===void 0||isNaN(e)?"":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),d=e=>{let a=e.target.value.replace(/[^0-9]/g,"");a.startsWith("0")&&(a=a.replace(/^0+/,""));let t=a===""?null:parseInt(a);if(r.max&&t!==null&&t>parseInt(r.max)&&(t=parseInt(r.max)),t!==null){const o=n(t);l.value=o,e.target.value!==o&&(e.target.value=o)}else l.value="";c("update:modelValue",t)},f=e=>{const s=["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"];(e.ctrlKey||e.metaKey)&&["a","c","v","x"].includes(e.key.toLowerCase())||s.includes(e.key)||/^[0-9]$/.test(e.key)||e.preventDefault()};return x(()=>r.modelValue,e=>{l.value=n(e)},{immediate:!0}),(e,s)=>(v(),_("div",D,[I("input",V({type:"text",inputmode:"numeric",value:l.value,onInput:d,onKeydown:f},{...e.$attrs,class:null},{class:p.value}),null,16,k)]))}});export{b as _};
