import{v as B,D as w,l as s,o as i,f as t,e as C,w as S,g as F,C as N,p as y,n,k as j,t as g,F as u,I as k}from"./vendor-core-By7Plnkm.js";import{B as A}from"./BottomSheet-CbDDnn2t.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";const M={class:"flex flex-col bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 shadow-sm z-30 transition-colors duration-300"},V={class:"px-4 py-3 pb-0 flex items-center gap-3"},T={class:"relative flex-1"},P=["value"],H={key:0,class:"absolute right-3 top-3"},I={class:"flex items-center gap-2 pl-4 py-3 overflow-hidden"},L={key:0,class:"flex items-center justify-center w-4 h-4 text-[9px] bg-white text-lime-600 rounded-full"},U={class:"flex items-center gap-2 overflow-x-auto scrollbar-hide pr-4 mask-fade-right"},D=["onClick"],R={class:"space-y-6 pb-6 p-4"},Z={class:"grid grid-cols-4 gap-2"},q=["disabled","onClick","title"],O={class:"text-lg mb-1"},G={class:"text-xs font-bold text-center leading-tight"},J={key:0},K={class:"flex flex-wrap gap-2"},Q=["onClick"],W={class:"grid grid-cols-1 gap-4"},X={key:0},Y={class:"flex flex-wrap gap-2 max-h-[120px] overflow-y-auto custom-scroll pr-1"},_=["onClick"],ee={key:1},te={class:"flex flex-wrap gap-2 max-h-[120px] overflow-y-auto custom-scroll pr-1"},re=["onClick"],ae={class:"flex items-center justify-between p-3 rounded-xl border border-gray-200 dark:bg-gray-800 dark:border-gray-700"},le={class:"pt-4 flex gap-3"},oe={__name:"FilterProduct",props:{categories:{type:Array,required:!0},brands:{type:Array,default:()=>[]},isFetching:{type:Boolean,default:!1},search:{type:String,default:""},category:{type:[String,Number],default:"all"},subCategory:{type:[String,Number],default:"all"},brand:{type:[String,Number],default:"all"},size:{type:[String,Number],default:"all"},sort:{type:String,default:"default"},hideEmptyStock:{type:Boolean,default:!1},sizes:{type:Array,default:()=>[]}},emits:["update:search","update:category","update:subCategory","update:brand","update:size","update:sort","update:hideEmptyStock","scan"],setup(l,{emit:z}){const d=l,o=z,b=B(!1),p=w(()=>{if(d.category==="all")return[];const a=d.categories.find(e=>e.id==d.category);return a?a.product_types||[]:[]}),f=a=>{o("update:category",a),o("update:subCategory","all"),o("update:brand","all"),o("update:size","all"),a!=="all"?o("update:sort","recommendation"):o("update:sort","default")},m=a=>{o("update:subCategory",a),a!=="all"?o("update:sort","recommendation"):d.category==="all"&&d.brand==="all"&&d.size==="all"&&o("update:sort","default")},v=a=>{o("update:brand",a),a!=="all"?o("update:sort","recommendation"):d.category==="all"&&d.subCategory==="all"&&d.size==="all"&&o("update:sort","default")},h=a=>{o("update:size",a),a!=="all"?o("update:sort","recommendation"):d.category==="all"&&d.subCategory==="all"&&d.brand==="all"&&o("update:sort","default")},x=w(()=>{let a=0;return d.subCategory!=="all"&&a++,d.brand!=="all"&&a++,d.size!=="all"&&d.size&&a++,d.sort!=="default"&&a++,a}),$=()=>{o("update:subCategory","all"),o("update:brand","all"),o("update:size","all"),o("update:sort","default"),o("update:hideEmptyStock",!1),b.value=!1};return(a,e)=>(i(),s(u,null,[t("div",M,[t("div",V,[C(F(N),{href:a.route("dashboard"),class:"p-2.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700 transition"},{default:S(()=>[...e[11]||(e[11]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1},8,["href"]),t("div",T,[t("input",{value:l.search,onFocus:e[0]||(e[0]=r=>r.target.select()),onInput:e[1]||(e[1]=r=>a.$emit("update:search",r.target.value)),type:"search",placeholder:"Cari produk...",class:"w-full pl-10 pr-4 py-2.5 bg-gray-100 dark:bg-gray-800 border-none rounded-xl focus:ring-2 focus:ring-lime-500 text-sm font-medium text-gray-800 dark:text-white placeholder-gray-400 transition-all"},null,40,P),e[13]||(e[13]=t("span",{class:"absolute left-3.5 top-2.5 text-gray-400"},[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),l.isFetching?(i(),s("div",H,[...e[12]||(e[12]=[t("span",{class:"relative flex h-3 w-3"},[t("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-lime-400 opacity-75"}),t("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-lime-500"})],-1)])])):y("",!0)]),t("button",{onClick:e[2]||(e[2]=r=>a.$emit("scan")),class:"p-2.5 rounded-xl bg-gray-900 text-white dark:bg-lime-500 dark:text-gray-900 shadow-lg active:scale-95 transition"},[...e[14]||(e[14]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])])]),t("div",I,[t("button",{onClick:e[3]||(e[3]=r=>b.value=!0),class:n(["flex items-center gap-1.5 px-3 py-1.5 rounded-full border text-xs font-bold whitespace-nowrap transition active:scale-95 shrink-0",x.value>0?"bg-lime-500 border-lime-500 text-white shadow-md shadow-lime-500/20":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300"])},[e[15]||(e[15]=t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)),e[16]||(e[16]=j(" Filter ",-1)),x.value>0?(i(),s("span",L,g(x.value),1)):y("",!0)],2),e[17]||(e[17]=t("div",{class:"w-px h-6 bg-gray-200 dark:bg-gray-700 shrink-0 mx-1"},null,-1)),t("div",U,[t("button",{onClick:e[4]||(e[4]=r=>f("all")),class:n(["px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition active:scale-95 border",l.category==="all"?"bg-gray-900 dark:bg-lime-500 text-white dark:text-gray-900 border-gray-900 dark:border-lime-500":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"])}," Semua ",2),(i(!0),s(u,null,k(l.categories,r=>(i(),s("button",{key:r.id,onClick:c=>f(r.id),class:n(["px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition active:scale-95 border",l.category===r.id?"bg-gray-900 dark:bg-lime-500 text-white dark:text-gray-900 border-gray-900 dark:border-lime-500":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"])},g(r.name),11,D))),128))])])]),C(A,{show:b.value,onClose:e[10]||(e[10]=r=>b.value=!1),title:"Filter & Urutkan"},{default:S(()=>[t("div",R,[t("div",null,[e[18]||(e[18]=t("h4",{class:"text-xs font-bold text-gray-400 uppercase mb-3"},"Urutkan Berdasarkan",-1)),t("div",Z,[(i(!0),s(u,null,k([{val:"default",label:"Nama (A-Z)",icon:"AZ"},{val:"bestseller",label:"Terlaris",icon:"ðŸ”¥"},{val:"cheapest",label:"Termurah",icon:"ðŸ’°"},{val:"recommendation",label:"Rekomendasi",icon:"â­",disabled:l.category==="all"}],r=>(i(),s("button",{key:r.val,disabled:r.disabled,onClick:c=>!r.disabled&&a.$emit("update:sort",r.val),class:n(["flex flex-col items-center justify-center p-3 rounded-xl border transition active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-100 disabled:border-gray-200 dark:disabled:bg-gray-800 dark:disabled:border-gray-700",[l.sort===r.val?"bg-lime-50 border-lime-500 text-lime-700 dark:bg-lime-900/20 dark:text-lime-400":"bg-white border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300"]]),title:r.disabled?"Pilih kategori terlebih dahulu":""},[t("span",O,g(r.icon),1),t("span",G,g(r.label),1)],10,q))),128))])]),p.value.length>0?(i(),s("div",J,[e[19]||(e[19]=t("h4",{class:"text-xs font-bold text-gray-400 uppercase mb-3"},"Tipe Produk",-1)),t("div",K,[t("button",{onClick:e[5]||(e[5]=r=>m("all")),class:n(["px-3 py-1.5 rounded-lg border text-xs font-bold transition active:scale-95",l.subCategory==="all"?"bg-gray-800 text-white dark:bg-lime-500 dark:text-gray-900 border-gray-800 dark:border-lime-500":"bg-gray-50 text-gray-500 border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"])}," Semua ",2),(i(!0),s(u,null,k(p.value,r=>(i(),s("button",{key:r.id,onClick:c=>m(r.id),class:n(["px-3 py-1.5 rounded-lg border text-xs font-bold transition active:scale-95",l.subCategory===r.id?"bg-gray-800 text-white dark:bg-lime-500 dark:text-gray-900 border-gray-800 dark:border-lime-500":"bg-gray-50 text-gray-500 border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"])},g(r.name),11,Q))),128))])])):y("",!0),t("div",W,[l.brands.length>0?(i(),s("div",X,[e[20]||(e[20]=t("h4",{class:"text-xs font-bold text-gray-400 uppercase mb-3"},"Merk / Brand",-1)),t("div",Y,[t("button",{onClick:e[6]||(e[6]=r=>v("all")),class:n(["px-3 py-1.5 rounded-lg border text-xs font-bold transition active:scale-95",l.brand==="all"?"bg-gray-800 text-white dark:bg-lime-500 dark:text-gray-900 border-gray-800 dark:border-lime-500":"bg-gray-50 text-gray-500 border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"])}," Semua ",2),(i(!0),s(u,null,k(l.brands,r=>(i(),s("button",{key:r.id,onClick:c=>v(r.id),class:n(["px-3 py-1.5 rounded-lg border text-xs font-bold transition active:scale-95",l.brand===r.id?"bg-gray-800 text-white dark:bg-lime-500 dark:text-gray-900 border-gray-800 dark:border-lime-500":"bg-white text-gray-600 border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"])},g(r.name),11,_))),128))])])):y("",!0),l.sizes&&l.sizes.length>0?(i(),s("div",ee,[e[21]||(e[21]=t("h4",{class:"text-xs font-bold text-gray-400 uppercase mb-3"},"Ukuran / Size",-1)),t("div",te,[t("button",{onClick:e[7]||(e[7]=r=>h("all")),class:n(["px-3 py-1.5 rounded-lg border text-xs font-bold transition active:scale-95",l.size==="all"?"bg-gray-800 text-white dark:bg-lime-500 dark:text-gray-900 border-gray-800 dark:border-lime-500":"bg-gray-50 text-gray-500 border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"])}," Semua ",2),(i(!0),s(u,null,k(l.sizes,r=>(i(),s("button",{key:r.id,onClick:c=>h(r.id),class:n(["px-3 py-1.5 rounded-lg border text-xs font-bold transition active:scale-95",l.size===r.id?"bg-gray-800 text-white dark:bg-lime-500 dark:text-gray-900 border-gray-800 dark:border-lime-500":"bg-white text-gray-600 border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"])},g(r.name),11,re))),128))])])):y("",!0)]),t("div",null,[e[23]||(e[23]=t("h4",{class:"text-xs font-bold text-gray-400 uppercase mb-3"},"Opsi Lainnya",-1)),t("div",ae,[e[22]||(e[22]=t("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Sembunyikan Stok Habis",-1)),t("button",{onClick:e[8]||(e[8]=r=>a.$emit("update:hideEmptyStock",!l.hideEmptyStock)),class:n(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",l.hideEmptyStock?"bg-lime-500":"bg-gray-200 dark:bg-gray-600"])},[t("span",{class:n(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm",l.hideEmptyStock?"translate-x-6":"translate-x-1"])},null,2)],2)])]),t("div",le,[t("button",{onClick:$,class:"flex-1 py-3.5 bg-gray-100 text-gray-600 font-bold rounded-xl active:scale-95 transition"}," Reset "),t("button",{onClick:e[9]||(e[9]=r=>b.value=!1),class:"flex-[2] py-3.5 bg-gray-900 text-white font-bold rounded-xl active:scale-95 transition shadow-lg"}," Terapkan ")])])]),_:1},8,["show"])],64))}},ue=E(oe,[["__scopeId","data-v-5621720a"]]);export{ue as default};
