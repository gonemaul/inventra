import{_ as v}from"./AuthenticatedLayout-BGPR84hi.js";import{p as h,l as n,o as c,e as i,g as y,i as w,w as o,L as _,f as a,F as u,H as P,n as b,t as d,m,k as j}from"./vendor-core-DNtFhSmw.js";import C from"./card-detail-Dlq-fHnT.js";import{_ as D}from"./Tabs-CxyYXUsO.js";import R from"./tab-forecasting-D1P5nGrF.js";import B from"./tab-analisis-DHDkyHdb.js";import"./useSidebar-DWNS5Gp4.js";import"./useActionLoading-5xNm3hIW.js";import"./vendor-common-pmZ7KOuE.js";import"./vendor-charts-Bw6UNgWf.js";import"./modalDelete-DrSDMk72.js";import"./Modal-1RyijkFn.js";const L={class:"w-full min-h-screen space-y-5"},N={class:"p-4 bg-white rounded-lg shadow dark:bg-gray-800"},S={class:"grid grid-cols-2 gap-4 mt-4"},F={class:"p-3 border border-blue-100 rounded bg-blue-50 dark:bg-gray-700 dark:border-gray-600"},I={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},M={class:"text-sm text-gray-500"},T={class:"p-3 border border-green-100 rounded bg-green-50 dark:bg-gray-700 dark:border-gray-600"},V={class:"text-lg font-bold text-green-600 dark:text-green-400"},$={class:"p-4 bg-white rounded-lg shadow dark:bg-gray-800"},q={class:"divide-y divide-gray-100 dark:divide-gray-700"},H={class:"text-lg"},z={class:"flex flex-col"},A={class:"text-sm font-bold text-gray-800 dark:text-gray-200"},K={class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 space-y-0.5"},E={key:0,class:"font-mono text-[10px] text-gray-400 uppercase tracking-wide"},O={key:1,class:"line-clamp-1"},W={class:"text-[10px] text-gray-400 flex items-center gap-1 mt-1"},G={class:"px-1 bg-gray-100 rounded dark:bg-gray-700"},J={class:"px-1 font-bold text-gray-600 bg-gray-100 rounded dark:bg-gray-700 dark:text-gray-300"},Q={class:"ml-2 text-right shrink-0"},U={class:"text-[10px] text-gray-400 mt-1"},ga={__name:"detail",props:{detail:Array},setup(s){const x=s,k=[{key:"ringkasan",label:"Ringkasan Penjualan"},{key:"analisis",label:"Analisis Pergerakan"},{key:"forecast",label:"Forecasting Restock"},{key:"riwayat",label:"Riwayat Stock"}],p=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),f=l=>l?new Date(l).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",g=l=>{const t=l.type,r=Number(l.quantity);let e={label:"Transaksi",icon:"ðŸ“",colorClass:"bg-gray-100 text-gray-600",isPositive:r>0,sign:r>0?"+":""};switch(t){case"initial":e.label="Stok Awal",e.icon="ðŸ",e.colorClass="bg-blue-100 text-blue-600",e.isPositive=!0;break;case"purchase":e.label="Pembelian",e.icon="ðŸš›",e.colorClass="bg-green-100 text-green-600",e.isPositive=!0;break;case"sale":e.label="Penjualan",e.icon="ðŸ›’",e.colorClass="bg-red-100 text-red-600",e.isPositive=!1;break;case"adjustment_in":e.label="Koreksi Masuk",e.icon="ðŸ”§",e.colorClass="bg-emerald-100 text-emerald-600",e.isPositive=!0;break;case"adjustment_out":e.label="Koreksi Keluar",e.icon="ðŸ“‰",e.colorClass="bg-orange-100 text-orange-600",e.isPositive=!1;break;case"adjustment_opname":e.label="Stok Opname",e.icon="ðŸ“‹",e.isPositive=r>=0,e.colorClass=e.isPositive?"bg-purple-100 text-purple-600":"bg-pink-100 text-pink-600";break;case"return_in":e.label="Retur Customer",e.icon="â†©ï¸",e.colorClass="bg-teal-100 text-teal-600",e.isPositive=!0;break;case"return_out":e.label="Retur Supplier",e.icon="â†ªï¸",e.colorClass="bg-rose-100 text-rose-600",e.isPositive=!1;break}return e};return h(()=>{const l=Math.max(...x.detail.chart_data.map(t=>t.qty));return l===0?5:l}),(l,t)=>(c(),n(u,null,[i(y(w),{title:"Detail"}),i(v,{headerTitle:"Detail Barang"},{default:o(()=>[i(y(_),{data:["detail"]},{fallback:o(()=>[...t[0]||(t[0]=[a("div",{class:"w-full min-h-screen space-y-5"},[a("div",{class:"flex flex-col overflow-hidden bg-white border-t border-l-4 border-gray-200 shadow-md md:flex-row dark:bg-gray-800 rounded-xl dark:border-gray-700 animate-pulse"},[a("div",{class:"flex flex-col w-full border-b border-gray-100 md:w-56 lg:w-64 bg-gray-50 dark:bg-gray-900 md:border-b-0 md:border-r dark:border-gray-700"},[a("div",{class:"relative flex-1 w-full min-h-[160px] md:h-full flex items-center justify-center bg-gray-200 dark:bg-gray-800"},[a("svg",{class:"w-10 h-10 text-gray-300 dark:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),a("div",{class:"absolute w-16 h-5 bg-gray-300 rounded-lg top-2 left-2 dark:bg-gray-700"})]),a("div",{class:"w-full h-8 bg-gray-300 dark:bg-gray-700"})]),a("div",{class:"flex flex-col justify-between flex-1 gap-4 p-4 sm:p-5"},[a("div",null,[a("div",{class:"flex flex-wrap items-center justify-between gap-2 mb-2"},[a("div",{class:"flex items-center gap-2"},[a("div",{class:"w-16 h-5 bg-gray-200 rounded dark:bg-gray-700"}),a("span",{class:"text-gray-200 dark:text-gray-700"},"|"),a("div",{class:"w-20 h-5 bg-gray-200 rounded dark:bg-gray-700"}),a("span",{class:"text-gray-200 dark:text-gray-700"},"|"),a("div",{class:"h-5 bg-gray-200 rounded w-14 dark:bg-gray-700"})]),a("div",{class:"hidden w-24 h-5 bg-gray-200 rounded dark:bg-gray-700 md:block"})]),a("div",{class:"w-3/4 h-8 mb-4 bg-gray-200 rounded sm:h-9 md:h-10 dark:bg-gray-700"}),a("div",{class:"flex flex-wrap items-center gap-4 pb-3 mb-3 border-b border-gray-100 dark:border-gray-700"},[a("div",{class:"flex items-center gap-2"},[a("div",{class:"w-8 h-3 bg-gray-200 rounded dark:bg-gray-700"}),a("div",{class:"w-12 h-6 bg-gray-200 rounded dark:bg-gray-700"})]),a("div",{class:"flex items-center gap-2"},[a("div",{class:"w-8 h-3 bg-gray-200 rounded dark:bg-gray-700"}),a("div",{class:"w-12 h-6 bg-gray-200 rounded dark:bg-gray-700"})]),a("div",{class:"flex items-center gap-2"},[a("div",{class:"w-8 h-3 bg-gray-200 rounded dark:bg-gray-700"}),a("div",{class:"w-10 h-6 bg-gray-200 rounded dark:bg-gray-700"})])])]),a("div",{class:"grid grid-cols-1 gap-4 mb-4 sm:grid-cols-2"},[a("div",{class:"p-3 border border-gray-100 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[a("div",{class:"w-20 h-3 mb-2 bg-gray-200 rounded dark:bg-gray-700"}),a("div",{class:"w-32 h-8 mb-2 bg-gray-300 rounded dark:bg-gray-600"}),a("div",{class:"w-24 h-5 bg-gray-200 rounded dark:bg-gray-700"})]),a("div",{class:"p-3 border border-gray-100 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[a("div",{class:"flex justify-between mb-2"},[a("div",{class:"w-20 h-3 bg-gray-200 rounded dark:bg-gray-700"}),a("div",{class:"w-16 h-4 bg-gray-200 rounded dark:bg-gray-700"})]),a("div",{class:"w-32 h-8 mb-2 bg-gray-300 rounded dark:bg-gray-600"}),a("div",{class:"w-24 h-5 bg-gray-200 rounded dark:bg-gray-700"})])]),a("div",{class:"flex flex-wrap items-center justify-end gap-2 pt-2 border-t border-gray-100 dark:border-gray-700"},[a("div",{class:"w-full h-10 bg-gray-200 rounded-lg sm:w-24 dark:bg-gray-700"}),a("div",{class:"flex w-full gap-2 sm:w-auto"},[a("div",{class:"flex-1 w-full h-10 bg-gray-300 rounded-lg sm:flex-none sm:w-24 dark:bg-gray-600"}),a("div",{class:"flex-1 w-full h-10 bg-gray-200 rounded-lg sm:flex-none sm:w-24 dark:bg-gray-700"})])])])]),a("div",{class:"w-full overflow-x-auto animate-pulse"},[a("div",{class:"flex border-b-2 border-gray-200 min-w-max flex-nowrap dark:border-gray-700"},[a("div",{class:"flex items-center gap-2 px-4 py-3 bg-gray-100 border-b-2 border-gray-300 rounded-t-lg dark:bg-gray-800 dark:border-gray-600"},[a("div",{class:"w-16 h-4 bg-gray-300 rounded dark:bg-gray-600"}),a("div",{class:"w-5 h-5 bg-gray-300 rounded-full dark:bg-gray-600"})]),a("div",{class:"flex items-center gap-2 px-4 py-3 border-b-2 border-transparent"},[a("div",{class:"w-24 h-4 bg-gray-200 rounded dark:bg-gray-700"})]),a("div",{class:"flex items-center gap-2 px-4 py-3 border-b-2 border-transparent"},[a("div",{class:"w-20 h-4 bg-gray-200 rounded dark:bg-gray-700"}),a("div",{class:"w-5 h-5 bg-gray-200 rounded-full dark:bg-gray-700"})]),a("div",{class:"flex items-center gap-2 px-4 py-3 border-b-2 border-transparent"},[a("div",{class:"w-16 h-4 bg-gray-200 rounded dark:bg-gray-700"})])])])],-1)])]),default:o(()=>[a("div",L,[i(C,{data:s.detail.product,dss:s.detail.dss,price_trend:s.detail.price_trend},null,8,["data","dss","price_trend"]),i(D,{tabs:k,defaultTab:"ringkasan"},{ringkasan:o(()=>[a("div",N,[t[3]||(t[3]=a("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Ringkasan Penjualan ",-1)),t[4]||(t[4]=a("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-300"}," Performa penjualan produk ini dalam 7 hari terakhir. ",-1)),a("div",S,[a("div",F,[t[1]||(t[1]=a("p",{class:"text-xs text-gray-500 uppercase dark:text-gray-400"}," Terjual (30 Hari) ",-1)),a("p",I,[j(d(s.detail.dss.sales_30_days)+" ",1),a("span",M,d(s.detail.product.unit?.name),1)])]),a("div",T,[t[2]||(t[2]=a("p",{class:"text-xs text-gray-500 uppercase dark:text-gray-400"}," Estimasi Omzet (30 Hari) ",-1)),a("p",V,d(p(s.detail.dss.sales_30_days*s.detail.product.selling_price)),1)])])])]),analisis:o(()=>[i(B,{inventory:s.detail.product.inventory,product:s.detail.product,chart_data:s.detail.chart_data},null,8,["inventory","product","chart_data"])]),forecast:o(()=>[i(R,{inventory:s.detail.product.inventory},null,8,["inventory"])]),riwayat:o(()=>[a("div",$,[t[6]||(t[6]=a("div",{class:"flex items-center justify-between"},[a("div",null,[a("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Riwayat Stock "),a("p",{class:"text-sm text-gray-600 dark:text-gray-300"}," Mutasi keluar masuk barang. ")])],-1)),a("ul",q,[(c(!0),n(u,null,P(s.detail.stock_history,(r,e)=>(c(),n("li",{key:e,class:"flex items-start justify-between px-2 py-4 transition rounded-lg group hover:bg-gray-50 dark:hover:bg-gray-800/50"},[a("div",{class:b(["flex gap-3",{"opacity-50":r.type==="deleted"}])},[a("div",{class:b(["flex items-center justify-center w-10 h-10 rounded-full shadow-sm shrink-0",g(r).colorClass])},[a("span",H,d(g(r).icon),1)],2),a("div",z,[a("h4",A,d(g(r).label),1),a("div",K,[r.reference_number?(c(),n("p",E," #"+d(r.reference_number),1)):m("",!0),r.description?(c(),n("p",O,d(r.description),1)):m("",!0),a("p",W,[a("span",G,d(r.stock_before),1),t[5]||(t[5]=a("span",null,"âžœ",-1)),a("span",J,d(r.stock_after),1)])])])],2),a("div",Q,[a("p",{class:b(["text-sm font-bold",g(r).isPositive?"text-green-600":"text-red-600"])},d(g(r).isPositive?"+":"-")+d(r.quantity),3),a("p",U,d(f(r.created_at||r.date))+" WIB ",1)])]))),128))])])]),_:1})])]),_:1})]),_:1})],64))}};export{ga as default};
