import{p as l,X as f,Y as h}from"./vendor-core-5xBySu3Y.js";function y(s){const d=l(()=>f(s)?s.value:s),r=n=>parseFloat(n)||0,c=l(()=>{const n=d.value||[];let a={kosong:0,baru_pengganti:0,total_macam_dipesan:0,total_macam_diterima:0,total_qty_dipesan:0,total_qty_diterima:0,total_rupiah_dipesan:0,total_rupiah_diterima:0,total_barang_sesuai:0,macam_harga_naik:0,macam_harga_turun:0,produk_qty_lebih:0,produk_qty_kurang:0};return n.forEach(e=>{const u=e.product_snapshot||{},t=r(u.quantity),_=r(u.purchase_price),i=r(e.quantity),o=r(e.purchase_price);a.total_qty_dipesan+=t,a.total_qty_diterima+=i,a.total_rupiah_dipesan+=t*_,e.purchase_invoice_id&&(console.log(e),a.total_rupiah_diterima+=i*o),t===0&&i>0&&(a.baru_pengganti+=1),t>0&&(a.total_macam_dipesan+=1,i===0&&(a.kosong+=1)),i>0&&(a.total_macam_diterima+=1),i>t?a.produk_qty_lebih+=i-t:i<t&&(a.produk_qty_kurang+=t-i);const p=i===t&&t>0,m=o===_;p&&(o>_?a.macam_harga_naik+=1:o<_&&(a.macam_harga_turun+=1)),p&&m&&(a.total_barang_sesuai+=1)}),a});return{...h(c.value),analytics:c}}export{y as u};
