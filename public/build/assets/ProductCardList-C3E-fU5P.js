import{C as c,l as d,o as s,f as e,m as n,n as b,t as r,e as C,w as p,k as H,g as y,B as m,d as L}from"./vendor-core-BC1dSzkC.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";const M={class:"flex flex-col h-full overflow-hidden transition-all duration-300 bg-white border border-gray-300 shadow-md md:flex-row group dark:bg-gray-800 rounded-xl dark:border-gray-700 hover:shadow-md"},j={class:"relative flex flex-col flex-shrink-0 w-32 mx-auto border-r border-gray-100 sm:w-36 dark:border-gray-700 bg-gray-50 dark:bg-gray-900"},B=["src","alt"],z={class:"absolute z-10 flex flex-col items-start gap-1 top-1 left-1 right-1"},N={key:0,class:"px-2 py-0.5 text-[9px] font-bold uppercase tracking-wider bg-purple-600 text-white rounded shadow-sm animate-pulse"},V={key:1,class:"px-1.5 py-0.5 text-[9px] font-bold uppercase tracking-wider bg-gray-600 text-white rounded shadow-sm"},S={class:"absolute z-10 justify-between hidden gap-1 md:flex bottom-2 left-2 right-2"},D={key:0,class:"px-1.5 py-0.5 text-[9px] font-bold uppercase tracking-wider bg-opacity-50 bg-yellow-400 text-white rounded shadow-sm"},T={key:1,class:"px-1.5 py-0.5 text-[9px] flex flex-col font-bold uppercase tracking-wider bg-red-500 bg-opacity-50 text-white rounded shadow-sm"},_={class:"transition-all duration-300 ease-in-out transform group-hover:-translate-y-[150%] group-hover:opacity-0"},I={class:"absolute inset-0 flex items-center justify-center px-1 transition-all duration-300 ease-in-out transform translate-y-[150%] opacity-0 group-hover:translate-y-0 group-hover:opacity-100"},P={class:"w-full text-center truncate"},Z={class:"flex flex-col justify-between flex-1 min-w-0 p-3 bg-white dark:bg-gray-800"},$={class:"flex items-start justify-between mb-1"},A={class:"flex flex-wrap items-center gap-1.5 text-[10px] font-bold text-gray-400 uppercase tracking-wider"},J={class:"truncate bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded border border-gray-100 dark:border-gray-600 text-gray-500 dark:text-gray-100"},F={class:"hidden truncate md:flex text-lime-600"},O={class:"truncate hidden md:flex max-w-[70px] text-lime-600"},R={class:"text-[11px] font-mono text-gray-500 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded border border-gray-100 dark:border-gray-600 dark:text-gray-100"},q={class:"flex items-center justify-center gap-3 pb-2 mb-2 text-xs text-gray-500 border-b md:justify-start dark:text-gray-400"},E={class:"flex flex-col items-center gap-1 md:flex-row"},G={class:"font-semibold text-gray-700 rounded px-1.5 py-0.5 bg-gray-100 border-gray-100 dark:text-gray-200 dark:bg-gray-700 dark:border-gray-700"},U={class:"flex flex-col items-center gap-1 md:flex-row"},K={class:"font-semibold text-gray-700 bg-gray-100 px-1.5 py-0.5 dark:bg-gray-700 border-gray-100 rounded dark:text-gray-200 dark:border-gray-700"},Q={class:"flex flex-col items-center gap-1 md:flex-row"},W={class:"space-y-2.5"},X={class:"flex flex-col gap-1"},Y={class:"flex flex-wrap items-center gap-2"},ee={class:"text-sm font-bold text-gray-600 dark:text-gray-300"},te=["title"],ae=["title"],re={class:"flex flex-col gap-1"},se={class:"flex items-center justify-between"},de={class:"flex flex-wrap items-center gap-2"},ne={class:"text-lg font-black leading-none text-gray-900 dark:text-white"},oe=["title"],le=["title"],ie=["title"],ce={class:"flex items-center gap-1"},ge=["title"],ue=["title"],xe=["title"],ye={__name:"ProductCardList",props:{data:Object},emits:["imageClick","delete","restore","forceDelete"],setup(t,{emit:h}){const l=t;console.log(l.data);const g=h,i=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o),k=c(()=>l.data.insights?.some(o=>o.type==="trend")),v=c(()=>l.data.insights?.some(o=>o.type==="dead_stock")),w=c(()=>l.data.insights?.some(o=>o.type==="margin_alert")),x=c(()=>l.data.insights?.some(a=>a.type==="restock"&&a.severity==="critical")||l.data.stock<=l.data.min_stock),u=c(()=>l.data.deleted_at!==null);return(o,a)=>(s(),d("div",M,[e("div",j,[e("div",{class:"relative flex items-center justify-center flex-1 w-full p-2 overflow-hidden bg-gray-100 border border-gray-200 cursor-pointer dark:bg-gray-800 group dark:border-gray-700 aspect-square",onClick:a[0]||(a[0]=f=>g("imageClick",{path:t.data.image_url,name:t.data.name}))},[a[4]||(a[4]=e("div",{class:"absolute inset-0 z-0 flex flex-col items-center justify-center w-full h-full transition-colors duration-300"},[e("svg",{class:"w-10 h-10 mb-2 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("span",{class:"text-[10px] font-bold text-gray-400 dark:text-gray-500 tracking-wider"}," NO IMG ")],-1)),e("img",{src:t.data.image_url,alt:t.data.name,loading:"lazy",decoding:"async",onload:"this.classList.remove('opacity-0')",onerror:"this.style.display='none'",class:"absolute inset-0 z-10 object-contain w-full h-full p-2 transition-all duration-500 bg-white opacity-0 md:p-4 group-hover:scale-110 dark:bg-gray-800"},null,8,B),e("div",z,[k.value?(s(),d("span",N," ðŸ”¥ Trending ")):n("",!0),v.value?(s(),d("span",V," ðŸ¢ Slow ")):n("",!0)]),e("div",S,[w.value?(s(),d("span",D," âš ï¸ Margin ")):n("",!0),x.value?(s(),d("span",T," ðŸš¨ Stok ")):n("",!0)])]),e("div",{class:b(["group relative py-1 text-[10px] rounded-br rounded-bl font-bold text-center text-white uppercase tracking-wider transition-colors cursor-help group-hover:bg-cyan-500 overflow-hidden",t.data.status==="active"?"bg-lime-500":"bg-gray-400"])},[e("div",_,r(t.data.status==="active"?"Aktif":"Non-Aktif"),1),e("div",I,[e("span",P,r(t.data.supplier?.name||"Tanpa Supplier"),1)])],2)]),e("div",Z,[e("div",null,[e("div",$,[e("div",A,[e("span",J,r(t.data.brand?.name),1),a[5]||(a[5]=e("span",{class:"hidden md:block"},"â€¢",-1)),e("span",F,r(t.data.category?.name),1),a[6]||(a[6]=e("span",{class:"hidden md:block"},"|",-1)),e("span",O,r(t.data.product_type?.name),1)]),e("span",R,r(t.data.code),1)]),C(y(m),{href:o.route("products.show",t.data.slug),class:"block mb-2 text-sm font-bold leading-snug text-gray-900 transition sm:text-base dark:text-white hover:text-lime-600 line-clamp-1",title:t.data.full_name},{default:p(()=>[H(r(t.data.name),1)]),_:1},8,["href","title"]),e("div",q,[e("div",E,[a[7]||(a[7]=e("span",{class:"text-[10px] font-bold uppercase text-gray-400"},"Size",-1)),e("span",G,r(t.data.size?.name||"-"),1)]),e("div",U,[a[8]||(a[8]=e("span",{class:"text-[10px] font-bold uppercase text-gray-400"},"Unit",-1)),e("span",K,r(t.data.unit?.name||"Pcs"),1)]),e("div",Q,[e("span",{class:b(["text-[10px] font-bold uppercase",x.value?"text-red-500":"text-gray-400"])},"Stok",2),e("span",{class:b(["font-bold px-1.5 py-0.5 rounded",x.value?"bg-red-50 dark:bg-red-100 !text-red-600 ring-1 ring-red-100":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200"])},r(t.data.stock),3)])])]),e("div",W,[e("div",X,[a[9]||(a[9]=e("span",{class:"text-[11px] text-gray-400 font-bold uppercase"},"Modal (HPP)",-1)),e("div",Y,[e("span",ee,r(i(t.data.purchase_price)),1),t.data.financials.price_trend.direction==="up"?(s(),d("div",{key:0,class:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-red-50 text-red-600 border border-red-100",title:"Modal Naik : "+i(t.data.financials.price_trend.diff_rp)},[e("span",null,"â†— "+r(t.data.financials.price_trend.percent)+"%",1)],8,te)):n("",!0),t.data.financials.price_trend.direction==="down"?(s(),d("div",{key:1,class:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-green-50 text-green-600 border border-green-100",title:"Modal Turun : "+i(t.data.financials.price_trend.diff_rp)},[e("span",null,"â†˜ ("+r(t.data.financials.price_trend.percent)+"%)",1)],8,ae)):n("",!0)])]),e("div",re,[a[14]||(a[14]=e("span",{class:"text-[11px] text-gray-400 font-bold uppercase"},"Harga Jual",-1)),e("div",se,[e("div",de,[e("span",ne,r(i(t.data.selling_price)),1),e("div",{class:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-blue-50 text-blue-600 border border-blue-100",title:"Margin : "+i(t.data.financials.margin.rp)},[e("span",null,"+"+r(t.data.financials.margin.percent)+"%",1)],8,oe),t.data.financials.sales_trend.direction==="up"?(s(),d("div",{key:0,class:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-green-50 text-green-600 border border-green-100",title:"Harga Jual Naik : "+i(t.data.financials.sales_trend.diff_rp)},[e("span",null,"â†— "+r(t.data.financials.sales_trend.percent)+"%",1)],8,le)):n("",!0),t.data.financials.sales_trend.direction==="down"?(s(),d("div",{key:1,class:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-red-50 text-red-600 border border-red-100",title:"Harga Jual Turun : "+i(t.data.financials.sales_trend.diff_rp)},[e("span",null,"â†˜ "+r(t.data.financials.sales_trend.percent)+"%",1)],8,ie)):n("",!0)]),e("div",ce,[u.value?n("",!0):(s(),L(y(m),{key:0,href:o.route("products.edit",t.data.slug),class:"p-1.5 text-yellow-700 hover:text-yellow-100 bg-yellow-100 hover:bg-yellow-300 border border-gray-200 rounded transition"},{default:p(()=>[...a[10]||(a[10]=[e("svg",{class:"w-3 h-3 sm:w-5 sm:h-5",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M19.9902 18.9531C20.5471 18.9534 21 19.4124 21 19.9766C21 20.5418 20.5471 20.9998 19.9902 21H14.2793C13.7224 20.9998 13.2695 20.5419 13.2695 19.9766C13.2696 19.4124 13.7224 18.9533 14.2793 18.9531H19.9902ZM12.2412 3.95703C13.1538 2.78531 14.7463 2.67799 16.0303 3.69922L17.5049 4.87109C18.1097 5.34407 18.5134 5.96737 18.6514 6.62305C18.8105 7.34415 18.6403 8.05244 18.1631 8.66504L9.37598 20.0283C8.97274 20.544 8.37869 20.834 7.74219 20.8447L4.24023 20.8877C4.0493 20.8876 3.89009 20.7589 3.84766 20.5762L3.05176 17.125C2.91398 16.4909 3.05194 15.8352 3.45508 15.3301L9.68457 7.26758C9.79068 7.13908 9.98121 7.11856 10.1084 7.21387L12.7295 9.2998C12.8993 9.43955 13.1329 9.51467 13.377 9.48242C13.8969 9.41792 14.2474 8.94469 14.1943 8.43945C14.1625 8.18164 14.0349 7.96685 13.8652 7.80566C13.8122 7.76267 11.3184 5.7627 11.3184 5.7627C11.1593 5.63368 11.1276 5.39743 11.2549 5.2373L12.2412 3.95703Z",fill:"currentColor"})],-1)])]),_:1},8,["href"])),u.value?n("",!0):(s(),d("button",{key:1,title:"Hapus "+t.data.name,onClick:a[1]||(a[1]=f=>g("delete",t.data)),class:"p-1.5 text-red-700 hover:text-red-100 bg-red-200 hover:bg-red-300 border border-red-200 rounded transition"},[...a[11]||(a[11]=[e("svg",{class:"w-3 h-3 sm:w-5 sm:h-5",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M18.9395 8.69727C19.1385 8.69738 19.3191 8.78402 19.4619 8.93066C19.5952 9.08766 19.663 9.28326 19.6436 9.48926C19.6429 9.56521 19.1099 16.2984 18.8057 19.1338C18.6151 20.8747 17.493 21.9319 15.8096 21.9609C14.5151 21.9899 13.2497 22 12.0039 22C10.6812 22 9.3874 21.9899 8.13184 21.9609C6.50488 21.9218 5.38206 20.8457 5.20117 19.1338C4.88816 16.2881 4.36472 9.56385 4.35449 9.48926C4.34477 9.28326 4.41071 9.08766 4.54492 8.93066C4.67715 8.78375 4.86811 8.69731 5.06836 8.69727H18.9395ZM14.0645 2C14.9485 2 15.7382 2.61708 15.9668 3.49707L16.1309 4.22656C16.2631 4.82145 16.778 5.24302 17.3711 5.24316H20.2871C20.676 5.24316 20.9998 5.56576 21 5.97656V6.35742C20.9998 6.75821 20.676 7.09082 20.2871 7.09082H3.71387C3.32402 7.09082 3.00025 6.75821 3 6.35742V5.97656C3.00021 5.56576 3.324 5.24316 3.71387 5.24316H6.62988C7.22203 5.24301 7.7369 4.82143 7.87012 4.22754L8.02344 3.5459C8.26078 2.61698 9.04181 2 9.93555 2H14.0645Z",fill:"currentColor"})],-1)])],8,ge)),u.value?(s(),d("button",{key:2,title:"Pulihkan "+t.data.name,onClick:a[2]||(a[2]=f=>g("restore",t.data)),class:"p-1.5 transition border rounded text-lime-500 bg-lime-100 hover:bg-lime-500 hover:text-lime-100"},[...a[12]||(a[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],8,ue)):n("",!0),u.value?(s(),d("button",{key:3,title:"Hapus Permanen "+t.data.name,onClick:a[3]||(a[3]=f=>g("forceDelete",t.data)),class:"p-1 text-red-100 transition bg-red-700 border border-red-800 rounded hover:text-red-500 hover:bg-red-100 dark:border-red-200"},[...a[13]||(a[13]=[e("svg",{class:"w-3 h-3 sm:w-5 sm:h-5",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M18.9395 8.69727C19.1385 8.69738 19.3191 8.78402 19.4619 8.93066C19.5952 9.08766 19.663 9.28326 19.6436 9.48926C19.6429 9.56521 19.1099 16.2984 18.8057 19.1338C18.6151 20.8747 17.493 21.9319 15.8096 21.9609C14.5151 21.9899 13.2497 22 12.0039 22C10.6812 22 9.3874 21.9899 8.13184 21.9609C6.50488 21.9218 5.38206 20.8457 5.20117 19.1338C4.88816 16.2881 4.36472 9.56385 4.35449 9.48926C4.34477 9.28326 4.41071 9.08766 4.54492 8.93066C4.67715 8.78375 4.86811 8.69731 5.06836 8.69727H18.9395ZM14.0645 2C14.9485 2 15.7382 2.61708 15.9668 3.49707L16.1309 4.22656C16.2631 4.82145 16.778 5.24302 17.3711 5.24316H20.2871C20.676 5.24316 20.9998 5.56576 21 5.97656V6.35742C20.9998 6.75821 20.676 7.09082 20.2871 7.09082H3.71387C3.32402 7.09082 3.00025 6.75821 3 6.35742V5.97656C3.00021 5.56576 3.324 5.24316 3.71387 5.24316H6.62988C7.22203 5.24301 7.7369 4.82143 7.87012 4.22754L8.02344 3.5459C8.26078 2.61698 9.04181 2 9.93555 2H14.0645Z",fill:"currentColor"})],-1)])],8,xe)):n("",!0)])])])])])]))}};export{ye as default};
