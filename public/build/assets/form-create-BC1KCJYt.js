import{q as S,u as U,K as C,D as M,d as V,o as d,w as B,f as r,t as u,j as $,l as i,p as l,z as m,k as y,g as s,F as E,I as N,L as x,A as g,B as _}from"./vendor-core-By7Plnkm.js";import{_ as z}from"./Modal-CAUBCNUq.js";import{u as A}from"./useActionLoading-BREuot5v.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";const j={class:"w-full p-6 bg-white shadow-lg maxs-w-md rounded-xl dark:bg-gray-800"},F={class:"flex items-center justify-between pb-3 border-b"},K={class:"text-lg font-semibold text-gray-800 dark:text-white"},P={key:0},L={key:0,value:null},O=["value"],H={key:0,class:"mt-1 text-xs text-red-500"},I={key:1},q={key:0,class:"mt-1 text-xs text-red-500"},G={key:2},J={key:0,class:"mt-1 text-xs text-red-500"},Q={key:3},R={key:0,class:"mt-1 text-xs text-red-500"},W={key:4},X={key:0,class:"mt-1 text-xs text-red-500"},Y={key:5},Z={key:0,class:"mt-1 text-xs text-red-500"},D={key:6},ee={key:0,value:""},te={key:0,class:"mt-1 text-xs text-red-500"},re={key:7},se={key:0,value:""},oe={key:0,class:"mt-1 text-xs text-red-500"},ae={key:0,class:"mt-1 text-xs text-red-500"},de={key:8},ie={class:"flex items-center space-x-2 cursor-pointer"},le={key:0,class:"mt-1 text-xs text-red-500"},ne={class:"flex justify-end gap-2 pt-3 border-t"},ue=["disabled"],ce={__name:"form-create",props:{show:{type:Boolean,default:!1},mode:{type:String,default:"create"},data:{type:Object,default:()=>({})},dataType:{type:String,default:"category"},categories:{type:Object,default:()=>({})}},emits:["close","success"],setup(p,{emit:b}){const n=p,f={category:{create:{method:"post",url:()=>route("api.settings.storeCategory")},edit:{method:"put",url:o=>route("api.settings.updateCategory",{id:o})}},type:{create:{method:"post",url:()=>route("api.settings.storeType")},edit:{method:"put",url:o=>route("api.settings.updateType",{id:o})}},unit:{create:{method:"post",url:()=>route("api.settings.storeUnit")},edit:{method:"put",url:o=>route("api.settings.updateUnit",{id:o})}},size:{create:{method:"post",url:()=>route("api.settings.storeSize")},edit:{method:"put",url:o=>route("api.settings.updateSize",{id:o})}},brand:{create:{method:"post",url:()=>route("api.settings.storeBrand")},edit:{method:"put",url:o=>route("api.settings.updateBrand",{id:o})}},supplier:{create:{method:"post",url:()=>route("api.settings.storeSupplier")},edit:{method:"put",url:o=>route("api.settings.updateSupplier",{id:o})}}};S();const c=b,{isActionLoading:k}=A(),e=U({id:null,code:"",name:"",description:"",phone:"",address:"",type:"",status:"",category_id:null,is_decimal:!1});C(()=>n.data,o=>{e.clearErrors(),o&&n.mode==="edit"?(e.id=o.id,e.code=o.code||"",e.name=o.name||"",e.description=o.description||"",e.phone=o.phone||"",e.address=o.address||"",e.type=o.type||"",e.status=o.status||"",e.category_id=o.category_id||null,e.is_decimal=!!o.is_decimal):e.reset()});const h=M(()=>{switch(n.dataType){case"category":return n.mode==="create"?"Tambah Kategori":"Edit Kategori";case"type":return n.mode==="create"?"Tambah Tipe Produk":"Edit Tipe Produk";case"unit":return n.mode==="create"?"Tambah Satuan":"Edit Satuan";case"size":return n.mode==="create"?"Tambah Ukuran":"Edit Ukuran";case"brand":return n.mode==="create"?"Tambah Merk":"Edit Merk";case"supplier":return n.mode==="create"?"Tambah Supplier":"Edit Supplier";default:return""}}),v=()=>{const o=n.dataType,t=n.mode,a=f[o]?.[t];if(!a){console.error(`Config rute tidak ditemukan untuk: ${o} - ${t}`);return}const T=a.method,w=a.url(e.id);k.value=!0,e.submit(T,w,{preserveScroll:!0,onFinish:()=>{k.value=!1,e.wasSuccessful&&(c("close"),c("success"),e.reset())}})};return(o,t)=>(d(),V(z,{show:p.show,onClose:t[12]||(t[12]=a=>o.$emit("close")),"max-width":"lg"},{default:B(()=>[r("div",j,[r("div",F,[r("h2",K,u(h.value),1),r("button",{onClick:t[0]||(t[0]=a=>o.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}," âœ• ")]),r("form",{class:"mt-4 space-y-4",onSubmit:$(v,["prevent"])},[p.dataType=="type"?(d(),i("div",P,[t[13]||(t[13]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Category"),r("span",{class:"text-red-500"},"*")],-1)),m(r("select",{class:"w-full px-3 py-2 text-sm border border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":t[1]||(t[1]=a=>s(e).category_id=a)},[n.mode=="create"?(d(),i("option",L," Pilih Kategori ")):l("",!0),(d(!0),i(E,null,N(n.categories,a=>(d(),i("option",{key:a.id,value:a.id},u(a.name),9,O))),128))],512),[[x,s(e).category_id]]),s(e).errors.category_id?(d(),i("p",H,u(s(e).errors.category_id),1)):l("",!0)])):l("",!0),p.dataType!="supplier"?(d(),i("div",I,[t[14]||(t[14]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Kode"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan kode",class:"w-full px-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":t[2]||(t[2]=a=>s(e).code=a)},null,512),[[g,s(e).code]]),s(e).errors.code?(d(),i("p",q,u(s(e).errors.code),1)):l("",!0)])):l("",!0),p.dataType!="supplier"?(d(),i("div",G,[t[15]||(t[15]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Nama"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan nama",class:"w-full px-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":t[3]||(t[3]=a=>s(e).name=a)},null,512),[[g,s(e).name]]),s(e).errors.name?(d(),i("p",J,u(s(e).errors.name),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",Q,[t[16]||(t[16]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Nama Supplier"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan nama",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":t[4]||(t[4]=a=>s(e).name=a)},null,512),[[g,s(e).name]]),s(e).errors.name?(d(),i("p",R,u(s(e).errors.name),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",W,[t[17]||(t[17]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("No Hp"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan No Hp",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":t[5]||(t[5]=a=>s(e).phone=a)},null,512),[[g,s(e).phone]]),s(e).errors.phone?(d(),i("p",X,u(s(e).errors.phone),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",Y,[t[18]||(t[18]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Alamat"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan alamat",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":t[6]||(t[6]=a=>s(e).address=a)},null,512),[[g,s(e).address]]),s(e).errors.address?(d(),i("p",Z,u(s(e).errors.address),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",D,[t[21]||(t[21]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Type"),r("span",{class:"text-red-500"},"*")],-1)),m(r("select",{class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg dark:bg-gray-700 dark:text-white","onUpdate:modelValue":t[7]||(t[7]=a=>s(e).type=a)},[n.mode=="create"?(d(),i("option",ee," Pilih Type ")):l("",!0),t[19]||(t[19]=r("option",{value:"type_online"},"Online",-1)),t[20]||(t[20]=r("option",{value:"type_offline"},"Offline",-1))],512),[[x,s(e).type]]),s(e).errors.type?(d(),i("p",te,u(s(e).errors.type),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",re,[t[24]||(t[24]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Status"),r("span",{class:"text-red-500"},"*")],-1)),m(r("select",{class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg dark:bg-gray-700 dark:text-white","onUpdate:modelValue":t[8]||(t[8]=a=>s(e).status=a)},[n.mode=="create"?(d(),i("option",se," Pilih Status ")):l("",!0),t[22]||(t[22]=r("option",{value:"active"},"Aktif",-1)),t[23]||(t[23]=r("option",{value:"inactive"},"Tidak Aktif",-1))],512),[[x,s(e).status]]),s(e).errors.status?(d(),i("p",oe,u(s(e).errors.status),1)):l("",!0)])):l("",!0),r("div",null,[t[25]||(t[25]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Catatan / Deskripsi ",-1)),m(r("textarea",{type:"text",placeholder:"Masukkan Catatan / Deskripsi",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":t[9]||(t[9]=a=>s(e).description=a)},null,512),[[g,s(e).description]]),s(e).errors.description?(d(),i("p",ae,u(s(e).errors.description),1)):l("",!0)]),p.dataType=="unit"?(d(),i("div",de,[r("label",ie,[m(r("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=a=>s(e).is_decimal=a),class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 ..."},null,512),[[_,s(e).is_decimal]]),t[26]||(t[26]=r("span",{class:"text-sm text-gray-600 dark:text-gray-400"}," Izinkan diecer (ex. liter, meter) ",-1))]),s(e).errors.is_decimal?(d(),i("p",le,u(s(e).errors.is_decimal),1)):l("",!0)])):l("",!0),r("div",ne,[r("button",{type:"button",onClick:t[11]||(t[11]=a=>o.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}," Batal "),r("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white rounded-lg bg-lime-500 hover:bg-lime-600",disabled:s(e).processing},u(s(e).processing?"Menyimpan...":"Simpan"),9,ue)])],32)])]),_:1},8,["show"]))}};export{ce as default};
