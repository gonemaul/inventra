import{B as g}from"./BottomSheet-Cz_QCYKv.js";import{C as b,q as f,d as p,o as c,w as h,f as n,l as v,m as w,t as y}from"./vendor-core-CTIsLlXR.js";const _={class:"relative pb-3 bg-white border-2 border-gray-300 rounded-lg md:border-0 dark:bg-gray-800"},k={class:"mt-4"},U=["src"],x={key:0,class:"mt-5 text-center"},B=["disabled"],E={__name:"ImageModal",props:{show:{type:Boolean,default:!1},imageUrl:{type:String,default:null},productName:{type:String,default:"Detail Gambar"}},emits:["close"],setup(r,{emit:C}){const s=r,o=b(()=>s.imageUrl??null),a=f(!1);async function d(){if(o.value){a.value=!0;try{const e=await fetch(o.value);if(!e.ok)throw new Error("Gagal mengambil gambar");const l=await e.blob(),i=URL.createObjectURL(l),t=document.createElement("a");t.style.display="none",t.href=i;const u=s.imageUrl.split(".").pop(),m=s.productName.replace(/[/\\?%*:|"<>]/g,"-");t.download=`${m}.${u}`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(i)}catch(e){console.error("Gagal mengunduh gambar:",e)}finally{a.value=!1}}}return(e,l)=>(c(),p(g,{show:r.show,onClose:l[0]||(l[0]=i=>e.$emit("close")),title:r.productName},{default:h(()=>[n("div",_,[n("div",k,[n("img",{loading:"lazy",src:o.value==null?"/no-image.png":o.value,alt:"Product Image Large",class:"object-contain w-full rounded-lg aspect-square"},null,8,U)]),o.value?(c(),v("div",x,[n("button",{onClick:d,disabled:a.value,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out border border-transparent rounded-md bg-lime-500 hover:bg-lime-600 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2 disabled:opacity-50"},y(a.value?"Mengunduh...":"Unduh Gambar"),9,B)])):w("",!0)])]),_:1},8,["show","title"]))}};export{E as _};
