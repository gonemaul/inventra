import{_ as f}from"./Modal-gP53gBdn.js";import{j as b,x as p,c as h,o as d,w,b as e,g as v,i as y,t as c}from"./app-CKedD50u.js";const k={class:"relative p-4 bg-white rounded-lg dark:bg-gray-800"},x={class:"flex items-center justify-between pb-3 border-b dark:border-gray-700"},_={class:"text-lg font-medium text-gray-900 dark:text-white"},U={class:"mt-4"},C=["src"],$={key:0,class:"mt-5 text-center"},j=["disabled"],E={__name:"ImageModal",props:{show:{type:Boolean,default:!1},imageUrl:{type:String,default:null},productName:{type:String,default:"Detail Gambar"}},emits:["close"],setup(i,{emit:B}){const n=i,s=b(()=>n.imageUrl?`/storage/${n.imageUrl}`:null),r=p(!1);async function u(){if(s.value){r.value=!0;try{const o=await fetch(s.value);if(!o.ok)throw new Error("Gagal mengambil gambar");const t=await o.blob(),l=URL.createObjectURL(t),a=document.createElement("a");a.style.display="none",a.href=l;const m=n.imageUrl.split(".").pop(),g=n.productName.replace(/[/\\?%*:|"<>]/g,"-");a.download=`${g}.${m}`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l)}catch(o){console.error("Gagal mengunduh gambar:",o)}finally{r.value=!1}}}return(o,t)=>(d(),h(f,{show:i.show,onClose:t[1]||(t[1]=l=>o.$emit("close")),maxWidth:"xl"},{default:w(()=>[e("div",k,[e("div",x,[e("h3",_,c(i.productName),1),e("button",{onClick:t[0]||(t[0]=l=>o.$emit("close")),class:"p-1 text-gray-400 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-lime-500"},[...t[2]||(t[2]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",U,[e("img",{src:s.value==null?"/no-image.png":s.value,alt:"Product Image Large",class:"object-contain w-full rounded-lg aspect-square"},null,8,C)]),s.value?(d(),v("div",$,[e("button",{onClick:u,disabled:r.value,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out border border-transparent rounded-md bg-lime-500 hover:bg-lime-600 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2 disabled:opacity-50"},c(r.value?"Mengunduh...":"Unduh Gambar"),9,j)])):y("",!0)])]),_:1},8,["show"]))}};export{E as _};
