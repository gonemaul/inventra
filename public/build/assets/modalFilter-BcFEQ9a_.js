import{u as A,c as C,o as n,w as D,b as t,k as i,d as o,g as u,F as p,m as b,t as m,A as c,n as M,z as y,v as w,q as h}from"./app-C_cXePOB.js";import{_ as T}from"./Modal-DR4Qf9lZ.js";import{u as z}from"./useActionLoading-Bvh_DZn-.js";const j={class:"w-full p-4 bg-white shadow rounded-xl dark:bg-gray-800"},B={class:"mb-4"},I={class:"flex gap-2"},O=["value"],H={class:"mb-4"},N=["value"],$={class:"mb-4"},L=["value"],R={class:"mb-4"},K=["value"],Z={class:"mb-4"},q={class:"flex flex-wrap gap-2"},E=["onClick"],J={class:"mb-4"},P={class:"flex gap-2"},W={class:"mb-4"},G={class:"flex gap-2"},Q={class:"flex flex-col gap-2"},X={class:"text-xs text-gray-500"},Y={class:"flex flex-col gap-2"},ee={class:"text-xs text-gray-500"},te={class:"block mb-4 mr-auto md:hidden"},re={class:"flex items-center space-x-2 cursor-pointer"},se={class:"flex justify-center gap-2 md:justify-between"},oe={class:"hidden my-auto md:block"},ae={class:"flex items-center space-x-2 cursor-pointer"},le={class:"flex gap-3"},de=["disabled"],me={__name:"modalFilter",props:{show:{type:Boolean,default:!1},filters:Object,dropdowns:Object},emits:["close"],setup(g,{emit:_}){const a=g,f=_,S=[{value:"created_at",label:"Terbaru"},{value:"name",label:"Nama"},{value:"selling_price",label:"Harga"},{value:"stock",label:"Stok"}],s=A({sort:a.filters.sort||"created_at",order:a.filters.order||"desc",status:a.filters.status||"",category_id:a.filters.category_id||"",supplier_id:a.filters.supplier_id||"",sizes:a.filters.sizes||[],min_stock:a.filters.min_stock||"",max_stock:a.filters.max_stock||"",min_price:a.filters.min_price||"",max_price:a.filters.max_price||"",trashed:a.filters.trashed||!1}),{isActionLoading:x}=z();function k(l){return Object.entries(l).reduce((e,[r,d])=>(typeof d=="boolean"&&d===!1||d!=null&&d!==""&&(Array.isArray(d)&&d.length===0||(e[r]=d)),e),{})}function F(l){const e=s.sizes.indexOf(l);e>-1?s.sizes.splice(e,1):s.sizes.push(l)}function v(l){return s.sizes.includes(l)}function U(){const l=s.data(),r={...{search:a.filters.search||""},...l},d=k(r);x.value=!0,h.get(route("products.index"),d,{preserveState:!0,replace:!0,onFinish:()=>{x.value=!1,f("close")}})}function V(){const l=k({search:a.filters.search||""});x.value=!0,h.get(route("products.index"),l,{preserveState:!0,replace:!0,onFinish:()=>{x.value=!1,f("close"),s.reset()}})}return(l,e)=>(n(),C(T,{show:g.show,onClose:e[11]||(e[11]=r=>l.$emit("close")),maxWidth:"lg"},{default:D(()=>[t("div",j,[e[25]||(e[25]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white"}," Filter Produk ",-1)),t("div",B,[e[13]||(e[13]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Sortir",-1)),t("div",I,[i(t("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>o(s).sort=r),class:"w-1/2 px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[(n(),u(p,null,b(S,r=>t("option",{key:r.value,value:r.value},m(r.label),9,O)),64))],512),[[c,o(s).sort]]),i(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>o(s).order=r),class:"w-1/2 px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[...e[12]||(e[12]=[t("option",{value:"desc"},"Terbaru / Desc (Z-A)",-1),t("option",{value:"asc"},"Terlama / Asc (A-Z)",-1)])],512),[[c,o(s).order]])])]),t("div",H,[e[15]||(e[15]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Status",-1)),i(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>o(s).status=r),class:"w-full px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[e[14]||(e[14]=t("option",{value:""},"Semua Status",-1)),(n(!0),u(p,null,b(g.dropdowns.productStatuses,r=>(n(),u("option",{key:r,value:r},m(r.charAt(0).toUpperCase()+r.slice(1)),9,N))),128))],512),[[c,o(s).status]])]),t("div",$,[e[17]||(e[17]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Kategori",-1)),i(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>o(s).category_id=r),class:"w-full px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[e[16]||(e[16]=t("option",{value:""},"Semua Kategori",-1)),(n(!0),u(p,null,b(g.dropdowns.categories,r=>(n(),u("option",{key:r.id,value:r.id},m(r.name),9,L))),128))],512),[[c,o(s).category_id]])]),t("div",R,[e[19]||(e[19]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Supplier",-1)),i(t("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>o(s).supplier_id=r),class:"w-full px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[e[18]||(e[18]=t("option",{value:""},"Semua Supplier",-1)),(n(!0),u(p,null,b(g.dropdowns.suppliers,r=>(n(),u("option",{key:r.id,value:r.id},m(r.name),9,K))),128))],512),[[c,o(s).supplier_id]])]),t("div",Z,[e[20]||(e[20]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Ukuran",-1)),t("div",q,[(n(!0),u(p,null,b(g.dropdowns.sizes,r=>(n(),u("button",{key:r.id,class:M(["px-3 py-1 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:text-gray-300",{"bg-lime-500 text-white border-lime-500":v(r.id),"hover:bg-lime-100 dark:hover:bg-gray-600":!v(r.id)}]),onClick:d=>F(r.id)},m(r.name),11,E))),128))])]),t("div",J,[e[21]||(e[21]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Stok",-1)),t("div",P,[i(t("input",{type:"number",placeholder:"Min",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[5]||(e[5]=r=>o(s).min_stock=r)},null,512),[[y,o(s).min_stock]]),i(t("input",{type:"number",placeholder:"Max",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[6]||(e[6]=r=>o(s).max_stock=r)},null,512),[[y,o(s).max_stock]])])]),t("div",W,[e[22]||(e[22]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Harga (Jual)",-1)),t("div",G,[t("div",Q,[i(t("input",{type:"number",placeholder:"Min",class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[7]||(e[7]=r=>o(s).min_price=r)},null,512),[[y,o(s).min_price]]),t("span",X,m(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o(s).min_price)||0),1)]),t("div",Y,[i(t("input",{type:"number",placeholder:"Max",class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[8]||(e[8]=r=>o(s).max_price=r)},null,512),[[y,o(s).max_price]]),t("span",ee,m(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o(s).max_price)||0),1)])])]),t("div",te,[t("label",re,[i(t("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=r=>o(s).trashed=r),class:"border-gray-300 rounded dark:bg-gray-900 dark:border-gray-700 text-lime-600 focus:ring-lime-500"},null,512),[[w,o(s).trashed]]),e[23]||(e[23]=t("span",{class:"text-sm text-gray-700 dark:text-gray-400"}," Hanya Tampilkan Sampah ",-1))])]),t("div",se,[t("div",oe,[t("label",ae,[i(t("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=r=>o(s).trashed=r),class:"border-gray-300 rounded dark:bg-gray-900 dark:border-gray-700 text-lime-600 focus:ring-lime-500"},null,512),[[w,o(s).trashed]]),e[24]||(e[24]=t("span",{class:"text-sm text-gray-700 dark:text-gray-400"}," Hanya Tampilkan Sampah ",-1))])]),t("div",le,[t("button",{class:"px-4 py-2 text-sm font-medium text-white rounded-lg bg-lime-500 hover:bg-lime-600 disabled:opacity-50",onClick:U,disabled:o(s).processing},m(o(s).processing?"Menerapkan...":"Terapkan"),9,de),t("button",{class:"px-4 py-2 text-sm font-medium bg-gray-200 rounded-lg hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-gray-200",onClick:V,type:"button"}," Reset ")])])])]),_:1},8,["show"]))}};export{me as default};
