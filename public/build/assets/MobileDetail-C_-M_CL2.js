import{x as k,g as o,o as r,b as e,a as h,w as p,d as v,l as m,t as n,n as c,i as d,F as u,q as b}from"./app-DSt5PKVY.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const f={class:"min-h-screen pb-32 font-sans bg-gray-100 dark:bg-gray-900"},C={class:"sticky top-0 z-30 bg-white shadow-sm dark:bg-gray-800"},_={class:"flex items-center justify-between px-4 py-3 border-b dark:border-gray-700"},j={class:"text-center"},I={class:"text-sm font-black text-gray-800 dark:text-white"},M={class:"relative"},B={class:"px-4 py-3 text-sm bg-gray-50 dark:bg-gray-900/50"},z={class:"flex justify-between mb-1"},D={class:"font-bold text-gray-800 dark:text-gray-200"},F={class:"flex justify-between"},E={class:"font-medium text-gray-800 dark:text-gray-200"},S={class:"grid grid-cols-2 gap-2 p-2 bg-white dark:bg-gray-800"},V={class:"p-4 space-y-4"},$={key:0,class:"space-y-3"},q={key:0,class:"py-10 text-center bg-white border-2 border-gray-200 border-dashed dark:bg-gray-800 rounded-2xl dark:border-gray-700"},N={class:"flex items-start justify-between pl-3 mb-2"},O={class:"font-bold text-gray-800 dark:text-white"},A={class:"text-[10px] text-gray-400 uppercase tracking-wide"},L={class:"text-right"},T={class:"font-black text-indigo-600 dark:text-indigo-400"},H={key:0,class:"text-[10px] text-red-500 bg-red-50 px-1.5 py-0.5 rounded"},P={key:0,class:"pl-3 mb-3"},R=["src"],G={key:1,class:"flex gap-2 pt-3 pl-3 mt-3 border-t border-gray-100 dark:border-gray-700"},J=["onClick"],K=["onClick"],Q={key:1,class:"space-y-3"},U={class:"absolute top-4 right-4"},W={key:0,class:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},X={key:1,class:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y={class:"pr-8 mb-2 font-bold text-gray-800 dark:text-white"},Z={class:"grid grid-cols-3 gap-2 text-xs text-center"},ee={class:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20"},te={class:"text-sm font-bold text-blue-600 dark:text-blue-400"},se={class:"p-2 rounded-lg bg-red-50 dark:bg-red-900/20"},ae={class:"text-sm font-bold text-red-600 dark:text-red-400"},oe={class:"p-2 border border-green-100 rounded-lg bg-green-50 dark:bg-green-900/20"},re={class:"text-sm font-bold text-green-600 dark:text-green-400"},ne={class:"fixed bottom-0 left-0 w-full bg-white dark:bg-gray-800 border-t dark:border-gray-700 p-4 shadow-[0_-4px_20px_rgba(0,0,0,0.1)] z-40 safe-area-pb"},de={class:"flex gap-3"},ie=["disabled"],le={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ce=["onClick"],ge={__name:"MobileDetail",props:{purchase:Object,invoices:Object,invoice:Object,paymentStatuses:Array,isCheckingMode:Boolean,actions:Object,validationItems:Array,allowFinalize:Boolean,canEditDeleteInvoice:Boolean,isEditing:Boolean},setup(a){const i=k("invoices"),x=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),y=l=>({draft:"bg-gray-100 text-gray-600",dipesan:"bg-blue-100 text-blue-600",dikirim:"bg-yellow-100 text-yellow-700",diterima:"bg-orange-100 text-orange-700",checking:"bg-purple-100 text-purple-700",completed:"bg-green-100 text-green-700"})[l]||"bg-gray-100";return(l,t)=>(r(),o("div",f,[e("div",C,[e("div",_,[h(v(m),{href:l.route("purchases.index"),class:"p-2 -ml-2 text-gray-600 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 dark:text-gray-300"},{default:p(()=>[...t[5]||(t[5]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1},8,["href"]),e("div",j,[t[6]||(t[6]=e("div",{class:"text-[10px] uppercase font-bold text-gray-400 tracking-wider"}," Purchase Order ",-1)),e("div",I," #"+n(a.purchase.reference_no),1)]),e("div",M,[e("span",{class:c([y(a.purchase.status),"px-2 py-1 rounded text-[10px] font-bold uppercase"])},n(a.purchase.status),3)])]),e("div",B,[e("div",z,[t[7]||(t[7]=e("span",{class:"text-gray-500"},"Supplier",-1)),e("span",D,n(a.purchase.supplier?.name||"-"),1)]),e("div",F,[t[8]||(t[8]=e("span",{class:"text-gray-500"},"Tanggal",-1)),e("span",E,n(a.purchase.transaction_date),1)])]),e("div",S,[e("button",{onClick:t[0]||(t[0]=s=>i.value="invoices"),class:c([i.value==="invoices"?"bg-indigo-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-300","py-2.5 rounded-xl text-xs font-bold uppercase transition-all"])}," ðŸ“„ Invoice ("+n(a.purchase.invoices?.length||0)+") ",3),e("button",{onClick:t[1]||(t[1]=s=>i.value="products"),class:c([i.value==="products"?"bg-indigo-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-300","py-2.5 rounded-xl text-xs font-bold uppercase transition-all"])}," ðŸ“¦ Validasi Item ",2)])]),e("div",V,[i.value==="invoices"?(r(),o("div",$,[a.purchase.invoices.length?d("",!0):(r(),o("div",q,[t[9]||(t[9]=e("p",{class:"mb-2 text-sm text-gray-400"}," Belum ada nota yang diinput ",-1)),a.canEditDeleteInvoice?(r(),o("button",{key:0,onClick:t[2]||(t[2]=(...s)=>a.actions.openCreateInvoiceModal&&a.actions.openCreateInvoiceModal(...s)),class:"text-sm font-bold text-indigo-600 underline"}," + Input Nota Sekarang ")):d("",!0)])),(r(!0),o(u,null,b(a.purchase.invoices,s=>(r(),o("div",{key:s.id,class:"relative p-4 overflow-hidden bg-white border border-gray-100 shadow-sm dark:bg-gray-800 rounded-2xl dark:border-gray-700"},[e("div",{class:c(["absolute left-0 top-0 bottom-0 w-1.5",s.status==="validated"?"bg-green-500":"bg-yellow-500"])},null,2),e("div",N,[e("div",null,[e("h4",O,n(s.invoice_number),1),e("p",A,n(s.payment_status),1)]),e("div",L,[e("div",T,n(x(s.total_amount)),1),s.due_date?(r(),o("span",H," Tempo: "+n(s.due_date),1)):d("",!0)])]),s.image_path?(r(),o("div",P,[e("img",{src:`/storage/${s.image_path}`,class:"object-cover w-16 h-16 border rounded-lg dark:border-gray-600"},null,8,R)])):d("",!0),a.canEditDeleteInvoice?(r(),o("div",G,[e("button",{onClick:g=>a.actions.handleEditInvoice(s),class:"flex-1 py-2 text-xs font-bold text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-200"}," Edit ",8,J),e("button",{onClick:g=>a.actions.handleDeleteInvoice(s),class:"flex-1 py-2 text-xs font-bold text-red-600 rounded-lg bg-red-50 hover:bg-red-100"}," Hapus ",8,K)])):d("",!0)]))),128))])):(r(),o("div",Q,[(r(!0),o(u,null,b(a.validationItems,s=>(r(),o("div",{key:s.id,class:"relative p-4 bg-white border border-gray-100 shadow-sm dark:bg-gray-800 rounded-2xl dark:border-gray-700"},[e("div",U,[s.is_valid?(r(),o("svg",W,[...t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):(r(),o("svg",X,[...t[11]||(t[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))]),e("h4",Y,n(s.product?.name),1),e("div",Z,[e("div",ee,[t[12]||(t[12]=e("span",{class:"block text-gray-400 text-[10px] uppercase"},"Pesan",-1)),e("span",te,n(s.quantity),1)]),e("div",se,[t[13]||(t[13]=e("span",{class:"block text-gray-400 text-[10px] uppercase"},"Reject",-1)),e("span",ae,n(s.rejected_quantity),1)]),e("div",oe,[t[14]||(t[14]=e("span",{class:"block text-gray-400 text-[10px] uppercase"},"Valid",-1)),e("span",re,n(s.quantity-s.rejected_quantity),1)])])]))),128))]))]),e("div",ne,[e("div",de,[a.purchase.status==="checking"?(r(),o("button",{key:0,onClick:t[3]||(t[3]=(...s)=>a.actions.openFinalizeModal&&a.actions.openFinalizeModal(...s)),disabled:!a.allowFinalize,class:c([a.allowFinalize?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-500/30":"bg-gray-300 text-gray-500 cursor-not-allowed","flex-1 py-3.5 rounded-xl font-bold text-sm shadow-lg transition active:scale-95 flex justify-center items-center gap-2"])},[a.allowFinalize?(r(),o("svg",le,[...t[15]||(t[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):d("",!0),e("span",null,n(a.allowFinalize?"Selesaikan Validasi":"Belum Lengkap"),1)],10,ie)):d("",!0),(r(!0),o(u,null,b(a.actions.getActions(a.purchase),(s,g)=>(r(),o("button",{key:g,onClick:ue=>a.actions.updateStatus(a.purchase,s.newStatus),class:"flex-1 py-3.5 bg-lime-500 hover:bg-lime-600 text-white rounded-xl font-bold text-sm shadow-lg shadow-lime-500/30 transition active:scale-95"},n(s.label),9,ce))),128)),i.value==="invoices"&&a.canEditDeleteInvoice?(r(),o("button",{key:1,onClick:t[4]||(t[4]=(...s)=>a.actions.openCreateInvoiceModal&&a.actions.openCreateInvoiceModal(...s)),class:"flex items-center justify-center w-12 h-12 text-white bg-gray-900 shadow-lg dark:bg-white dark:text-gray-900 rounded-xl active:scale-95"},[...t[16]||(t[16]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])])):d("",!0)])])]))}},ye=w(ge,[["__scopeId","data-v-a8b5f879"]]);export{ye as default};
