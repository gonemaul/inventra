import{u as C,d as B,o as a,w as M,f as e,q as i,g as l,l as n,F as x,C as b,t as d,J as m,I as y,n as v,m as z,D as _}from"./vendor-core-n0E2YlDl.js";import{u as D}from"./useActionLoading-De_ETMek.js";import{B as A}from"./BottomSheetFilter-CZTAD-G9.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-common-BBegFRNv.js";import"./vendor-charts-Bw6UNgWf.js";const H={class:"flex-1 space-y-8 o custom-scrollbar"},N={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-x-6 gap-y-4"},$=["value"],j=["value"],I=["value"],J=["value"],R={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},O=["value"],P=["value"],h={class:"grid grid-cols-1 gap-6 md:grid-cols-3"},K={class:"flex gap-2"},L={class:"flex gap-2"},Z={class:""},q={class:"text-[10px] text-gray-400 mt-1 text-left"},E={class:"text-[10px] text-gray-400 mt-1 text-left"},G={class:"flex gap-2"},Q={class:""},W={class:"text-[10px] text-gray-400 mt-1 text-left"},X={class:""},Y={class:"text-[10px] text-gray-400 mt-1 text-left"},tt={class:"p-4 border border-gray-100 bg-gray-50 dark:bg-gray-700/30 rounded-xl dark:border-gray-600"},et={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},rt={class:"sm:col-span-2"},st={class:"flex gap-2"},lt=["value"],ot={class:"flex overflow-hidden bg-white border border-gray-300 rounded-lg dark:bg-gray-700 dark:border-gray-600"},at={class:"flex flex-col-reverse items-center justify-between gap-4 px-5 py-3 mt-3 border-t border-gray-100 rounded-xl sm:flex-row dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800 sm:gap-0"},it={class:"flex w-full gap-3 sm:w-auto"},nt=["disabled"],dt={key:0,class:"w-4 h-4 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ut={__name:"modalFilter",props:{show:{type:Boolean,default:!1},filters:Object,dropdowns:Object},emits:["close"],setup(p,{emit:w}){const o=p,k=w,S=[{value:"created_at",label:"Tanggal Dibuat"},{value:"name",label:"Nama Produk"},{value:"stock",label:"Jumlah Stok"},{value:"selling_price",label:"Harga Jual"},{value:"purchase_price",label:"Harga Beli"}],s=C({category_id:o.filters.category_id||"",brand_id:o.filters.brand_id||"",supplier_id:o.filters.supplier_id||"",product_type_id:o.filters.product_type_id||"",unit_id:o.filters.unit_id||"",size_id:o.filters.size_id||"",min_stock:o.filters.stock_min||"",max_stock:o.filters.stock_max||"",min_price:o.filters.price_min||"",max_price:o.filters.price_max||"",min_cost:o.filters.cost_min||"",max_cost:o.filters.cost_max||"",status:o.filters.status||"",trashed:o.filters.trashed||"",sort:o.filters.sort||"created_at",order:o.filters.order||"desc"}),{isActionLoading:g}=D();function U(u){return Object.entries(u).reduce((t,[r,c])=>(c!=null&&c!==""&&(t[r]=c),t),{})}function V(){const t={...o.filters.search?{search:o.filters.search}:{},category_id:s.category_id,brand_id:s.brand_id,supplier_id:s.supplier_id,product_type_id:s.product_type_id,unit_id:s.unit_id,size_id:s.size_id,status:s.status,trashed:s.trashed,sort:s.sort,order:s.order,stock_min:s.min_stock,stock_max:s.max_stock,price_min:s.min_price,price_max:s.max_price,cost_min:s.min_cost,cost_max:s.max_cost},r=U(t);g.value=!0,_.get(route("products.index"),r,{preserveState:!0,replace:!0,onFinish:()=>{g.value=!1,k("close")}})}function F(){const u=o.filters.search?{search:o.filters.search}:{};g.value=!0,_.get(route("products.index"),u,{preserveState:!0,replace:!0,onFinish:()=>{g.value=!1,s.reset(),s.defaults(),k("close")}})}const f=u=>u?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(u):"0";return(u,t)=>(a(),B(A,{show:p.show,title:"produk",onClose:t[18]||(t[18]=r=>u.$emit("close"))},{default:M(()=>[e("div",H,[e("section",null,[t[27]||(t[27]=e("h3",{class:"pb-1 mb-3 text-xs font-bold tracking-wider text-gray-400 uppercase border-b border-gray-100 dark:border-gray-700"}," Klasifikasi Produk ",-1)),e("div",N,[e("div",null,[t[20]||(t[20]=e("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Kategori",-1)),i(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>l(s).category_id=r),class:"form-select"},[t[19]||(t[19]=e("option",{value:""},"Semua Kategori",-1)),(a(!0),n(x,null,b(p.dropdowns.categories,r=>(a(),n("option",{key:r.id,value:r.id},d(r.name),9,$))),128))],512),[[m,l(s).category_id]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Tipe Produk",-1)),i(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>l(s).product_type_id=r),class:"form-select"},[t[21]||(t[21]=e("option",{value:""},"Semua Tipe",-1)),(a(!0),n(x,null,b(p.dropdowns.types,r=>(a(),n("option",{key:r.id,value:r.id},d(r.name),9,j))),128))],512),[[m,l(s).product_type_id]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Merk / Brand",-1)),i(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>l(s).brand_id=r),class:"form-select"},[t[23]||(t[23]=e("option",{value:""},"Semua Merk",-1)),(a(!0),n(x,null,b(p.dropdowns.brands,r=>(a(),n("option",{key:r.id,value:r.id},d(r.name),9,I))),128))],512),[[m,l(s).brand_id]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Supplier",-1)),i(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>l(s).supplier_id=r),class:"form-select"},[t[25]||(t[25]=e("option",{value:""},"Semua Supplier",-1)),(a(!0),n(x,null,b(p.dropdowns.suppliers,r=>(a(),n("option",{key:r.id,value:r.id},d(r.name),9,J))),128))],512),[[m,l(s).supplier_id]])])])]),e("section",null,[t[32]||(t[32]=e("h3",{class:"pb-1 mb-3 text-xs font-bold tracking-wider text-gray-400 uppercase border-b border-gray-100 dark:border-gray-700"}," Spesifikasi Fisik ",-1)),e("div",R,[e("div",null,[t[29]||(t[29]=e("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Satuan (Unit)",-1)),i(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>l(s).unit_id=r),class:"form-select"},[t[28]||(t[28]=e("option",{value:""},"Semua Satuan",-1)),(a(!0),n(x,null,b(p.dropdowns.units,r=>(a(),n("option",{key:r.id,value:r.id},d(r.name),9,O))),128))],512),[[m,l(s).unit_id]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Ukuran (Size)",-1)),i(e("select",{"onUpdate:modelValue":t[5]||(t[5]=r=>l(s).size_id=r),class:"form-select"},[t[30]||(t[30]=e("option",{value:""},"Semua Ukuran",-1)),(a(!0),n(x,null,b(p.dropdowns.sizes,r=>(a(),n("option",{key:r.id,value:r.id},d(r.name),9,P))),128))],512),[[m,l(s).size_id]])])])]),e("section",null,[t[39]||(t[39]=e("h3",{class:"pb-1 mb-3 text-xs font-bold tracking-wider text-gray-400 uppercase border-b border-gray-100 dark:border-gray-700"}," Rentang Nilai ",-1)),e("div",h,[e("div",null,[t[34]||(t[34]=e("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Jumlah Stok",-1)),e("div",K,[i(e("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=r=>l(s).min_stock=r),placeholder:"Min",class:"px-1 text-center form-input"},null,512),[[y,l(s).min_stock]]),t[33]||(t[33]=e("span",{class:"self-center text-gray-400"},"-",-1)),i(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=r=>l(s).max_stock=r),placeholder:"Max",class:"px-1 text-center form-input"},null,512),[[y,l(s).max_stock]])])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Harga Jual",-1)),e("div",L,[e("div",Z,[i(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=r=>l(s).min_price=r),placeholder:"Min",class:"px-1 text-center form-input"},null,512),[[y,l(s).min_price]]),e("p",q,d(f(l(s).min_price)),1)]),t[35]||(t[35]=e("span",{class:"self-start mt-2 text-gray-400"},"-",-1)),e("div",null,[i(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=r=>l(s).max_price=r),placeholder:"Max",class:"px-1 text-center form-input"},null,512),[[y,l(s).max_price]]),e("p",E,d(f(l(s).max_price)),1)])])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Harga Beli",-1)),e("div",G,[e("div",Q,[i(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=r=>l(s).min_cost=r),placeholder:"Min",class:"px-1 text-center form-input"},null,512),[[y,l(s).min_cost]]),e("p",W,d(f(l(s).min_cost)),1)]),t[37]||(t[37]=e("span",{class:"self-start mt-2 text-gray-400"},"-",-1)),e("div",X,[i(e("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=r=>l(s).max_cost=r),placeholder:"Max",class:"px-1 text-center form-input"},null,512),[[y,l(s).max_cost]]),e("p",Y,d(f(l(s).max_cost)),1)])])])])]),e("section",tt,[e("div",et,[e("div",null,[t[41]||(t[41]=e("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Status Produk",-1)),i(e("select",{"onUpdate:modelValue":t[12]||(t[12]=r=>l(s).status=r),class:"form-select"},[...t[40]||(t[40]=[e("option",{value:""},"Semua Status",-1),e("option",{value:"active"},"Aktif (Tampil)",-1),e("option",{value:"inactive"}," Non-Aktif (Disembunyikan) ",-1)])],512),[[m,l(s).status]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Data Terhapus",-1)),i(e("select",{"onUpdate:modelValue":t[13]||(t[13]=r=>l(s).trashed=r),class:"font-medium text-red-600 form-select"},[...t[42]||(t[42]=[e("option",{value:""},"Sembunyikan Sampah",-1),e("option",{value:"with"},"Tampilkan Arsip Sampah",-1),e("option",{value:"only"}," Hanya Sampah (Recovery) ",-1)])],512),[[m,l(s).trashed]])]),e("div",rt,[t[45]||(t[45]=e("label",{class:"block mb-1.5 text-xs font-bold text-gray-700 dark:text-gray-300"},"Urutkan Data",-1)),e("div",st,[i(e("select",{"onUpdate:modelValue":t[14]||(t[14]=r=>l(s).sort=r),class:"flex-1 form-select"},[(a(),n(x,null,b(S,r=>e("option",{key:r.value,value:r.value},d(r.label),9,lt)),64))],512),[[m,l(s).sort]]),e("div",ot,[e("button",{type:"button",onClick:t[15]||(t[15]=r=>l(s).order="asc"),class:v(["px-3 py-2 text-xs font-bold transition hover:bg-lime-50 dark:hover:bg-gray-600",l(s).order==="asc"?"bg-lime-500 text-white hover:bg-lime-600":"text-gray-600 dark:text-gray-300"])}," A-Z ",2),t[44]||(t[44]=e("div",{class:"w-px bg-gray-300 dark:bg-gray-600"},null,-1)),e("button",{type:"button",onClick:t[16]||(t[16]=r=>l(s).order="desc"),class:v(["px-3 py-2 text-xs font-bold transition hover:bg-lime-50 dark:hover:bg-gray-600",l(s).order==="desc"?"bg-lime-500 text-white hover:bg-lime-600":"text-gray-600 dark:text-gray-300"])}," Z-A ",2)])])])])])]),e("div",at,[e("button",{onClick:F,class:"text-xs font-bold text-gray-500 transition border-b border-gray-400 border-dashed dark:text-gray-400 hover:text-red-500 hover:border-red-500"}," Reset ke Default "),e("div",it,[e("button",{onClick:t[17]||(t[17]=r=>u.$emit("close")),class:"flex-1 sm:flex-none px-5 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-bold text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition"}," Batal "),e("button",{onClick:V,class:"flex-1 sm:flex-none px-8 py-2.5 rounded-xl bg-lime-500 hover:bg-lime-600 text-white font-bold text-sm shadow-md shadow-lime-200 dark:shadow-none transition flex items-center justify-center gap-2",disabled:l(g)},[l(g)?(a(),n("svg",dt,[...t[46]||(t[46]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):z("",!0),t[47]||(t[47]=e("span",null,"Terapkan Filter",-1))],8,nt)])])]),_:1},8,["show"]))}},ft=T(ut,[["__scopeId","data-v-a1fccd64"]]);export{ft as default};
