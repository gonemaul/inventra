import{C as x,l as s,o as a,m as n,f as e,t as o,n as i,k as c,x as b}from"./vendor-core-CTIsLlXR.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";const u={key:0,class:"absolute top-0 right-0 z-20 bg-lime-500 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg shadow-sm"},y={class:"relative w-full overflow-hidden bg-gray-100 aspect-[4/3] dark:bg-gray-700"},f=["src"],k={key:1,class:"absolute inset-0 z-0 flex flex-col items-center justify-center text-gray-400 dark:text-gray-500"},h={key:2,class:"absolute inset-0 z-20 flex items-center justify-center bg-gray-900/60 backdrop-blur-[1px]"},v={class:"absolute bottom-0 left-0 right-0 z-10 p-2 pt-6 bg-gradient-to-t from-black/70 to-transparent"},w={class:"flex items-end justify-between text-white"},p={class:i(["text-xs font-bold"])},j={class:"flex items-center justify-between mb-1.5"},C=["title"],S=["title"],z=["title"],B={class:"flex flex-col gap-2 mb-3"},N={class:"flex flex-col gap-2 mb-3"},M={class:"flex items-start"},I={key:0,class:"flex items-center justify-between"},D={class:"text-[10px] font-mono font-bold text-white bg-red-500 px-1.5 py-0.5 rounded shadow-sm"},O={key:1,class:"flex items-center justify-between opacity-40 grayscale"},V={class:"text-[10px] font-mono text-gray-400"},H={class:"flex flex-col"},L={class:"text-xs font-black text-gray-800 dark:text-gray-200"},R={key:0,class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},q={key:1,class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},G={__name:"CatalogCard",props:{item:Object,isSelected:Boolean,isInCart:Boolean,cartQty:Number},emits:["select"],setup(t,{emit:A}){const m=t,g=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),d=x(()=>m.item.insights?.find(r=>r.type==="restock")?.payload?.suggested_qty||0);return(l,r)=>(a(),s("div",{onClick:r[0]||(r[0]=F=>l.$emit("select",t.item)),class:i(["relative flex flex-col overflow-hidden transition-all duration-200 border cursor-pointer rounded-xl group hover:shadow-lg",[t.isSelected?"ring-2 ring-lime-500 border-lime-500 bg-lime-50 dark:bg-lime-900/20 z-10":"bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700 hover:border-lime-400 dark:hover:border-lime-500 hover:shadow-md"]])},[t.isInCart?(a(),s("span",u,o(t.cartQty)+" di List ",1)):n("",!0),e("div",y,[t.item.image_url?(a(),s("img",{key:0,src:t.item.image_url,loading:"lazy",class:"absolute inset-0 z-10 object-cover w-full h-full transition-transform duration-500 group-hover:scale-110",alt:"Product Image"},null,8,f)):(a(),s("div",k,[...r[1]||(r[1]=[e("svg",{class:"w-8 h-8 mb-1 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),e("span",{class:"text-[10px] font-medium"},"No Image",-1)])])),t.item.stock<=0?(a(),s("div",h,[...r[2]||(r[2]=[e("span",{class:"px-2 py-1 text-xs font-bold text-white transform border-2 border-white rounded bg-red-600/90 -rotate-12"},"KOSONG",-1)])])):n("",!0),e("div",v,[e("div",w,[r[3]||(r[3]=e("span",{class:"text-[10px] font-light"},"Sisa Stok",-1)),e("span",p,o(t.item.stock>0?t.item.stock+" "+t.item.unit?.name||"Unit":"Habis"),1)])])]),e("div",{class:i(["relative flex flex-col flex-1 p-3 overflow-hidden transition-all duration-200",[t.item.stock<=2?"bg-red-50/60 dark:bg-red-900/10 border-l-4 border-l-red-500":"bg-white dark:bg-gray-800 border-l-4 border-l-gray-200 dark:border-l-gray-700 opacity-90 hover:opacity-100"]])},[e("div",j,[e("span",{class:"text-[9px] font-bold tracking-wider text-gray-400 uppercase truncate max-w-[80px]",title:t.item.brand?.name},o(t.item.brand?.name||"NO BRAND"),9,C),e("span",{class:"text-[9px] font-mono text-gray-400 truncate max-w-[60px]",title:t.item.code}," #"+o(t.item.code),9,S)]),e("h3",{class:i(["text-xs font-bold leading-tight mb-2 line-clamp-2 min-h-[2.5em] transition-colors",t.item.stock<=2?"text-gray-800 dark:text-red-100":"text-gray-700 dark:text-gray-200"]),title:t.item.name},o(t.item.name),11,z),e("div",B,[e("div",N,[e("div",M,[t.item.size||t.item.unit?(a(),s("span",{key:0,class:i(["inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-semibold border",t.item.restock_qty>0?"bg-white border-red-200 text-gray-600 dark:bg-gray-900 dark:border-red-900 dark:text-gray-300":"bg-gray-50 border-gray-200 text-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400"])},[r[4]||(r[4]=e("svg",{class:"w-3 h-3 mr-1 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)),c(" "+o(t.item.size?.name||"-")+" ",1),r[5]||(r[5]=e("span",{class:"mx-1 opacity-40"},"/",-1)),c(" "+o(t.item.unit?.name),1)],2)):n("",!0)]),e("div",null,[d.value>0?(a(),s("div",I,[r[6]||(r[6]=b('<div class="flex items-center gap-1.5 text-red-600 dark:text-red-400"><span class="relative flex w-2 h-2"><span class="absolute inline-flex w-full h-full bg-red-400 rounded-full opacity-75 animate-ping"></span><span class="relative inline-flex w-2 h-2 bg-red-500 rounded-full"></span></span><span class="text-[10px] font-bold uppercase tracking-tight"> Saran Order </span></div>',1)),e("span",D," +"+o(d.value),1)])):(a(),s("div",O,[r[7]||(r[7]=e("div",{class:"flex items-center gap-1.5 text-gray-500"},[e("div",{class:"w-1.5 h-1.5 rounded-full bg-green-500"}),e("span",{class:"text-[10px] font-medium"},"Stok Aman")],-1)),e("span",V,o(t.item.stock),1)]))])])]),e("div",{class:i(["flex items-center justify-between pt-2 mt-auto border-t border-dashed",t.item.stock<=2?"border-red-200 dark:border-red-900/30":"border-gray-100 dark:border-gray-700"])},[e("div",H,[r[8]||(r[8]=e("span",{class:"text-[9px] text-gray-400 uppercase"},"Harga Beli",-1)),e("span",L,o(g(t.item.purchase_price)),1)]),e("button",{class:i(["p-1.5 rounded-lg transition-all active:scale-95 border",[t.isSelected?"bg-lime-500 text-white border-lime-500 shadow-md":"bg-white border-gray-200 text-gray-300 hover:border-lime-500 hover:text-lime-600 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-500"]])},[t.isSelected?(a(),s("svg",R,[...r[9]||(r[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])):(a(),s("svg",q,[...r[10]||(r[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"},null,-1)])]))],2)],2)],2)],2))}};export{G as default};
