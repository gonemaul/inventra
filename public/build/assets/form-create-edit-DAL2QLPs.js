import{u as V,m as U,g as o,o as a,b as r,i as n,n as B,d as s,t as i,a as m,f as u,k as c,A as y,F as k,y as f,B as S,w as v,l as P,e as j}from"./app-Cde9GbA4.js";import{_ as g}from"./TextInput-Ds8JO9zX.js";import{P as F}from"./PrimaryButton-SIQTkSmb.js";import{_ as M}from"./SecondaryButton-Cf523oNa.js";import{u as N}from"./useActionLoading-DxcsvJ2v.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"flex flex-col gap-4 md:flex-row"},C={class:"flex flex-col lg:w-2/5"},D=["src"],K={key:1,class:"flex flex-col items-center justify-center w-full h-full pt-5 pb-6"},L={key:0,class:"mt-1 text-sm text-red-500"},A={class:"flex flex-col justify-center flex-1 gap-3"},H={key:0,class:"mt-1 text-sm text-red-500"},O={key:0,class:"mt-1 text-sm text-red-500"},$={class:"grid grid-cols-1 gap-3 mt-5 md:grid-cols-4"},E={key:0,value:null},J=["value"],R={key:0,class:"mt-1 text-sm text-red-500"},T={key:0,value:null},q=["value"],G={key:0,class:"mt-1 text-sm text-red-500"},W={key:0,value:null},I=["value"],Q={key:0,class:"mt-1 text-sm text-red-500"},X={key:0,value:null},Y=["value"],Z={key:0,class:"mt-1 text-sm text-red-500"},ee={class:"mt-4"},te={key:0,class:"mt-1 text-sm text-red-500"},re={class:"flex flex-col gap-3 mt-4 md:flex-row"},se={class:"flex-1"},le={key:0,class:"mt-1 text-sm text-red-500"},oe={class:"flex-1"},ae={key:0,class:"mt-1 text-sm text-red-500"},de={class:"grid grid-cols-1 gap-3 mt-4 md:grid-cols-3"},ie={key:0,class:"mt-1 text-sm text-red-500"},ne={key:0,class:"mt-1 text-sm text-red-500"},ue=["value"],me={key:0,class:"mt-1 text-sm text-red-500"},pe={class:"flex justify-end gap-3 mt-6"},be={__name:"form-create-edit",props:{dropdowns:Object,product:{type:Object,default:null},mode:String},setup(p){const d=p,{isActionLoading:_}=N(),t=V({category_id:d.product?.category_id||null,unit_id:d.product?.unit_id||null,size_id:d.product?.size_id||null,supplier_id:d.product?.supplier_id||null,name:d.product?.name||"",code:d.product?.code||"",description:d.product?.description||"",status:d.product?.status||"active",purchase_price:d.product?.purchase_price||0,selling_price:d.product?.selling_price||0,stock:d.product?.stock||0,min_stock:d.product?.min_stock||0,image:null}),b=U(d.product?.image_path?`/storage/${d.product.image_path}`:null);function w(x){const e=x.target.files[0];e&&(t.image=e,b.value=URL.createObjectURL(e))}const h=()=>{_.value=!0,d.mode==="create"?t.post(route("products.store"),{onFinish:()=>_.value=!1}):t.transform(x=>({...x,_method:"put"})).post(route("products.update",{product:d.product.id}),{onFinish:()=>_.value=!1})};return(x,e)=>(a(),o("form",{class:"p-6 bg-gray-100 rounded-lg shadow dark:bg-customBg-tableDark",onSubmit:j(h,["prevent"])},[r("div",z,[r("div",C,[r("label",{for:"image-upload",class:B(["flex flex-col items-center justify-center w-40 mt-2 rounded-lg cursor-pointer aspect-square bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600",{"border-2 border-gray-300 border-dashed":!b.value}])},[b.value?(a(),o("img",{key:0,src:b.value,alt:"Preview",class:"object-cover w-full h-full rounded-lg"},null,8,D)):(a(),o("div",K,[...e[12]||(e[12]=[r("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-200"},[r("span",{class:"font-semibold"},"Klik untuk Upload")],-1),r("p",{class:"text-xs text-gray-500 dark:text-gray-200"}," WEBP, PNG (max. 1MB) ",-1)])])),r("input",{id:"image-upload",type:"file",name:"image",class:"hidden",onChange:w},null,32)],2),s(t).errors.image?(a(),o("p",L,i(s(t).errors.image),1)):n("",!0)]),r("div",A,[r("div",null,[e[13]||(e[13]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-100"},"Kode Barang",-1)),m(g,{class:"w-full max-h-10",id:"kode",type:"text",name:"kode",placeholder:"Kode Barang",modelValue:s(t).code,"onUpdate:modelValue":e[0]||(e[0]=l=>s(t).code=l)},null,8,["modelValue"]),s(t).errors.code?(a(),o("p",H,i(s(t).errors.code),1)):n("",!0)]),r("div",null,[e[14]||(e[14]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-100"},[u("Nama Barang"),r("span",{class:"text-red-500"},"*")],-1)),m(g,{class:"w-full max-h-10",id:"nama",type:"text",name:"nama",placeholder:"Nama Barang",modelValue:s(t).name,"onUpdate:modelValue":e[1]||(e[1]=l=>s(t).name=l)},null,8,["modelValue"]),s(t).errors.name?(a(),o("p",O,i(s(t).errors.name),1)):n("",!0)])])]),r("div",$,[r("div",null,[e[15]||(e[15]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-100"},[u("Kategori"),r("span",{class:"text-red-500"},"*")],-1)),c(r("select",{class:"w-full px-3 py-2 text-sm border border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[2]||(e[2]=l=>s(t).category_id=l)},[d.mode=="create"?(a(),o("option",E," Pilih Kategori ")):n("",!0),(a(!0),o(k,null,f(p.dropdowns.categories,l=>(a(),o("option",{key:l.id,value:l.id},i(l.name),9,J))),128))],512),[[y,s(t).category_id]]),s(t).errors.category_id?(a(),o("p",R,i(s(t).errors.category_id),1)):n("",!0)]),r("div",null,[e[16]||(e[16]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-100"},[u("Satuan"),r("span",{class:"text-red-500"},"*")],-1)),c(r("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>s(t).unit_id=l),class:"w-full px-3 py-2 text-sm border border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[d.mode=="create"?(a(),o("option",T," Pilih Satuan ")):n("",!0),(a(!0),o(k,null,f(p.dropdowns.units,l=>(a(),o("option",{key:l.id,value:l.id},i(l.name),9,q))),128))],512),[[y,s(t).unit_id]]),s(t).errors.unit_id?(a(),o("p",G,i(s(t).errors.unit_id),1)):n("",!0)]),r("div",null,[e[17]||(e[17]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-100"},[u("Ukuran"),r("span",{class:"text-red-500"},"*")],-1)),c(r("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>s(t).size_id=l),class:"w-full px-3 py-2 text-sm border border-gray-400 rounded-lg dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[d.mode=="create"?(a(),o("option",W," Pilih Ukuran ")):n("",!0),(a(!0),o(k,null,f(p.dropdowns.sizes,l=>(a(),o("option",{key:l.id,value:l.id},i(l.name),9,I))),128))],512),[[y,s(t).size_id]]),s(t).errors.size_id?(a(),o("p",Q,i(s(t).errors.size_id),1)):n("",!0)]),r("div",null,[e[18]||(e[18]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-100"},[u("Supplier"),r("span",{class:"text-red-500"},"*")],-1)),c(r("select",{"onUpdate:modelValue":e[5]||(e[5]=l=>s(t).supplier_id=l),class:"w-full px-3 py-2 text-sm border border-gray-400 rounded-lg dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[d.mode=="create"?(a(),o("option",X," Pilih Supplier ")):n("",!0),(a(!0),o(k,null,f(p.dropdowns.suppliers,l=>(a(),o("option",{key:l.id,value:l.id},i(l.name),9,Y))),128))],512),[[y,s(t).supplier_id]]),s(t).errors.supplier_id?(a(),o("p",Z,i(s(t).errors.supplier_id),1)):n("",!0)])]),r("div",ee,[e[19]||(e[19]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-100"},[u("Deskripsi"),r("span",{class:"text-red-500"},"*")],-1)),c(r("textarea",{"onUpdate:modelValue":e[6]||(e[6]=l=>s(t).description=l),name:"description",id:"description",rows:"3",placeholder:"Deskripsi Barang",class:"w-full px-3 py-2 border border-gray-400 rounded-lg dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},null,512),[[S,s(t).description]]),s(t).errors.description?(a(),o("p",te,i(s(t).errors.description),1)):n("",!0)]),r("div",re,[r("div",se,[e[20]||(e[20]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-100"},[u("Harga Beli"),r("span",{class:"text-red-500"},"*")],-1)),m(g,{modelValue:s(t).purchase_price,"onUpdate:modelValue":e[7]||(e[7]=l=>s(t).purchase_price=l),class:"w-full max-h-10",id:"price_buy",type:"number",name:"price_buy",placeholder:"Harga Beli"},null,8,["modelValue"]),s(t).errors.purchase_price?(a(),o("p",le,i(s(t).errors.purchase_price),1)):n("",!0)]),r("div",oe,[e[21]||(e[21]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-100"},[u("Harga Jual"),r("span",{class:"text-red-500"},"*")],-1)),m(g,{modelValue:s(t).selling_price,"onUpdate:modelValue":e[8]||(e[8]=l=>s(t).selling_price=l),class:"w-full max-h-10",id:"price_sell",type:"number",name:"price_sell",placeholder:"Harga Jual"},null,8,["modelValue"]),s(t).errors.selling_price?(a(),o("p",ae,i(s(t).errors.selling_price),1)):n("",!0)])]),r("div",de,[r("div",null,[e[22]||(e[22]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 border-gray-400 dark:text-gray-100"},[u("Stock"),r("span",{class:"text-red-500"},"*")],-1)),m(g,{class:"w-full max-h-10",id:"stock",type:"number",name:"stock",placeholder:"Stock",modelValue:s(t).stock,"onUpdate:modelValue":e[9]||(e[9]=l=>s(t).stock=l)},null,8,["modelValue"]),s(t).errors.stock?(a(),o("p",ie,i(s(t).errors.stock),1)):n("",!0)]),r("div",null,[e[23]||(e[23]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 border-gray-400 dark:text-gray-100"},[u("Min Stock"),r("span",{class:"text-red-500"},"*")],-1)),m(g,{modelValue:s(t).min_stock,"onUpdate:modelValue":e[10]||(e[10]=l=>s(t).min_stock=l),class:"w-full max-h-10",id:"min_stock",type:"number",name:"min_stock",placeholder:"Min Stock"},null,8,["modelValue"]),s(t).errors.min_stock?(a(),o("p",ne,i(s(t).errors.min_stock),1)):n("",!0)]),r("div",null,[e[24]||(e[24]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-100"},[u("Status"),r("span",{class:"text-red-500"},"*")],-1)),c(r("select",{"onUpdate:modelValue":e[11]||(e[11]=l=>s(t).status=l),class:"w-full px-3 py-2 text-sm border border-gray-400 rounded-lg focus:border-lime-500 focus:ring-lime-500 dark:bg-gray-700 dark:text-white"},[(a(!0),o(k,null,f(p.dropdowns.productStatuses,l=>(a(),o("option",{key:l,value:l},i(l.charAt(0).toUpperCase()+l.slice(1)),9,ue))),128))],512),[[y,s(t).status]]),s(t).errors.status?(a(),o("p",me,i(s(t).errors.status),1)):n("",!0)])]),r("div",pe,[m(s(P),{href:x.route("products.index")},{default:v(()=>[m(M,null,{default:v(()=>[...e[25]||(e[25]=[u("Batal",-1)])]),_:1})]),_:1},8,["href"]),m(F,{type:"submit",disabled:s(t).processing},{default:v(()=>[u(i(s(t).processing?"Menyimpan...":"Simpan"),1)]),_:1},8,["disabled"])])],32))}};export{be as default};
