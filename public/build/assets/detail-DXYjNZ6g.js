import{_ as h}from"./AuthenticatedLayout-BfKFT1gl.js";import{C as w,l as o,o as l,e as n,g as u,i as _,w as g,L as C,f as e,F as x,H as j,n as c,t as d,m as y,k as m}from"./vendor-core-CTIsLlXR.js";import P from"./card-detail-xzWt9of3.js";import{_ as M}from"./Tabs-B3n9SaEb.js";import B from"./tab-forecasting-DHEDqdtd.js";import D from"./tab-analisis-ZSzxSX5v.js";import"./useSidebar-CS5Wldf6.js";import"./useActionLoading-C7V52Mi3.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";import"./DeleteConfirm-Wg8Vw5Z3.js";import"./Modal-2Yb2T-4V.js";const S={class:"w-full min-h-screen space-y-5"},R={class:"space-y-6"},T={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},V={class:"p-4 bg-white border border-gray-100 rounded-xl shadow-sm dark:bg-gray-800 dark:border-gray-700"},F={class:"flex items-center gap-3"},I={class:"text-2xl font-black text-gray-900 dark:text-white"},L={class:"text-sm font-medium text-gray-500"},N={class:"p-4 bg-white border border-gray-100 rounded-xl shadow-sm dark:bg-gray-800 dark:border-gray-700"},z={class:"flex items-center gap-3"},$={class:"text-2xl font-black text-gray-900 dark:text-white"},q={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},H={class:"lg:col-span-2 p-5 bg-white border border-gray-100 rounded-xl shadow-sm dark:bg-gray-800 dark:border-gray-700"},A={class:"prose prose-sm max-w-none text-gray-600 dark:text-gray-300"},K={key:0},E={key:1,class:"italic text-gray-400"},O={class:"p-5 bg-white border border-gray-100 rounded-xl shadow-sm dark:bg-gray-800 dark:border-gray-700"},U={class:"space-y-3"},W={class:"flex justify-between items-center text-sm"},G={class:"font-bold text-gray-900 dark:text-white"},J={class:"flex justify-between items-center text-sm"},Q={class:"font-bold text-gray-900 dark:text-white"},X={class:"flex justify-between items-center text-sm"},Y={class:"font-bold text-gray-900 dark:text-white"},Z={class:"flex justify-between items-center text-sm"},ee={class:"font-mono text-xs bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-300"},ae={class:"p-4 bg-white rounded-lg shadow dark:bg-gray-800"},re={class:"divide-y divide-gray-100 dark:divide-gray-700"},te={class:"text-lg"},se={class:"flex flex-col"},de={class:"text-sm font-bold text-gray-800 dark:text-gray-200"},ie={class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 space-y-0.5"},oe={key:0,class:"font-mono text-[10px] text-gray-400 uppercase tracking-wide"},le={key:1,class:"line-clamp-1"},ne={key:2,class:"text-[10px] text-gray-400 flex items-center gap-1 mt-1"},ge={class:"px-1 bg-gray-100 rounded dark:bg-gray-700"},be={class:"px-1 font-bold text-gray-600 bg-gray-100 rounded dark:bg-gray-700 dark:text-gray-300"},ce={class:"ml-2 text-right shrink-0"},ye={class:"text-[10px] text-gray-400 mt-1"},Pe={__name:"detail",props:{detail:Array},setup(s){const k=s,p=[{key:"ringkasan",label:"Ringkasan Penjualan"},{key:"analisis",label:"Analisis Pergerakan"},{key:"forecast",label:"Forecasting Restock"},{key:"riwayat",label:"Riwayat Stock"}],f=i=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(i),v=i=>{if(!i)return"-";const r=new Date(i);return new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)},b=i=>{const r=i.type,t=Number(i.quantity);let a={label:"Transaksi",icon:"ðŸ“",dotClass:"bg-gray-400",badgeClass:"bg-gray-100 text-gray-600 border-gray-200",isPositive:t>0,sign:t>0?"+":""};switch(r){case"initial":a.label="Stok Awal",a.icon="ðŸ",a.dotClass="bg-blue-500 shadow-blue-500/50",a.badgeClass="bg-blue-50 text-blue-600 border-blue-100",a.isPositive=!0;break;case"purchase":a.label="Pembelian",a.icon="ðŸš›",a.dotClass="bg-green-500 shadow-green-500/50",a.badgeClass="bg-green-50 text-green-600 border-green-100",a.isPositive=!0;break;case"sale":a.label="Penjualan",a.icon="ðŸ›’",a.dotClass="bg-red-500 shadow-red-500/50",a.badgeClass="bg-red-50 text-red-600 border-red-100",a.isPositive=!1;break;case"adjustment_in":a.label="Koreksi (+)",a.icon="ðŸ”§",a.dotClass="bg-emerald-500",a.badgeClass="bg-emerald-50 text-emerald-600 border-emerald-100",a.isPositive=!0;break;case"adjustment_out":a.label="Koreksi (-)",a.icon="ðŸ“‰",a.dotClass="bg-orange-500",a.badgeClass="bg-orange-50 text-orange-600 border-orange-100",a.isPositive=!1;break;case"adjustment_opname":a.label="Stok Opname",a.icon="ðŸ“‹",a.isPositive=t>=0,a.dotClass=a.isPositive?"bg-purple-500":"bg-pink-500",a.badgeClass=a.isPositive?"bg-purple-50 text-purple-600 border-purple-100":"bg-pink-50 text-pink-600 border-pink-100";break;case"return_in":a.label="Retur Customer",a.icon="â†©ï¸",a.dotClass="bg-teal-500",a.badgeClass="bg-teal-50 text-teal-600 border-teal-100",a.isPositive=!0;break;case"return_out":a.label="Retur Supplier",a.icon="â†ªï¸",a.dotClass="bg-rose-500",a.badgeClass="bg-rose-50 text-rose-600 border-rose-100",a.isPositive=!1;break}return a};return w(()=>{const i=Math.max(...k.detail.chart_data.map(r=>r.qty));return i===0?5:i}),(i,r)=>(l(),o(x,null,[n(u(_),{title:"Detail"}),n(h,{headerTitle:"Detail Barang"},{default:g(()=>[n(u(C),{data:["detail"]},{fallback:g(()=>[...r[0]||(r[0]=[e("div",{class:"w-full min-h-screen space-y-5"},[e("div",{class:"flex flex-col overflow-hidden bg-white border-t border-l-4 border-gray-200 shadow-md md:flex-row dark:bg-gray-800 rounded-xl dark:border-gray-700 animate-pulse"},[e("div",{class:"flex flex-col w-full border-b border-gray-100 md:w-56 lg:w-64 bg-gray-50 dark:bg-gray-900 md:border-b-0 md:border-r dark:border-gray-700"},[e("div",{class:"relative flex-1 w-full min-h-[160px] md:h-full flex items-center justify-center bg-gray-200 dark:bg-gray-800"},[e("svg",{class:"w-10 h-10 text-gray-300 dark:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("div",{class:"absolute w-16 h-5 bg-gray-300 rounded-lg top-2 left-2 dark:bg-gray-700"})]),e("div",{class:"w-full h-8 bg-gray-300 dark:bg-gray-700"})]),e("div",{class:"flex flex-col justify-between flex-1 gap-4 p-4 sm:p-5"},[e("div",null,[e("div",{class:"flex flex-wrap items-center justify-between gap-2 mb-2"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-16 h-5 bg-gray-200 rounded dark:bg-gray-700"}),e("span",{class:"text-gray-200 dark:text-gray-700"},"|"),e("div",{class:"w-20 h-5 bg-gray-200 rounded dark:bg-gray-700"}),e("span",{class:"text-gray-200 dark:text-gray-700"},"|"),e("div",{class:"h-5 bg-gray-200 rounded w-14 dark:bg-gray-700"})]),e("div",{class:"hidden w-24 h-5 bg-gray-200 rounded dark:bg-gray-700 md:block"})]),e("div",{class:"w-3/4 h-8 mb-4 bg-gray-200 rounded sm:h-9 md:h-10 dark:bg-gray-700"}),e("div",{class:"flex flex-wrap items-center gap-4 pb-3 mb-3 border-b border-gray-100 dark:border-gray-700"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-3 bg-gray-200 rounded dark:bg-gray-700"}),e("div",{class:"w-12 h-6 bg-gray-200 rounded dark:bg-gray-700"})]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-3 bg-gray-200 rounded dark:bg-gray-700"}),e("div",{class:"w-12 h-6 bg-gray-200 rounded dark:bg-gray-700"})]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-3 bg-gray-200 rounded dark:bg-gray-700"}),e("div",{class:"w-10 h-6 bg-gray-200 rounded dark:bg-gray-700"})])])]),e("div",{class:"grid grid-cols-1 gap-4 mb-4 sm:grid-cols-2"},[e("div",{class:"p-3 border border-gray-100 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[e("div",{class:"w-20 h-3 mb-2 bg-gray-200 rounded dark:bg-gray-700"}),e("div",{class:"w-32 h-8 mb-2 bg-gray-300 rounded dark:bg-gray-600"}),e("div",{class:"w-24 h-5 bg-gray-200 rounded dark:bg-gray-700"})]),e("div",{class:"p-3 border border-gray-100 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[e("div",{class:"flex justify-between mb-2"},[e("div",{class:"w-20 h-3 bg-gray-200 rounded dark:bg-gray-700"}),e("div",{class:"w-16 h-4 bg-gray-200 rounded dark:bg-gray-700"})]),e("div",{class:"w-32 h-8 mb-2 bg-gray-300 rounded dark:bg-gray-600"}),e("div",{class:"w-24 h-5 bg-gray-200 rounded dark:bg-gray-700"})])]),e("div",{class:"flex flex-wrap items-center justify-end gap-2 pt-2 border-t border-gray-100 dark:border-gray-700"},[e("div",{class:"w-full h-10 bg-gray-200 rounded-lg sm:w-24 dark:bg-gray-700"}),e("div",{class:"flex w-full gap-2 sm:w-auto"},[e("div",{class:"flex-1 w-full h-10 bg-gray-300 rounded-lg sm:flex-none sm:w-24 dark:bg-gray-600"}),e("div",{class:"flex-1 w-full h-10 bg-gray-200 rounded-lg sm:flex-none sm:w-24 dark:bg-gray-700"})])])])]),e("div",{class:"w-full overflow-x-auto animate-pulse"},[e("div",{class:"flex border-b-2 border-gray-200 min-w-max flex-nowrap dark:border-gray-700"},[e("div",{class:"flex items-center gap-2 px-4 py-3 bg-gray-100 border-b-2 border-gray-300 rounded-t-lg dark:bg-gray-800 dark:border-gray-600"},[e("div",{class:"w-16 h-4 bg-gray-300 rounded dark:bg-gray-600"}),e("div",{class:"w-5 h-5 bg-gray-300 rounded-full dark:bg-gray-600"})]),e("div",{class:"flex items-center gap-2 px-4 py-3 border-b-2 border-transparent"},[e("div",{class:"w-24 h-4 bg-gray-200 rounded dark:bg-gray-700"})]),e("div",{class:"flex items-center gap-2 px-4 py-3 border-b-2 border-transparent"},[e("div",{class:"w-20 h-4 bg-gray-200 rounded dark:bg-gray-700"}),e("div",{class:"w-5 h-5 bg-gray-200 rounded-full dark:bg-gray-700"})]),e("div",{class:"flex items-center gap-2 px-4 py-3 border-b-2 border-transparent"},[e("div",{class:"w-16 h-4 bg-gray-200 rounded dark:bg-gray-700"})])])])],-1)])]),default:g(()=>[e("div",S,[n(P,{data:s.detail.product,dss:s.detail.dss,price_trend:s.detail.price_trend},null,8,["data","dss","price_trend"]),n(M,{tabs:p,defaultTab:"ringkasan"},{ringkasan:g(()=>[e("div",R,[e("div",T,[e("div",V,[e("div",F,[r[2]||(r[2]=e("div",{class:"p-2 bg-blue-50 text-blue-600 rounded-lg dark:bg-blue-900/20 dark:text-blue-400"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})])],-1)),e("div",null,[r[1]||(r[1]=e("p",{class:"text-xs font-bold text-gray-400 uppercase tracking-wider"}," Terjual (30 Hari) ",-1)),e("p",I,[m(d(s.detail.dss.sales_30_days)+" ",1),e("span",L,d(s.detail.product.unit?.name),1)])])])]),e("div",N,[e("div",z,[r[4]||(r[4]=e("div",{class:"p-2 bg-green-50 text-green-600 rounded-lg dark:bg-green-900/20 dark:text-green-400"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[r[3]||(r[3]=e("p",{class:"text-xs font-bold text-gray-400 uppercase tracking-wider"}," Estimasi Omzet ",-1)),e("p",$,d(f(s.detail.dss.sales_30_days*s.detail.product.selling_price)),1)])])])]),e("div",q,[e("div",H,[r[5]||(r[5]=e("h3",{class:"text-base font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h7"})]),m(" Deskripsi Produk ")],-1)),e("div",A,[s.detail.product.description?(l(),o("p",K,d(s.detail.product.description),1)):(l(),o("p",E,"Tidak ada deskripsi untuk produk ini."))])]),e("div",O,[r[10]||(r[10]=e("h3",{class:"text-sm font-bold text-gray-900 dark:text-white mb-4 uppercase tracking-wider border-b border-gray-100 dark:border-gray-700 pb-2"}," Spesifikasi ",-1)),e("div",U,[e("div",W,[r[6]||(r[6]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Min. Stok",-1)),e("span",G,d(s.detail.product.min_stock)+" "+d(s.detail.product.unit?.name),1)]),e("div",J,[r[7]||(r[7]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Max. Stok",-1)),e("span",Q,d(s.detail.product.max_stock||"âˆž"),1)]),e("div",X,[r[8]||(r[8]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Berat",-1)),e("span",Y,d(s.detail.product.weight?s.detail.product.weight+" gr":"-"),1)]),e("div",Z,[r[9]||(r[9]=e("span",{class:"text-gray-500 dark:text-gray-400"},"SKU/Barcode",-1)),e("span",ee,d(s.detail.product.barcode||"-"),1)])])])])])]),analisis:g(()=>[n(D,{inventory:s.detail.product.inventory,product:s.detail.product,chart_data:s.detail.chart_data},null,8,["inventory","product","chart_data"])]),forecast:g(()=>[n(B,{inventory:s.detail.product.inventory},null,8,["inventory"])]),riwayat:g(()=>[e("div",ae,[r[12]||(r[12]=e("div",{class:"flex items-center justify-between"},[e("div",null,[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Riwayat Stock "),e("p",{class:"text-sm text-gray-600 dark:text-gray-300"}," Mutasi keluar masuk barang. ")])],-1)),e("ul",re,[(l(!0),o(x,null,j(s.detail.stock_history,(t,a)=>(l(),o("li",{key:a,class:"flex items-start justify-between px-2 py-4 transition rounded-lg group hover:bg-gray-50 dark:hover:bg-gray-800/50"},[e("div",{class:c(["flex gap-3",{"opacity-50":t.type==="deleted"}])},[e("div",{class:c(["flex items-center justify-center w-10 h-10 rounded-full shadow-sm shrink-0",b(t).colorClass])},[e("span",te,d(b(t).icon),1)],2),e("div",se,[e("h4",de,d(b(t).label),1),e("div",ie,[t.reference_number?(l(),o("p",oe," #"+d(t.reference_number),1)):y("",!0),t.description?(l(),o("p",le,d(t.description),1)):y("",!0),t.type!=="initial"?(l(),o("p",ne,[e("span",ge,d(t.stock_before),1),r[11]||(r[11]=e("span",null,"âžœ",-1)),e("span",be,d(t.stock_after),1)])):y("",!0)])])],2),e("div",ce,[e("p",{class:c(["text-sm font-bold",t.type==="adjustment_opname"?"text-blue-600":b(t).isPositive?"text-green-600":"text-red-600"])},d(t.type==="adjustment_opname"?"~ ":b(t).isPositive?"+ ":"- ")+d(t.type==="adjustment_opname"?t.stock_after:t.quantity),3),e("p",ye,d(v(t.created_at||t.date))+" WIB ",1)])]))),128))])])]),_:1})])]),_:1})]),_:1})],64))}};export{Pe as default};
