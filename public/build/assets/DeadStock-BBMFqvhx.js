import{u as f,q as g,l as d,o as n,e as p,g as i,i as k,w as m,f as t,k as c,t as a,y as _,K as w,m as v,F as u,H as D,n as y}from"./vendor-core-I2bf3i2k.js";import{_ as S}from"./AuthenticatedLayout-CjXofMt8.js";import"./vendor-common-pmZ7KOuE.js";import"./vendor-charts-Bw6UNgWf.js";import"./useSidebar-D2EQGyo5.js";import"./useActionLoading-x-0YPKo7.js";const B={class:"space-y-6"},j={class:"flex flex-col items-center justify-between gap-6 p-6 text-white shadow-lg bg-gradient-to-r from-red-800 to-red-600 rounded-2xl md:flex-row"},H={class:"max-w-xl mt-1 text-red-100"},N={class:"text-right bg-white/10 p-4 rounded-xl border border-white/20 backdrop-blur-sm min-w-[200px]"},A={class:"mt-1 text-3xl font-black"},T={class:"mt-1 text-xs text-red-200"},C={class:"flex flex-col items-center justify-between gap-4 p-4 bg-white border border-gray-200 shadow-sm rounded-2xl dark:bg-gray-800 dark:border-gray-700 md:flex-row"},F={class:"flex items-center w-full gap-2 md:w-auto"},M={class:"overflow-hidden bg-white border border-gray-200 shadow-sm rounded-2xl dark:bg-gray-800 dark:border-gray-700"},z={class:"overflow-x-auto"},I={class:"w-full text-sm text-left"},L={class:"divide-y divide-gray-100 dark:divide-gray-700"},P={class:"px-6 py-4"},V={class:"font-bold text-gray-800 dark:text-white"},G={class:"text-xs text-gray-500"},R={class:"px-6 py-4 text-center"},U={class:"px-2 py-1 font-bold text-gray-700 bg-gray-100 rounded dark:bg-gray-700 dark:text-gray-300"},q={class:"px-6 py-4 font-medium text-right text-gray-600 dark:text-gray-300"},E={class:"px-6 py-4 text-xs text-center text-gray-500"},J={class:"px-6 py-4 text-center"},K={class:"inline-flex flex-col items-center"},O={class:"px-6 py-4 text-center"},$={key:0},Q={colspan:"6",class:"px-6 py-12 text-center"},W={class:"flex flex-col items-center justify-center text-green-500"},X={class:"text-sm text-gray-500"},ot={__name:"DeadStock",props:{products:Array,filters:Object,total_frozen_asset:Number},setup(r){const l=f({days:r.filters.days||90}),h=()=>{l.get(route("reports.dead-stock"),{preserveScroll:!0})},x=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o),b=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Belum Pernah";return g("days_silent"),g("desc"),(o,e)=>(n(),d(u,null,[p(i(k),{title:"Dead Stock Analysis"}),p(S,{headerTitle:"Analisa Dead Stock"},{default:m(()=>[t("div",B,[t("div",j,[t("div",null,[e[3]||(e[3]=t("h2",{class:"flex items-center gap-2 text-2xl font-black tracking-tight uppercase"},[t("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),c(" Uang Mati di Gudang ")],-1)),t("p",H,[e[1]||(e[1]=c(" Barang-barang ini tidak terjual lebih dari ",-1)),t("strong",null,a(r.filters.days)+" hari",1),e[2]||(e[2]=c(". Segera lakukan tindakan (Diskon/Bundle) agar cashflow berputar kembali. ",-1))])]),t("div",N,[e[4]||(e[4]=t("p",{class:"text-xs font-bold tracking-widest text-red-100 uppercase"}," Total Nilai Aset Macet ",-1)),t("p",A,a(x(r.total_frozen_asset)),1),t("p",T,a(r.products.length)+" Jenis Barang ",1)])]),t("div",C,[t("div",F,[e[6]||(e[6]=t("span",{class:"text-sm font-bold text-gray-500"},"Tampilkan barang yang tidak laku selama:",-1)),_(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>i(l).days=s),onChange:h,class:"text-sm font-bold border-gray-300 rounded-lg focus:ring-red-500 dark:bg-gray-700 dark:text-white"},[...e[5]||(e[5]=[t("option",{value:"30"},"30 Hari",-1),t("option",{value:"60"},"60 Hari",-1),t("option",{value:"90"},"90 Hari (Standard)",-1),t("option",{value:"180"},"180 Hari (Parah)",-1),t("option",{value:"365"},"1 Tahun (Akut)",-1)])],544),[[w,i(l).days]])]),e[7]||(e[7]=t("div",{class:"text-xs text-gray-400"}," *Data dihitung berdasarkan transaksi penjualan terakhir. ",-1))]),t("div",M,[t("div",z,[t("table",I,[e[11]||(e[11]=t("thead",{class:"text-xs text-gray-500 uppercase border-b bg-gray-50 dark:bg-gray-700/50 dark:border-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-4"},"Produk"),t("th",{class:"px-6 py-4 text-center"}," Stok Macet "),t("th",{class:"px-6 py-4 text-right"}," Nilai Aset (HPP) "),t("th",{class:"px-6 py-4 text-center"}," Terakhir Laku "),t("th",{class:"px-6 py-4 text-center"}," Durasi (Hari) "),t("th",{class:"px-6 py-4 text-center"},"Saran AI")])],-1)),t("tbody",L,[(n(!0),d(u,null,D(r.products,s=>(n(),d("tr",{key:s.id,class:"transition hover:bg-red-50/30 dark:hover:bg-red-900/10"},[t("td",P,[t("div",V,a(s.name),1),t("div",G,a(s.code)+" â€¢ "+a(s.category),1)]),t("td",R,[t("span",U,a(s.stock)+" "+a(s.unit),1)]),t("td",q,a(x(s.asset_value)),1),t("td",E,a(b(s.last_sale_date)),1),t("td",J,[t("div",K,[t("span",{class:y(["text-lg font-black",s.days_silent>180?"text-red-600":"text-orange-500"])},a(s.days_silent),3),e[8]||(e[8]=t("span",{class:"text-[10px] uppercase font-bold text-gray-400"},"Hari",-1))])]),t("td",O,[t("span",{class:y(["px-3 py-1 rounded-full text-[10px] font-bold uppercase border shadow-sm whitespace-nowrap",{"bg-red-100 text-red-700 border-red-200":s.days_silent>180,"bg-orange-100 text-orange-700 border-orange-200":s.days_silent<=180,"bg-gray-100 text-gray-600 border-gray-200":!s.last_sale_date}])},a(s.suggestion),3)])]))),128)),r.products.length===0?(n(),d("tr",$,[t("td",Q,[t("div",W,[e[9]||(e[9]=t("svg",{class:"w-12 h-12 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e[10]||(e[10]=t("h3",{class:"text-lg font-bold text-gray-800 dark:text-white"}," Gudang Sehat! ",-1)),t("p",X," Tidak ada barang yang macet lebih dari "+a(r.filters.days)+" hari. ",1)])])])):v("",!0)])])])])])]),_:1})],64))}};export{ot as default};
