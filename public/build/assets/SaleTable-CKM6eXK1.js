import{g as n,o as r,y as v,b as t,i as g,F as f,x as m,t as a,n as h,k as c,A as u}from"./app-DwOZ8O7W.js";const w={class:"relative flex flex-col flex-1 min-h-0 overflow-hidden bg-white border border-gray-300 rounded-lg shadow-sm"},C={class:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-50"},V={class:"min-w-full divide-y divide-gray-100"},M={class:"bg-white"},j={key:0},B={class:"px-4 py-3 w-[35%] align-top"},q={class:"flex items-start gap-3"},z={class:"flex items-center justify-center flex-shrink-0 w-12 h-12 overflow-hidden border border-gray-200 rounded bg-gray-50"},I=["src"],H={key:1,class:"text-sm font-bold text-gray-400"},K={class:"min-w-0 pt-0.5"},S={class:"text-base font-bold leading-tight text-gray-900 line-clamp-2"},U={class:"flex flex-wrap gap-2 mt-1 text-xs text-gray-500"},$={class:"bg-indigo-50 text-indigo-700 px-1.5 py-0.5 rounded border border-indigo-100 font-medium"},A={class:"font-mono text-gray-400 border border-gray-200 px-1.5 rounded"},F={class:"px-2 py-3 w-[15%] align-top"},D={class:"flex items-start gap-1"},L={class:"relative w-full rounded-md shadow-sm"},N=["onUpdate:modelValue","disabled","onInput"],R=["onClick","title"],Q={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},T={key:1,class:"w-4 h-4 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E={class:"px-2 py-3 w-[10%] align-top"},P={class:"relative rounded-md shadow-sm"},G=["onUpdate:modelValue","onInput","onKeydown"],J={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},O={class:"text-gray-500 text-[10px] bg-gray-100 px-1 rounded"},W={key:0,class:"text-[10px] text-red-600 font-bold mt-1 text-center leading-none"},X={class:"px-2 py-3 w-[20%] align-top"},Y={class:"flex items-start justify-end gap-1"},Z={class:"relative rounded-md shadow-sm"},tt=["onUpdate:modelValue","disabled","onInput"],et=["onClick","title"],ot={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},st={key:1,class:"w-4 h-4 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},nt={class:"w-[5%] text-center align-top pt-2"},rt=["onClick"],at={__name:"SaleTable",props:{items:{type:Array,required:!0},isDecimalAllowed:{type:Function,required:!0},checkInteger:{type:Function,required:!0}},emits:["remove","update-calc","update-qty"],setup(d,{emit:b}){const i=b,_=l=>i("remove",l),p=l=>i("update-calc",l),y=l=>i("update-qty",l),k=l=>l?l.substring(0,2).toUpperCase():"??";return(l,o)=>(r(),n("div",w,[o[8]||(o[8]=v('<div class="flex-shrink-0 pr-2 bg-gray-100 border-b border-gray-200"><table class="min-w-full"><thead><tr><th class="px-4 py-3 text-left w-[35%] text-xs font-bold text-gray-600 uppercase tracking-wider"> Produk </th><th class="px-2 py-3 text-center w-[15%] text-xs font-bold text-gray-600 uppercase tracking-wider"> Harga (@) </th><th class="px-2 py-3 text-center w-[10%] text-xs font-bold text-gray-600 uppercase tracking-wider"> Qty </th><th class="px-2 py-3 text-center w-[20%] text-xs font-bold text-gray-600 uppercase tracking-wider"> Subtotal </th><th class="w-[5%] text-center text-xs font-bold text-gray-600 uppercase"> # </th></tr></thead></table></div>',1)),t("div",C,[t("table",V,[t("tbody",M,[d.items.length===0?(r(),n("tr",j,[...o[0]||(o[0]=[t("td",{colspan:"5",class:"h-64 text-center align-middle"},[t("div",{class:"flex flex-col items-center justify-center text-gray-400"},[t("svg",{class:"w-16 h-16 mb-4 opacity-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})]),t("p",{class:"text-sm font-medium"}," Belum ada barang ")])],-1)])])):g("",!0),(r(!0),n(f,null,m(d.items,(e,x)=>(r(),n("tr",{key:x,class:"transition duration-75 group hover:bg-indigo-50/50"},[t("td",B,[t("div",q,[t("div",z,[e.image?(r(),n("img",{key:0,src:e.image,class:"object-cover w-full h-full"},null,8,I)):(r(),n("span",H,a(k(e.name)),1))]),t("div",K,[t("div",S,a(e.name),1),t("div",U,[t("span",$,a(e.brand||"-"),1),t("span",A,a(e.code),1),t("span",{class:h(["text-xs",e.stock_max<=0?"text-red-600 font-bold ":"text-green-600 "])},"Stok: "+a(e.stock_max),3)])])])]),t("td",F,[t("div",D,[t("div",L,[o[1]||(o[1]=t("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-2 text-gray-400 text-[10px]"}," Rp ",-1)),c(t("input",{type:"number","onUpdate:modelValue":s=>e.selling_price=s,disabled:e.is_price_locked,onInput:s=>p(e),class:"block w-full rounded border-gray-300 pl-6 py-1.5 text-sm font-mono text-right focus:border-indigo-500 focus:ring-indigo-500 disabled:bg-gray-100 disabled:text-gray-500"},null,40,N),[[u,e.selling_price]])]),t("button",{onClick:s=>e.is_price_locked=!e.is_price_locked,class:"mt-1.5 text-gray-400 hover:text-indigo-600 transition-colors",title:e.is_price_locked?"Klik untuk ubah harga":"Klik untuk kunci harga"},[e.is_price_locked?(r(),n("svg",Q,[...o[2]||(o[2]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])])):(r(),n("svg",T,[...o[3]||(o[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"},null,-1)])]))],8,R)])]),t("td",E,[t("div",P,[c(t("input",{type:"number",step:"any",min:"0","onUpdate:modelValue":s=>e.quantity=s,onInput:s=>p(e),onKeydown:s=>d.checkInteger(s,e.unit),class:h(["block w-full rounded border-gray-300 py-1.5 pl-2 pr-8 text-sm font-bold text-center focus:border-indigo-500 focus:ring-indigo-500",e.quantity>e.stock_max?"text-red-700 bg-red-50 border-red-300":""])},null,42,G),[[u,e.quantity]]),t("div",J,[t("span",O,a(e.unit),1)])]),e.quantity>e.stock_max?(r(),n("div",W," Stok Kurang! ")):g("",!0)]),t("td",X,[t("div",Y,[t("div",Z,[o[4]||(o[4]=t("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-2 text-amber-700 font-bold text-[10px]"}," Rp ",-1)),c(t("input",{type:"number","onUpdate:modelValue":s=>e.subtotal=s,disabled:e.is_total_locked,onInput:s=>y(e),class:"block w-full rounded border-lime-300 bg-lime-50 pl-7 py-1.5 text-sm font-medium text-gray-900 text-right focus:border-amber-500 focus:ring-amber-500 font-mono placeholder-gray-300",placeholder:"0"},null,40,tt),[[u,e.subtotal]])]),t("button",{onClick:s=>e.is_total_locked=!e.is_total_locked,class:"mt-1.5 text-gray-400 hover:text-indigo-600 transition-colors",title:e.is_total_locked?"Klik untuk ubah harga":"Klik untuk kunci harga"},[e.is_total_locked?(r(),n("svg",ot,[...o[5]||(o[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])])):(r(),n("svg",st,[...o[6]||(o[6]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"},null,-1)])]))],8,et)])]),t("td",nt,[t("button",{onClick:s=>_(x),tabindex:"-1",class:"text-gray-400 hover:text-red-500 p-1.5 rounded-full hover:bg-red-50 transition duration-150"},[...o[7]||(o[7]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,rt)])]))),128))])])])]))}};export{at as default};
