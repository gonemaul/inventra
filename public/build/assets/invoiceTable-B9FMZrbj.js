import{_ as w}from"./DataTable-C0LXzJtZ.js";import{q as u,C as N,l as d,o,e as c,f as l,w as i,m as p,d as B,g as y,B as f,n as m,k,t as n,F as $}from"./vendor-core-CJbEklrS.js";import{_ as D}from"./ImageModal-B0umRIyZ.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";import"./BottomSheet-BK4YJI0j.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"p-4 space-y-5 bg-white border rounded-lg shadow-md dark:bg-gray-900 dark:border-lime-500"},E=["onClick"],T={class:"flex flex-wrap justify-center gap-2"},S=["onClick"],V=["onClick"],H={__name:"invoiceTable",props:{purchase:{type:Array,required:!0},isCheckingMode:{type:Boolean,default:!1},canEditDelete:Boolean},emits:["edit-invoice","delete-invoice"],setup(a,{emit:M}){const g=a,r=u(!1),h=u(null),b=u(null),_=(s,t)=>{h.value=s,b.value="Invoice-#"+t,r.value=!0},v=N(()=>g.purchase.status!=="diterima"&&g.purchase.status!=="checking"),C=[{key:"invoice_number",label:"No Nota",sortable:!0,width:"100px",slot:"invoice"},{key:"invoice_date",label:"Tanggal Nota",sortable:!0,width:"150px",format:"tanggal"},{key:"due_date",label:"Jatuh Tempo",sortable:!0,width:"150px",format:"tanggal"},{key:"total_amount",label:"Nominal Total",sortable:!0,width:"200px",format:"rupiah"},{key:"payment_status",label:"Status Pembayaran",sortable:!0,width:"100px",slot:"status_payment",class:"text-center"},{key:"status",label:"Status",sortable:!0,width:"100px",slot:"status",class:"text-center"},{key:"aksi",label:"Aksi",width:"180px",slot:"aksi",class:"text-right"}];return(s,t)=>(o(),d($,null,[c(D,{show:r.value,imageUrl:h.value,productName:b.value,onClose:t[0]||(t[0]=e=>r.value=!1)},null,8,["show","imageUrl","productName"]),l("div",I,[t[2]||(t[2]=l("h3",{class:"text-lg font-bold dark:text-white"},"Daftar Nota Keuangan",-1)),c(w,{columns:C,data:a.purchase.invoices,serverSide:!1,perPageOptions:[5,10,20]},{invoice:i(({row:e})=>[l("span",{class:"text-blue-500 cursor-pointer",onClick:x=>_(e.invoice_url,e.invoice_number)},n(e.invoice_number),9,E)]),status_payment:i(({row:e})=>[l("span",{class:m([{"px-2 py-1 text-white rounded":!0,"bg-green-600":e.payment_status==="paid","bg-yellow-600":e.payment_status==="partial","bg-red-600":e.payment_status==="unpaid"},"text-xs text-center uppercase"])},n(e.payment_status),3)]),status:i(({row:e})=>[l("span",{class:m([{"px-2 py-1 rounded":!0,"bg-green-300":e.status==="validated","bg-yellow-300 text-yellow-900":e.status==="uploaded"},"text-xs font-medium text-center uppercase"])},n(e.status),3)]),aksi:i(({row:e})=>[l("div",T,[c(y(f),{href:s.route("purchases.linkInvoiceItems",{purchase:a.purchase.id,invoice:e.id}),class:m(["px-2 py-1 text-xs text-white  rounded ",v.value||e.status=="validated"?"bg-orange-500 hover:bg-orange-600":"bg-purple-500 hover:bg-purple-600"])},{default:i(()=>[k(n(v.value||e.status=="validated"?"Detail":"Checking"),1)]),_:2},1032,["href","class"]),a.canEditDelete?(o(),d("button",{key:0,onClick:x=>s.$emit("edit-invoice",e),class:"px-2 py-1 text-xs text-white bg-blue-500 rounded hover:bg-blue-600"}," Edit ",8,S)):p("",!0),a.canEditDelete?(o(),d("button",{key:1,onClick:x=>s.$emit("delete-invoice",e),class:"px-2 py-1 text-xs text-white bg-red-500 rounded hover:bg-red-600"}," Hapus ",8,V)):p("",!0),e.payment_status!=="paid"&&a.purchase.status==="selesai"?(o(),B(y(f),{key:2,href:s.route("finance.show",e.id),class:"px-2 py-1 text-xs text-white rounded bg-lime-600 hover:bg-lime-700"},{default:i(()=>[...t[1]||(t[1]=[k(" Bayar ",-1)])]),_:2},1032,["href"])):p("",!0)])]),_:1},8,["data"])])],64))}};export{H as default};
