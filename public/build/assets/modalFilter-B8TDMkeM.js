import{u as V,c as A,o as d,w as C,b as r,k as n,d as o,g as u,F as p,x as b,t as m,z as c,n as D,A as y,v as M,q as w}from"./app-DwOZ8O7W.js";import{_ as z}from"./Modal-DnFGslV2.js";import{u as T}from"./useActionLoading-D41ljnOE.js";const B={class:"w-full p-4 bg-white shadow rounded-xl dark:bg-gray-800"},I={class:"mb-4"},O={class:"flex gap-2"},j=["value"],N={class:"mb-4"},$=["value"],H={class:"mb-4"},L=["value"],R={class:"mb-4"},K=["value"],Z={class:"mb-4"},q={class:"flex flex-wrap gap-2"},E=["onClick"],J={class:"mb-4"},P={class:"flex gap-2"},W={class:"mb-4"},G={class:"flex gap-2"},Q={class:"flex flex-col w-full gap-2"},X={class:"text-xs text-gray-500"},Y={class:"flex flex-col w-full gap-2"},ee={class:"text-xs text-gray-500"},te={class:"flex justify-between gap-2"},re={class:"my-auto"},se={class:"flex items-center space-x-2 cursor-pointer"},oe={class:"flex gap-3"},ae=["disabled"],ne={__name:"modalFilter",props:{show:{type:Boolean,default:!1},filters:Object,dropdowns:Object},emits:["close"],setup(g,{emit:_}){const a=g,f=_,h=[{value:"created_at",label:"Terbaru"},{value:"name",label:"Nama"},{value:"selling_price",label:"Harga"},{value:"stock",label:"Stok"}],s=V({sort:a.filters.sort||"created_at",order:a.filters.order||"desc",status:a.filters.status||"",category_id:a.filters.category_id||"",supplier_id:a.filters.supplier_id||"",sizes:a.filters.sizes||[],min_stock:a.filters.min_stock||"",max_stock:a.filters.max_stock||"",min_price:a.filters.min_price||"",max_price:a.filters.max_price||"",trashed:a.filters.trashed||!1}),{isActionLoading:x}=T();function k(l){return Object.entries(l).reduce((e,[t,i])=>(typeof i=="boolean"&&i===!1||i!=null&&i!==""&&(Array.isArray(i)&&i.length===0||(e[t]=i)),e),{})}function S(l){const e=s.sizes.indexOf(l);e>-1?s.sizes.splice(e,1):s.sizes.push(l)}function v(l){return s.sizes.includes(l)}function F(){const l=s.data(),t={...{search:a.filters.search||""},...l},i=k(t);x.value=!0,w.get(route("products.index"),i,{preserveState:!0,replace:!0,onFinish:()=>{x.value=!1,f("close")}})}function U(){const l=k({search:a.filters.search||""});x.value=!0,w.get(route("products.index"),l,{preserveState:!0,replace:!0,onFinish:()=>{x.value=!1,f("close"),s.reset()}})}return(l,e)=>(d(),A(z,{show:g.show,onClose:e[10]||(e[10]=t=>l.$emit("close")),maxWidth:"lg"},{default:C(()=>[r("div",B,[e[23]||(e[23]=r("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white"}," Filter Produk ",-1)),r("div",I,[e[12]||(e[12]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Sortir",-1)),r("div",O,[n(r("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>o(s).sort=t),class:"w-1/2 px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[(d(),u(p,null,b(h,t=>r("option",{key:t.value,value:t.value},m(t.label),9,j)),64))],512),[[c,o(s).sort]]),n(r("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>o(s).order=t),class:"w-1/2 px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[...e[11]||(e[11]=[r("option",{value:"desc"},"Terbaru / Desc (Z-A)",-1),r("option",{value:"asc"},"Terlama / Asc (A-Z)",-1)])],512),[[c,o(s).order]])])]),r("div",N,[e[14]||(e[14]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Status",-1)),n(r("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>o(s).status=t),class:"w-full px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[e[13]||(e[13]=r("option",{value:""},"Semua Status",-1)),(d(!0),u(p,null,b(g.dropdowns.productStatuses,t=>(d(),u("option",{key:t,value:t},m(t.charAt(0).toUpperCase()+t.slice(1)),9,$))),128))],512),[[c,o(s).status]])]),r("div",H,[e[16]||(e[16]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Kategori",-1)),n(r("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>o(s).category_id=t),class:"w-full px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[e[15]||(e[15]=r("option",{value:""},"Semua Kategori",-1)),(d(!0),u(p,null,b(g.dropdowns.categories,t=>(d(),u("option",{key:t.id,value:t.id},m(t.name),9,L))),128))],512),[[c,o(s).category_id]])]),r("div",R,[e[18]||(e[18]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Supplier",-1)),n(r("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>o(s).supplier_id=t),class:"w-full px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[e[17]||(e[17]=r("option",{value:""},"Semua Supplier",-1)),(d(!0),u(p,null,b(g.dropdowns.suppliers,t=>(d(),u("option",{key:t.id,value:t.id},m(t.name),9,K))),128))],512),[[c,o(s).supplier_id]])]),r("div",Z,[e[19]||(e[19]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Ukuran",-1)),r("div",q,[(d(!0),u(p,null,b(g.dropdowns.sizes,t=>(d(),u("button",{key:t.id,class:D(["px-3 py-1 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:text-gray-300",{"bg-lime-500 text-white border-lime-500":v(t.id),"hover:bg-lime-100 dark:hover:bg-gray-600":!v(t.id)}]),onClick:i=>S(t.id)},m(t.name),11,E))),128))])]),r("div",J,[e[20]||(e[20]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Stok",-1)),r("div",P,[n(r("input",{type:"number",placeholder:"Min",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[5]||(e[5]=t=>o(s).min_stock=t)},null,512),[[y,o(s).min_stock]]),n(r("input",{type:"number",placeholder:"Max",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[6]||(e[6]=t=>o(s).max_stock=t)},null,512),[[y,o(s).max_stock]])])]),r("div",W,[e[21]||(e[21]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Harga (Jual)",-1)),r("div",G,[r("div",Q,[n(r("input",{type:"number",placeholder:"Min",class:"px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[7]||(e[7]=t=>o(s).min_price=t)},null,512),[[y,o(s).min_price]]),r("span",X,m(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o(s).min_price)||0),1)]),r("div",Y,[n(r("input",{type:"number",placeholder:"Max",class:"px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[8]||(e[8]=t=>o(s).max_price=t)},null,512),[[y,o(s).max_price]]),r("span",ee,m(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o(s).max_price)||0),1)])])]),r("div",te,[r("div",re,[r("label",se,[n(r("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>o(s).trashed=t),class:"border-gray-300 rounded dark:bg-gray-900 dark:border-gray-700 text-lime-600 focus:ring-lime-500"},null,512),[[M,o(s).trashed]]),e[22]||(e[22]=r("span",{class:"text-sm text-gray-700 dark:text-gray-400"}," Hanya Tampilkan Sampah ",-1))])]),r("div",oe,[r("button",{class:"px-4 py-2 text-sm font-medium text-white rounded-lg bg-lime-500 hover:bg-lime-600 disabled:opacity-50",onClick:F,disabled:o(s).processing},m(o(s).processing?"Menerapkan...":"Terapkan"),9,ae),r("button",{class:"px-4 py-2 text-sm font-medium bg-gray-200 rounded-lg hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-gray-200",onClick:U,type:"button"}," Reset ")])])])]),_:1},8,["show"]))}};export{ne as default};
