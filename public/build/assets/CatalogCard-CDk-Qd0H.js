import{D as n,l as a,o as i,p as l,f as e,t as s,n as m,k as h}from"./vendor-core-By7Plnkm.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";const k={key:0,class:"absolute top-0 left-0 z-20 bg-lime-500 text-white text-[10px] font-bold px-2 py-1 rounded-tl-lg shadow-sm"},v={class:"relative w-full overflow-hidden bg-gray-100 aspect-square dark:bg-gray-700 border-b border-gray-100 dark:border-gray-700"},p=["src"],w={class:"absolute top-2 right-2 z-10 flex flex-col items-end gap-1"},_={key:0,class:"px-2 py-0.5 text-[10px] font-black tracking-wide text-white bg-red-600 rounded shadow-sm"},S={key:1,class:"px-2 py-0.5 text-[10px] font-bold text-white bg-yellow-500 rounded shadow-sm"},z={key:1,class:"absolute top-2 left-2 z-10"},B={class:"flex flex-col flex-1 p-3 gap-2"},j={class:"text-[10px] text-gray-500 font-mono flex flex-wrap gap-1 leading-none"},C={class:"font-bold text-gray-600"},I={key:0,class:"bg-gray-100 px-1 rounded"},M=["title"],D={class:"flex items-center justify-between"},N={class:"text-xs font-bold text-lime-600"},L={class:"text-[10px] text-gray-400"},V={key:0,class:"text-[10px] text-gray-500 bg-gray-50 dark:bg-gray-700/50 p-1 rounded border border-dashed border-gray-200 flex justify-between"},F={class:"text-gray-800 dark:text-gray-200"},H={class:"flex items-center justify-between text-[11px] mt-auto pt-2 border-t border-gray-100 dark:border-gray-700"},q={class:"flex flex-col leading-none gap-0.5"},E={class:"flex flex-col leading-none text-right gap-0.5"},P={class:"font-bold text-gray-600"},Q={key:1,class:"mt-2 text-[10px]"},R={class:"flex items-start gap-1 p-1.5 bg-blue-50 text-blue-700 rounded border border-blue-100"},T={class:"leading-tight"},$={class:"font-bold"},U={__name:"CatalogCard",props:{item:Object,isSelected:Boolean,isInCart:Boolean,cartQty:Number},emits:["select"],setup(t,{emit:A}){const r=t,x=d=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d),b=n(()=>r.item.insights?.find(d=>d.type==="restock")),u=n(()=>b.value?.payload?.suggested_qty||0),g=n(()=>(r.item.sold_last_90_days||0)>=50),y=n(()=>!g.value&&(r.item.sold_last_90_days||0)>=20),f=n(()=>(r.item.sold_last_90_days||0)<=2&&r.item.stock>10),c=n(()=>g.value?{text:"Best Seller",color:"bg-orange-100 text-orange-600 border-orange-200",icon:"ðŸ”¥"}:y.value?{text:"Laris",color:"bg-blue-100 text-blue-600 border-blue-200",icon:"âš¡"}:f.value?{text:"Stok Mati",color:"bg-gray-100 text-gray-600 border-gray-200",icon:"ðŸ“¦"}:null);return(d,o)=>(i(),a("div",{onClick:o[0]||(o[0]=O=>d.$emit("select",t.item)),class:m(["relative flex flex-col overflow-hidden transition-all duration-200 border cursor-pointer rounded-xl group hover:shadow-lg bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-lime-400 dark:hover:border-lime-500",{"ring-2 ring-lime-500 border-lime-500 bg-lime-50 dark:bg-lime-900/20 z-10":t.isSelected}])},[t.isInCart?(i(),a("span",k,s(t.cartQty)+" di List ",1)):l("",!0),e("div",v,[o[1]||(o[1]=e("div",{class:"absolute inset-0 flex items-center justify-center text-gray-300"},[e("svg",{class:"w-10 h-10 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),t.item.image_url||t.item.image_path?(i(),a("img",{key:0,src:t.item.image_url||t.item.image_path,loading:"lazy",class:"absolute inset-0 z-10 object-contain w-full h-full p-2 transition-transform duration-500 group-hover:scale-110 mix-blend-multiply transition-opacity",alt:"Product",onload:"this.style.opacity='1'",onerror:"this.style.display='none'"},null,8,p)):l("",!0),e("div",w,[t.item.stock<=0?(i(),a("span",_,"HABIS")):t.item.stock<=t.item.min_stock?(i(),a("span",S,"MENIPIS")):l("",!0)]),c.value?(i(),a("div",z,[e("span",{class:m(["px-2 py-0.5 text-[10px] font-bold rounded shadow-sm border flex items-center gap-1",c.value.color])},[e("span",null,s(c.value.icon),1),h(" "+s(c.value.text),1)],2)])):l("",!0)]),e("div",B,[e("div",j,[e("span",C,s(t.item.brand?.name||"-"),1),o[2]||(o[2]=e("span",null,"â€¢",-1)),e("span",null,s(t.item.category?.name||"-"),1),t.item.size?(i(),a("span",I,s(t.item.size.name),1)):l("",!0)]),e("div",null,[e("h3",{class:"text-xs font-bold leading-tight line-clamp-2 min-h-[2.5em] mb-1",title:t.item.name},s(t.item.name),9,M),e("div",D,[e("span",N,s(x(t.item.purchase_price)),1),e("span",L,"#"+s(t.item.code),1)])]),t.item.sold_last_90_days>0?(i(),a("div",V,[o[3]||(o[3]=e("span",null,"Terjual (90H):",-1)),e("strong",F,s(t.item.sold_last_90_days)+" "+s(t.item.unit?.name),1)])):l("",!0),e("div",H,[e("div",q,[o[4]||(o[4]=e("span",{class:"text-[9px] text-gray-400 uppercase"},"Sisa",-1)),e("span",{class:m(["font-bold",t.item.stock<=t.item.min_stock?"text-red-500":"text-gray-700"])},s(t.item.stock),3)]),e("div",E,[o[5]||(o[5]=e("span",{class:"text-[9px] text-gray-400 uppercase"},"Min",-1)),e("span",P,s(t.item.min_stock),1)])]),u.value>0?(i(),a("div",Q,[e("div",R,[o[6]||(o[6]=e("svg",{class:"w-3 h-3 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",T,[e("span",$,"Saran: "+s(u.value)+" "+s(t.item.unit?.name),1)])])])):l("",!0)])],2))}};export{U as default};
