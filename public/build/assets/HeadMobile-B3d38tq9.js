import{x as B,g as f,o as k,b as e,i as M,t as i,f as S,p as z,e as N,a as s,d as t,J as V,F,K as u}from"./app-CTxKr8Ch.js";import{u as H}from"./usePurchaseAnalytics-70GbF8_Y.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"p-4 space-y-4 bg-white border border-gray-100 shadow-sm dark:bg-gray-900 rounded-xl dark:border-gray-800"},K={class:"flex items-start justify-between mb-3"},L={class:"text-lg font-bold leading-tight text-lime-600 dark:text-lime-400"},$={class:"text-xs text-gray-500 mt-0.5"},A={class:"grid grid-cols-2 gap-3 bg-gray-50 dark:bg-gray-800 p-2.5 rounded-lg border border-gray-100 dark:border-gray-700"},O={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},P={class:"pl-3 border-l border-gray-200 dark:border-gray-700"},q={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},Q={class:"p-3 border rounded-lg bg-lime-50 dark:bg-lime-900/10 border-lime-100 dark:border-lime-900/30"},J={class:"flex flex-col gap-2"},R={class:"flex items-center justify-between p-3 border border-gray-100 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},W={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},E={class:"flex items-center justify-between p-3 border border-gray-100 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},G={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},U={class:"flex items-center justify-between p-3 bg-white border border-l-4 rounded-lg dark:bg-lime-900/10 border-lime-100 dark:border-lime-900/30 border-l-lime-500"},X={class:"text-sm font-bold text-lime-700 dark:text-lime-400"},Y={class:"w-full bg-white dark:bg-gray-900 rounded-t-2xl max-h-[85vh] overflow-y-auto animate-slide-up shadow-2xl"},Z={class:"p-4 pt-0 pb-8"},ee={class:"flex items-center justify-between pb-2 mb-4 border-b border-gray-100 dark:border-gray-800"},ae={class:"grid grid-cols-3 gap-2"},te={class:"flex flex-col justify-center col-span-1 p-2 border border-gray-100 rounded bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},re={class:"text-xs font-medium truncate"},l=V({props:["label","value","isDanger","isWarning","isSuccess","isSubtle"],setup(r){let n="text-gray-800 dark:text-gray-200",d="bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700";return r.isDanger?(n="text-red-600",d="bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-800"):r.isWarning?(n="text-orange-600",d="bg-orange-50 dark:bg-orange-900/20 border-orange-100 dark:border-orange-800"):r.isSuccess?(n="text-green-600",d="bg-green-50 dark:bg-green-900/20 border-green-100 dark:border-green-800"):r.isSubtle&&(n="text-gray-400"),()=>u("div",{class:`p-2 rounded border ${d} flex flex-col justify-between min-h-[50px]`},[u("span",{class:"text-[9px] text-gray-400 leading-tight mb-1"},r.label),u("span",{class:`text-sm font-bold leading-none ${n}`},r.value||"-")])}}),se={__name:"HeadMobile",props:{purchase:Object},setup(r){const n=r,d=B(!1),b=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o||0),c=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",{kosong:x,baru_pengganti:w,total_macam_dipesan:h,total_macam_diterima:_,total_qty_dipesan:D,total_qty_diterima:C,total_barang_sesuai:j,macam_harga_naik:m,macam_harga_turun:v,produk_qty_lebih:p,produk_qty_kurang:y}=H(n.purchase.items);return(o,a)=>(k(),f(F,null,[e("div",I,[e("div",null,[e("div",K,[e("div",null,[a[4]||(a[4]=e("p",{class:"text-[10px] text-gray-400 uppercase tracking-wider font-semibold"}," Supplier ",-1)),e("h3",L,i(r.purchase.supplier?.name),1),e("p",$,i(r.purchase.supplier?.address)+" | "+i(r.purchase.supplier?.phone),1)])]),e("div",A,[e("div",null,[a[5]||(a[5]=e("p",{class:"text-[10px] text-gray-400 mb-0.5"}," Tanggal Order ",-1)),e("p",O,i(c(r.purchase.transaction_date)),1)]),e("div",P,[a[6]||(a[6]=e("p",{class:"text-[10px] text-gray-400 mb-0.5"}," Tanggal Datang ",-1)),e("p",q,i(r.purchase.received_at?c(r.purchase.received_at):"-"),1)])])]),e("div",Q,[a[10]||(a[10]=e("h4",{class:"text-[10px] font-bold text-lime-700 dark:text-lime-400 uppercase tracking-wide mb-2 flex items-center gap-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a1 1 0 100-2 1 1 0 000 2z"})]),S(" Ringkasan Keuangan ")],-1)),e("div",J,[e("div",R,[a[7]||(a[7]=e("span",{class:"text-xs font-semibold tracking-wide text-gray-500 uppercase"},"Jml Nota",-1)),e("span",W,i(r.purchase.invoices?.length||"-"),1)]),e("div",E,[a[8]||(a[8]=e("span",{class:"text-xs font-semibold tracking-wide text-gray-500 uppercase"},"Nilai PO",-1)),e("span",G,i(b(r.purchase.total_item_price)),1)]),e("div",U,[a[9]||(a[9]=e("span",{class:"text-xs font-semibold tracking-wide uppercase text-lime-700 dark:text-lime-400"},"Fisik Diterima",-1)),e("span",X,i(b(o.receivedAmount)||"-"),1)])])]),e("button",{onClick:a[0]||(a[0]=g=>d.value=!0),class:"w-full bg-white dark:bg-gray-900 rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-800 flex justify-between items-center group active:scale-[0.99] transition"},[...a[11]||(a[11]=[z('<div class="flex items-center gap-3" data-v-6f2952d7><div class="flex items-center justify-center w-10 h-10 text-blue-600 rounded-full bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400" data-v-6f2952d7><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-6f2952d7><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-6f2952d7></path></svg></div><div class="text-left" data-v-6f2952d7><h4 class="text-sm font-bold text-gray-800 dark:text-gray-100" data-v-6f2952d7> Analisis Discrepancy </h4><p class="text-[10px] text-gray-500" data-v-6f2952d7> Klik untuk melihat detail perbandingan PO vs Fisik </p></div></div><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-400 transition group-hover:text-blue-500" viewBox="0 0 20 20" fill="currentColor" data-v-6f2952d7><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" data-v-6f2952d7></path></svg>',2)])])]),d.value?(k(),f("div",{key:0,class:"fixed inset-0 z-[60] flex items-end justify-center bg-black/50 backdrop-blur-sm",onClick:a[3]||(a[3]=N(g=>d.value=!1,["self"]))},[e("div",Y,[e("div",{class:"sticky top-0 z-10 flex justify-center pt-3 pb-2 bg-white dark:bg-gray-900",onClick:a[1]||(a[1]=g=>d.value=!1)},[...a[12]||(a[12]=[e("div",{class:"w-12 h-1.5 bg-gray-300 dark:bg-gray-700 rounded-full"},null,-1)])]),e("div",Z,[e("div",ee,[a[14]||(a[14]=e("h3",{class:"font-bold text-gray-700 dark:text-gray-200"}," Analisis Detail (PO vs Fisik) ",-1)),e("button",{onClick:a[2]||(a[2]=g=>d.value=!1),class:"p-1 text-gray-500 bg-gray-100 rounded-full dark:bg-gray-800"},[...a[13]||(a[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])]),e("div",ae,[s(t(l),{label:"Barang Sesuai",value:t(j)},null,8,["value"]),s(t(l),{label:"Macam Dipesan",value:t(h)},null,8,["value"]),s(t(l),{label:"Macam Diterima",value:t(_),"is-subtle":""},null,8,["value"]),s(t(l),{label:"Qty Total Pesan",value:t(D)},null,8,["value"]),s(t(l),{label:"Qty Total Terima",value:t(C),"is-subtle":""},null,8,["value"]),s(t(l),{label:"Qty Kekurangan",value:t(y),"is-danger":t(y)>0},null,8,["value","is-danger"]),s(t(l),{label:"Qty Kelebihan",value:t(p),"is-warning":t(p)>0},null,8,["value","is-warning"]),s(t(l),{label:"Item Kosong",value:t(x),"is-danger":t(x)>0},null,8,["value","is-danger"]),s(t(l),{label:"Harga Naik",value:t(m),"is-warning":t(m)>0},null,8,["value","is-warning"]),s(t(l),{label:"Harga Turun",value:t(v),"is-success":t(v)>0},null,8,["value","is-success"]),s(t(l),{label:"Barang Baru",value:t(w)},null,8,["value"]),e("div",te,[a[15]||(a[15]=e("span",{class:"text-[9px] text-gray-400 leading-tight"},"Catatan",-1)),e("span",re,i(r.purchase.notes||"-"),1)])]),a[16]||(a[16]=e("p",{class:"text-center text-[10px] text-gray-400 mt-6"}," Data ini diperbarui otomatis berdasarkan input nota kedatangan. ",-1))])])])):M("",!0)],64))}},ne=T(se,[["__scopeId","data-v-6f2952d7"]]);export{ne as default};
