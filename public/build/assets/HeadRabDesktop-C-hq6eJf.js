import{v,K as w,Z as h,l,o as i,f as t,z as m,e as d,L as I,F as S,I as j,t as s,A as y,Y as x,j as f,p as $,w as n,k as u,g as B,C as H}from"./vendor-core-B46KUNyc.js";import{P as c}from"./PrimaryButton-H-fN45pr.js";import{_ as M}from"./SecondaryButton-BDyiAFyF.js";import{_ as k}from"./InputError-U1zUdQKW.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"hidden space-y-6 md:block"},R={class:"flex flex-col w-full gap-4 md:flex-row"},P={class:"flex flex-col gap-4 p-5 bg-white/70 backdrop-blur-xl border border-gray-200/50 shadow-lg rounded-2xl lg:w-1/2 dark:bg-lime-900/10 dark:border-lime-900/50 dark:shadow-lime-900/20"},T={class:"flex flex-col-reverse items-start gap-4 md:flex-row"},q={class:"flex flex-col w-full gap-4"},C={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},U={class:"md:col-span-2"},V=["disabled"],z=["value"],D={class:"md:col-span-1"},K={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},E={class:"md:col-span-1"},L=["disabled"],F={class:"md:col-span-2"},O={class:"relative rounded-md shadow-sm"},A=["value","disabled"],Q={class:"flex-shrink-0 w-full md:w-32"},Y={class:"relative w-full overflow-hidden bg-gray-100 border border-gray-300 rounded-lg aspect-square dark:bg-gray-700 dark:border-gray-600 group"},Z=["src"],G={class:"flex flex-wrap justify-center gap-2 lg:justify-start"},J={class:"flex flex-col justify-between p-5 text-sm bg-white/70 backdrop-blur-xl border border-gray-200/50 shadow-lg rounded-2xl dark:bg-gray-900/90 dark:border-gray-800 relative overflow-hidden group"},W={class:"pb-2 text-base text-gray-800 border-b-2 border-gray-400 dark:border-gray-600 text-semibold dark:text-white"},X={class:"mt-2 space-y-2 text-gray-700 dark:text-gray-300"},_={class:"flex justify-between"},tt={class:"grid grid-cols-3 gap-4 pt-4 mt-4 text-gray-800 border-t-2 border-gray-400 dark:border-gray-600 dark:text-gray-200"},et={class:"font-bold text-orange-600 dark:text-orange-400"},rt={class:"font-bold text-lime-600 dark:text-lime-400"},at={class:"col-span-1"},st={class:"font-bold"},ot={class:"flex flex-col justify-between flex-1 w-full p-5 bg-gradient-to-br from-gray-900 to-gray-800 shadow-xl rounded-2xl border border-gray-800 relative overflow-hidden group dark:from-gray-950 dark:to-gray-900 dark:border-gray-900"},dt={class:"flex justify-between text-white/90 relative z-10"},lt={class:"text-lg font-bold"},it={class:"text-lg font-bold"},nt={class:"mt-8 text-left"},gt={class:"text-4xl font-extrabold text-lime-400 drop-shadow-md"},pt={__name:"HeadRabDesktop",props:{formHeader:Object,dropdowns:Object,stagingItem:Object,isEdit:Boolean,isEditingMode:Boolean,cartItems:Array,displayedPrice:[String,Number],totalUnit:[Number,String],totalMacam:[Number,String],totalBelanja:[Number,String]},emits:["update:displayedPrice","saveStaging","resetStaging","submitTransaction","openRecommendation"],setup(r,{emit:mt}){const p=r,b=v(null);w(()=>p.stagingItem.product_id,o=>{o&&h(()=>{b.value?.select()})});const g=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o);return(o,e)=>(i(),l("div",N,[t("div",R,[t("div",P,[t("div",T,[t("div",q,[t("div",C,[t("div",U,[e[11]||(e[11]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Supplier",-1)),m(t("select",{disabled:r.isEdit,"onUpdate:modelValue":e[0]||(e[0]=a=>r.formHeader.supplier_id=a),class:"w-full px-3 py-2 transition-colors bg-white border border-gray-300 rounded-md shadow-sm focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 sm:text-sm"},[e[10]||(e[10]=t("option",{value:""},"Pilih Supplier",-1)),(i(!0),l(S,null,j(r.dropdowns.suppliers,a=>(i(),l("option",{key:a.id,value:a.id},s(a.name),9,z))),128))],8,V),[[I,r.formHeader.supplier_id]]),d(k,{message:r.formHeader.errors.supplier_id,class:"mt-1"},null,8,["message"])]),t("div",D,[e[12]||(e[12]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Tanggal",-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.formHeader.transaction_date=a),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-lime-500 focus:border-lime-500 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 sm:text-sm transition-colors dark:[color-scheme:dark]"},null,512),[[y,r.formHeader.transaction_date]]),d(k,{message:r.formHeader.errors.transaction_date,class:"mt-1"},null,8,["message"])])]),t("div",K,[t("div",E,[e[13]||(e[13]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Qty",-1)),m(t("input",{onKeydown:e[2]||(e[2]=x(f(a=>o.$emit("saveStaging"),["prevent"]),["enter"])),ref_key:"qtyInput",ref:b,"onUpdate:modelValue":e[3]||(e[3]=a=>r.stagingItem.quantity=a),type:"number",min:"1",placeholder:"0",disabled:!r.stagingItem.product_id,class:"w-full px-3 py-2 transition-colors bg-white border border-gray-300 rounded-md shadow-sm focus:ring-lime-500 focus:border-lime-500 disabled:bg-gray-100 disabled:text-gray-400 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 dark:disabled:bg-gray-800 dark:disabled:text-gray-500 sm:text-sm"},null,40,L),[[y,r.stagingItem.quantity,void 0,{number:!0}]])]),t("div",F,[e[15]||(e[15]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Harga Beli",-1)),t("div",O,[e[14]||(e[14]=t("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[t("span",{class:"text-gray-500 dark:text-gray-400 sm:text-sm"},"Rp")],-1)),t("input",{value:r.displayedPrice,onKeydown:e[4]||(e[4]=x(f(a=>o.$emit("saveStaging"),["prevent"]),["enter"])),onInput:e[5]||(e[5]=a=>o.$emit("update:displayedPrice",a.target.value)),type:"text",placeholder:"0",disabled:!r.stagingItem.product_id,class:"w-full px-3 py-2 pl-10 font-mono text-right transition-colors bg-white border border-gray-300 rounded-md shadow-sm focus:ring-lime-500 focus:border-lime-500 disabled:bg-gray-100 disabled:text-gray-400 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 dark:disabled:bg-gray-800 dark:disabled:text-gray-500 sm:text-sm"},null,40,A)])])])]),t("div",Q,[e[17]||(e[17]=t("label",{class:"block mb-1 text-sm font-medium text-center text-gray-700 dark:text-gray-300 md:text-left"},"Preview",-1)),t("div",Y,[e[16]||(e[16]=t("div",{class:"absolute inset-0 z-0 flex flex-col items-center justify-center w-full h-full transition-colors duration-300"},[t("svg",{class:"w-10 h-10 mb-1 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),t("span",{class:"text-[10px] font-bold text-gray-400 dark:text-gray-500 tracking-wider"},"No Image")],-1)),r.stagingItem.image_url?(i(),l("img",{key:0,src:r.stagingItem.image_url,alt:"Preview",loading:"lazy",class:"absolute inset-0 z-10 object-cover w-full h-full transition-opacity duration-300 opacity-0",onload:"this.classList.remove('opacity-0')",onerror:"this.style.display='none'"},null,8,Z)):$("",!0)])])]),t("div",G,[d(B(H),{href:o.route("purchases.index")},{default:n(()=>[d(M,{type:"button",class:"dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600"},{default:n(()=>[...e[18]||(e[18]=[u("Kembali",-1)])]),_:1})]),_:1},8,["href"]),d(c,{type:"button",onClick:e[6]||(e[6]=a=>o.$emit("saveStaging")),disabled:!r.stagingItem.product_id,class:"dark:bg-lime-600 dark:hover:bg-lime-700 dark:focus:bg-lime-700"},{default:n(()=>[u(s(r.isEditingMode?"Update Item":"Tambah Item"),1)]),_:1},8,["disabled"]),t("button",{onClick:e[7]||(e[7]=a=>o.$emit("resetStaging")),type:"button",class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-red-500 border border-transparent rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:bg-red-600 dark:hover:bg-red-700"}," Reset "),d(c,{type:"button",onClick:e[8]||(e[8]=a=>o.$emit("submitTransaction")),disabled:r.formHeader.processing||r.cartItems.length===0,class:"dark:bg-lime-600 dark:hover:bg-lime-700 dark:focus:bg-lime-700"},{default:n(()=>[u(s(r.formHeader.processing?"Menyimpan...":"Simpan"),1)]),_:1},8,["disabled"]),t("button",{onClick:e[9]||(e[9]=a=>o.$emit("openRecommendation")),type:"button",class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-yellow-500 border border-transparent rounded-md hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 dark:bg-yellow-600 dark:hover:bg-yellow-700"}," Rekomendasi ")])]),t("div",J,[e[26]||(e[26]=t("div",{class:"absolute -right-6 -top-6 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl group-hover:bg-blue-500/20 transition-all duration-500"},null,-1)),t("div",W,s(r.stagingItem.name?r.stagingItem.name+" ( "+r.stagingItem.code+" )":"Belum ada barang dipilih"),1),t("div",X,[e[19]||(e[19]=t("div",{class:"flex justify-between font-medium text-gray-600 dark:text-gray-400"},[t("strong",null,"Kategori"),t("strong",null,"Satuan"),t("strong",null,"Ukuran")],-1)),t("div",_,[t("span",null,s(r.stagingItem.category||"-"),1),t("span",null,s(r.stagingItem.unit||"-"),1),t("span",null,s(r.stagingItem.size||"-"),1)])]),t("div",tt,[t("div",null,[e[20]||(e[20]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"}," Sisa Stok ",-1)),t("p",null,s(r.stagingItem.current_stock||"0"),1)]),t("div",null,[e[21]||(e[21]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"}," Rekom Restok ",-1)),t("p",et,s(r.stagingItem.restock_recommendation||"0"),1)]),t("div",null,[e[22]||(e[22]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"}," Stok Masuk ",-1)),t("p",rt,s(r.stagingItem.quantity||"0"),1)]),t("div",null,[e[23]||(e[23]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"}," Total Stok ",-1)),t("p",null,s((r.stagingItem.current_stock||0)+(r.stagingItem.quantity||0)),1)]),t("div",null,[e[24]||(e[24]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"}," Harga Beli ",-1)),t("p",null,s(g(r.stagingItem.purchase_price||0)),1)]),t("div",at,[e[25]||(e[25]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"}," Subtotal ",-1)),t("p",st,s(g((r.stagingItem.quantity||0)*(r.stagingItem.purchase_price||0))),1)])])]),t("div",ot,[e[28]||(e[28]=t("div",{class:"absolute -right-10 -bottom-10 w-48 h-48 bg-lime-500/10 rounded-full blur-3xl group-hover:bg-lime-500/20 transition-all duration-500"},null,-1)),t("div",dt,[t("p",lt,s(r.totalUnit)+" Unit",1),t("p",it,s(r.totalMacam)+" Macam",1)]),t("div",nt,[e[27]||(e[27]=t("p",{class:"text-xs font-bold tracking-wider text-gray-500 uppercase dark:text-gray-400"}," Total Belanja ",-1)),t("p",gt,s(g(r.totalBelanja)),1)])])])]))}};export{pt as default};
