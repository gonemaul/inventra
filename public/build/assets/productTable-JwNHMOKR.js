import{_}from"./DataTable-DNYoLFHT.js";import{g as p,o as c,b as n,a as m,w as u,t as a,n as y,c as f,d as g,l as x,f as A}from"./app-DwOZ8O7W.js";const k={class:"p-4 space-y-5 bg-white border rounded-lg shadow-md dark:bg-gray-800"},N={key:1,class:"text-gray-500"},v={class:"flex flex-col"},R={class:"font-bold text-gray-800 dark:text-white"},S={class:"text-xs text-gray-500"},U={class:"text-xs text-gray-400"},G={__name:"productTable",props:{items:{type:Array,required:!0}},setup(h){const b=[{key:"product.name",label:"Nama",sortable:!0,slot:"productDetail"},{key:"product_snapshot.quantity",label:"Qty Order",sortable:!0},{key:"quantity",label:"Qty Diterima",sortable:!0,width:"120px"},{key:"product_snapshot.purchase_price",label:"Harga Lama",sortable:!0,width:"120px",format:"rupiah"},{key:"purchase_price",label:"Harga Diterima",sortable:!0,width:"120px",format:"rupiah"},{key:"invoice.invoice_number",sortable:!0,label:"Invoice",width:"120px",slot:"invoice"},{key:"status",label:"Status",sortable:!0,width:"120px",slot:"status"}];function t(r){const i=r.product_snapshot.quantity,e=r.quantity,l=r.product_snapshot.purchase_price,d=r.purchase_price;let s="Sesuai",o="Tetap";return i===0?s="BARANG BARU":e===0?s="KOSONG":e>i?s="LEBIH QTY":e<i&&(s="KURANG QTY"),Number(d)>Number(l)?o="HARGA NAIK":Number(d)<Number(l)&&(o="HARGA TURUN"),s!=="Sesuai"&&o!=="Tetap"?`${s} / ${o}`:s!=="Sesuai"?s:o!=="Tetap"?o:"SESUAI SEMPURNA"}return(r,i)=>(c(),p("div",k,[i[0]||(i[0]=n("h3",{class:"text-lg font-bold dark:text-white"}," Daftar Produk yang dibeli ",-1)),m(_,{columns:b,serverSide:!1,perPageOptions:[5,10,20],data:h.items},{invoice:u(({row:e})=>[e.invoice?(c(),f(g(x),{key:0,href:r.route("purchases.linkInvoiceItems",{purchase:e.purchase_id,invoice:e.purchase_invoice_id}),class:"p-2 font-medium text-blue-800 rounded bg-lime-300 hover:underline"},{default:u(()=>[A(a(e.invoice.invoice_number),1)]),_:2},1032,["href"])):(c(),p("span",N,"Tidak Terhubung"))]),status:u(({row:e})=>[n("span",{class:y({"px-2 py-1 rounded-md text-xs font-medium text-white":!0,"bg-red-700":t(e).includes("KOSONG")||t(e).includes("KURANG"),"bg-purple-500":t(e).includes("LEBIH"),"bg-yellow-600":t(e).includes("HARGA NAIK"),"bg-yellow-400":t(e).includes("HARGA TURUN"),"bg-blue-500":t(e).includes("BARU"),"bg-green-500":t(e)==="SESUAI SEMPURNA"})},a(r.status=t(e)),3)]),productDetail:u(({row:e})=>[n("div",v,[n("span",R,a(e.product_snapshot.name),1),n("span",S,a(e.product_snapshot.brand)+" | "+a(e.product_snapshot.code)+" | "+a(e.product_snapshot.category),1),n("span",U,a(e.product_snapshot.size)+" - "+a(e.product_snapshot.unit),1)])]),_:1},8,["data"])]))}};export{G as default};
