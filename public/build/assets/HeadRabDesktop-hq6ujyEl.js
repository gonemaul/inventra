import{q as v,J as w,Y as h,l as i,o as l,f as t,y as m,e as o,K as I,F as S,H as j,t as s,z as y,X as x,j as c,m as $,w as n,k as u,g as B,B as H}from"./vendor-core-BhnropoY.js";import{P as f}from"./PrimaryButton-CO53NIUy.js";import{_ as M}from"./SecondaryButton-Pyc8zkMX.js";import{_ as k}from"./InputError-CMWgHCqc.js";import"./vendor-common-pmZ7KOuE.js";import"./vendor-charts-Bw6UNgWf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"hidden space-y-6 md:block"},R={class:"flex flex-col w-full gap-4 md:flex-row"},q={class:"flex flex-col gap-4 p-4 bg-gray-200 border rounded-lg lg:w-1/2 dark:bg-gray-800 dark:border-gray-700"},P={class:"flex flex-col-reverse items-start gap-4 md:flex-row"},T={class:"flex flex-col w-full gap-4"},U={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},V={class:"md:col-span-2"},C=["disabled"],z=["value"],D={class:"md:col-span-1"},K={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},E={class:"md:col-span-1"},F=["disabled"],L={class:"md:col-span-2"},O={class:"relative rounded-md shadow-sm"},A=["value","disabled"],J={class:"flex-shrink-0 w-full md:w-32"},Q={class:"relative w-full overflow-hidden bg-gray-100 border border-gray-300 rounded-lg aspect-square dark:bg-gray-700 dark:border-gray-600 group"},X=["src"],Y={class:"flex flex-wrap justify-center gap-2 lg:justify-start"},G={class:"flex flex-col justify-between p-4 text-sm bg-gray-200 border rounded-lg dark:bg-gray-800 dark:border-gray-700"},W={class:"pb-2 text-base text-gray-800 border-b-2 border-gray-400 dark:border-gray-600 text-semibold dark:text-white"},Z={class:"mt-2 space-y-2 text-gray-700 dark:text-gray-300"},_={class:"flex justify-between"},tt={class:"grid grid-cols-3 gap-4 pt-4 mt-4 text-gray-800 border-t-2 border-gray-400 dark:border-gray-600 dark:text-gray-200"},et={class:"font-bold text-orange-600 dark:text-orange-400"},at={class:"font-bold text-lime-600 dark:text-lime-400"},rt={class:"col-span-1"},st={class:"font-bold"},dt={class:"flex flex-col justify-between flex-1 w-full p-4 bg-gray-200 border rounded-lg dark:bg-gray-800 dark:border-gray-700"},ot={class:"flex justify-between text-gray-800 dark:text-white"},it={class:"text-lg font-bold"},lt={class:"text-lg font-bold"},nt={class:"mt-8 text-left"},gt={class:"text-3xl font-extrabold text-gray-900 dark:text-white"},pt={__name:"HeadRabDesktop",props:{formHeader:Object,dropdowns:Object,stagingItem:Object,isEdit:Boolean,isEditingMode:Boolean,cartItems:Array,displayedPrice:[String,Number],totalUnit:[Number,String],totalMacam:[Number,String],totalBelanja:[Number,String]},emits:["update:displayedPrice","saveStaging","resetStaging","submitTransaction","openRecommendation"],setup(a,{emit:mt}){const p=a,b=v(null);w(()=>p.stagingItem.product_id,d=>{d&&h(()=>{b.value?.select()})});const g=d=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d);return(d,e)=>(l(),i("div",N,[t("div",R,[t("div",q,[t("div",P,[t("div",T,[t("div",U,[t("div",V,[e[11]||(e[11]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Supplier",-1)),m(t("select",{disabled:a.isEdit,"onUpdate:modelValue":e[0]||(e[0]=r=>a.formHeader.supplier_id=r),class:"w-full px-3 py-2 transition-colors bg-white border border-gray-300 rounded-md shadow-sm focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 sm:text-sm"},[e[10]||(e[10]=t("option",{value:""},"Pilih Supplier",-1)),(l(!0),i(S,null,j(a.dropdowns.suppliers,r=>(l(),i("option",{key:r.id,value:r.id},s(r.name),9,z))),128))],8,C),[[I,a.formHeader.supplier_id]]),o(k,{message:a.formHeader.errors.supplier_id,class:"mt-1"},null,8,["message"])]),t("div",D,[e[12]||(e[12]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Tanggal",-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>a.formHeader.transaction_date=r),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-lime-500 focus:border-lime-500 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 sm:text-sm transition-colors dark:[color-scheme:dark]"},null,512),[[y,a.formHeader.transaction_date]]),o(k,{message:a.formHeader.errors.transaction_date,class:"mt-1"},null,8,["message"])])]),t("div",K,[t("div",E,[e[13]||(e[13]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Qty",-1)),m(t("input",{onKeydown:e[2]||(e[2]=x(c(r=>d.$emit("saveStaging"),["prevent"]),["enter"])),ref_key:"qtyInput",ref:b,"onUpdate:modelValue":e[3]||(e[3]=r=>a.stagingItem.quantity=r),type:"number",min:"1",placeholder:"0",disabled:!a.stagingItem.product_id,class:"w-full px-3 py-2 transition-colors bg-white border border-gray-300 rounded-md shadow-sm focus:ring-lime-500 focus:border-lime-500 disabled:bg-gray-100 disabled:text-gray-400 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 dark:disabled:bg-gray-800 dark:disabled:text-gray-500 sm:text-sm"},null,40,F),[[y,a.stagingItem.quantity,void 0,{number:!0}]])]),t("div",L,[e[15]||(e[15]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Harga Beli",-1)),t("div",O,[e[14]||(e[14]=t("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[t("span",{class:"text-gray-500 dark:text-gray-400 sm:text-sm"},"Rp")],-1)),t("input",{value:a.displayedPrice,onKeydown:e[4]||(e[4]=x(c(r=>d.$emit("saveStaging"),["prevent"]),["enter"])),onInput:e[5]||(e[5]=r=>d.$emit("update:displayedPrice",r.target.value)),type:"text",placeholder:"0",disabled:!a.stagingItem.product_id,class:"w-full px-3 py-2 pl-10 font-mono text-right transition-colors bg-white border border-gray-300 rounded-md shadow-sm focus:ring-lime-500 focus:border-lime-500 disabled:bg-gray-100 disabled:text-gray-400 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 dark:disabled:bg-gray-800 dark:disabled:text-gray-500 sm:text-sm"},null,40,A)])])])]),t("div",J,[e[17]||(e[17]=t("label",{class:"block mb-1 text-sm font-medium text-center text-gray-700 dark:text-gray-300 md:text-left"},"Preview",-1)),t("div",Q,[e[16]||(e[16]=t("div",{class:"absolute inset-0 z-0 flex flex-col items-center justify-center w-full h-full transition-colors duration-300"},[t("svg",{class:"w-10 h-10 mb-1 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),t("span",{class:"text-[10px] font-bold text-gray-400 dark:text-gray-500 tracking-wider"},"No Image")],-1)),a.stagingItem.image_url?(l(),i("img",{key:0,src:a.stagingItem.image_url,alt:"Preview",loading:"lazy",class:"absolute inset-0 z-10 object-cover w-full h-full transition-opacity duration-300 opacity-0",onload:"this.classList.remove('opacity-0')",onerror:"this.style.display='none'"},null,8,X)):$("",!0)])])]),t("div",Y,[o(B(H),{href:d.route("purchases.index")},{default:n(()=>[o(M,{type:"button",class:"dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600"},{default:n(()=>[...e[18]||(e[18]=[u("Kembali",-1)])]),_:1})]),_:1},8,["href"]),o(f,{type:"button",onClick:e[6]||(e[6]=r=>d.$emit("saveStaging")),disabled:!a.stagingItem.product_id,class:"dark:bg-lime-600 dark:hover:bg-lime-700 dark:focus:bg-lime-700"},{default:n(()=>[u(s(a.isEditingMode?"Update Item":"Tambah Item"),1)]),_:1},8,["disabled"]),t("button",{onClick:e[7]||(e[7]=r=>d.$emit("resetStaging")),type:"button",class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-red-500 border border-transparent rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:bg-red-600 dark:hover:bg-red-700"}," Reset "),o(f,{type:"button",onClick:e[8]||(e[8]=r=>d.$emit("submitTransaction")),disabled:a.formHeader.processing||a.cartItems.length===0,class:"dark:bg-lime-600 dark:hover:bg-lime-700 dark:focus:bg-lime-700"},{default:n(()=>[u(s(a.formHeader.processing?"Menyimpan...":"Simpan"),1)]),_:1},8,["disabled"]),t("button",{onClick:e[9]||(e[9]=r=>d.$emit("openRecommendation")),type:"button",class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-white uppercase transition duration-150 ease-in-out bg-yellow-500 border border-transparent rounded-md hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 dark:bg-yellow-600 dark:hover:bg-yellow-700"}," Rekomendasi ")])]),t("div",G,[t("div",W,s(a.stagingItem.name?a.stagingItem.name+" ( "+a.stagingItem.code+" )":"Belum ada barang dipilih"),1),t("div",Z,[e[19]||(e[19]=t("div",{class:"flex justify-between font-medium text-gray-600 dark:text-gray-400"},[t("strong",null,"Kategori"),t("strong",null,"Satuan"),t("strong",null,"Ukuran")],-1)),t("div",_,[t("span",null,s(a.stagingItem.category||"-"),1),t("span",null,s(a.stagingItem.unit||"-"),1),t("span",null,s(a.stagingItem.size||"-"),1)])]),t("div",tt,[t("div",null,[e[20]||(e[20]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"}," Sisa Stok ",-1)),t("p",null,s(a.stagingItem.current_stock||"0"),1)]),t("div",null,[e[21]||(e[21]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"}," Rekom Restok ",-1)),t("p",et,s(a.stagingItem.restock_recommendation||"0"),1)]),t("div",null,[e[22]||(e[22]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"}," Stok Masuk ",-1)),t("p",at,s(a.stagingItem.quantity||"0"),1)]),t("div",null,[e[23]||(e[23]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"}," Total Stok ",-1)),t("p",null,s((a.stagingItem.current_stock||0)+(a.stagingItem.quantity||0)),1)]),t("div",null,[e[24]||(e[24]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"}," Harga Beli ",-1)),t("p",null,s(g(a.stagingItem.purchase_price||0)),1)]),t("div",rt,[e[25]||(e[25]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400"}," Subtotal ",-1)),t("p",st,s(g((a.stagingItem.quantity||0)*(a.stagingItem.purchase_price||0))),1)])])]),t("div",dt,[t("div",ot,[t("p",it,s(a.totalUnit)+" Unit",1),t("p",lt,s(a.totalMacam)+" Macam",1)]),t("div",nt,[e[26]||(e[26]=t("p",{class:"text-xs font-bold tracking-wider text-gray-500 uppercase dark:text-gray-400"}," Total Belanja ",-1)),t("p",gt,s(g(a.totalBelanja)),1)])])])]))}};export{pt as default};
