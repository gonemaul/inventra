import{t as g}from"./vendor-common-GpUWqhKr.js";import{v as y,V as w,D as h,K as v,l as x,o as I,f as V,W as D}from"./vendor-core-B46KUNyc.js";const _={class:"relative w-full"},k=["value"],N=Object.assign({inheritAttrs:!1},{__name:"InputRupiah",props:{modelValue:[Number,String],max:{type:[Number,String],default:null}},emits:["update:modelValue"],setup(u,{emit:i}){const l=u,c=i,s=y(""),m=w(),p=h(()=>g("w-full py-3 pl-4 pr-4 border border-gray-300 rounded-lg shadow-sm focus:border-lime-500 focus:ring-lime-500 transition-all duration-200 placeholder-gray-400 text-gray-900 text-right",m.class)),n=e=>e===""||e===null||e===void 0||isNaN(e)?"":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),d=e=>{let t=e.target.value.replace(/[^0-9]/g,"");t.startsWith("0")&&(t=t.replace(/^0+/,""));let a=t===""?null:parseInt(t);if(l.max&&a!==null&&a>parseInt(l.max)&&(a=parseInt(l.max)),a!==null){const o=n(a);s.value=o,e.target.value!==o&&(e.target.value=o)}else s.value="";c("update:modelValue",a)},f=e=>{const r=["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"];(e.ctrlKey||e.metaKey)&&["a","c","v","x"].includes(e.key.toLowerCase())||r.includes(e.key)||/^[0-9]$/.test(e.key)||e.preventDefault()};return v(()=>l.modelValue,e=>{s.value=n(e)},{immediate:!0}),(e,r)=>(I(),x("div",_,[V("input",D({type:"text",inputmode:"numeric",value:s.value,onInput:d,onKeydown:f,onFocus:r[0]||(r[0]=t=>t.target.select())},{...e.$attrs,class:null},{class:p.value}),null,16,k)]))}});export{N as _};
