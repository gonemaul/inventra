import{C as c,l as n,o as i,f as e,e as p,w as m,g as y,B as w,n as d,t as s,k,G as _,T as I}from"./vendor-core-B1zCOcYd.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";const z={class:"z-30 bg-white border-b border-gray-100 shadow-lg dark:bg-gray-900 shadow-gray-200/50 dark:shadow-none dark:border-gray-800 rounded-b-3xl"},M={class:"px-5 pt-5 pb-6"},j={class:"flex items-start justify-between mb-3"},C={class:"flex items-start"},B={class:"flex items-center gap-2 mb-1"},D={class:"space-y-0.5"},S={class:"text-sm font-bold leading-none"},T={class:"text-xs font-black tracking-tight text-gray-800 dark:text-white"},V={class:"flex items-center gap-3 my-2"},N={class:"flex items-center justify-center w-10 h-10 text-indigo-600 border border-indigo-100 rounded-lg shrink-0 bg-indigo-50 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800"},O={class:"text-sm font-black uppercase"},L={class:"flex-1 min-w-0"},A={class:"text-sm font-bold text-gray-800 truncate dark:text-gray-100"},R={class:"flex items-center gap-1.5 text-[11px] text-gray-500 dark:text-gray-400 mt-0.5"},q={class:"truncate max-w-[120px]"},F={class:"font-mono text-gray-600 dark:text-gray-300 whitespace-nowrap"},P={class:"text-right"},U={class:"text-[10px] text-gray-400 mt-1"},E={class:"font-bold text-red-500"},G={class:"relative h-3 mb-4 overflow-hidden bg-gray-200 rounded-full dark:bg-gray-700"},H={class:"grid grid-cols-2 gap-3 h-[72px]"},J={class:"flex flex-col justify-center p-3 border border-gray-300 bg-gray-50 dark:bg-gray-800 rounded-2xl dark:border-gray-700"},$={class:"text-sm font-bold text-gray-800 truncate dark:text-gray-200"},K={class:"relative z-10"},Q={class:"text-[10px] uppercase font-bold tracking-wider mb-0.5 opacity-70"},W={class:"text-sm font-black uppercase truncate"},X={key:0,xmlns:"http://www.w3.org/2000/svg",class:"absolute w-10 h-10 -right-2 -bottom-2 opacity-10",viewBox:"0 0 20 20",fill:"currentColor"},Y={key:1,xmlns:"http://www.w3.org/2000/svg",class:"absolute w-10 h-10 -right-2 -bottom-2 opacity-10",viewBox:"0 0 20 20",fill:"currentColor"},ae={__name:"HeaderMobile",props:{purchase:Object,invoice:Object,linkedItems:Object,validateInvoice:Object},setup(a){const l=a,f=c(()=>l.linkedItems.reduce((r,t)=>r+(t.quantity||0)*(t.purchase_price||0),0)),o=c(()=>{const r=l.invoice.total_amount||0,t=l.linkedItems.reduce((h,b)=>h+(b.quantity||0)*(b.purchase_price||0),0);return r-t}),u=c(()=>Math.abs(o.value)<100&&l.linkedItems.length>0),g=c(()=>{const r=l.invoice.total_amount||1;let t=f.value/r*100;return Math.min(Math.max(t,0),100)}),v=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),x=r=>r?new Date(r).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-";return(r,t)=>(i(),n("header",z,[e("div",M,[e("div",j,[e("div",null,[e("div",C,[p(y(w),{href:r.route("purchases.checking",a.purchase.id),class:"p-2 mr-3 -ml-2 text-gray-400 transition-colors rounded-full hover:text-gray-800 hover:bg-gray-100 dark:text-gray-500 dark:hover:text-white dark:hover:bg-gray-800"},{default:m(()=>[...t[1]||(t[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1},8,["href"]),e("div",B,[e("span",{class:d(["w-1.5 h-8 rounded-full",u.value?"bg-lime-500 animate-pulse":"bg-gray-300 dark:bg-gray-700"])},null,2),e("div",D,[e("h1",S,s(a.purchase.reference_no||"PO-####"),1),e("h1",T," Invoice : #"+s(a.invoice.invoice_number)+" | "+s(x(a.invoice.invoice_date)),1)])])]),e("div",V,[e("div",N,[e("span",O,s((a.purchase.supplier?.name||"U").substring(0,1)),1)]),e("div",L,[e("p",A,s(a.purchase.supplier?.name||"Supplier Umum/Cash"),1),e("div",R,[e("span",q,s(a.purchase.supplier?.address||"Tanpa Alamat"),1),t[2]||(t[2]=e("span",{class:"text-gray-300 dark:text-gray-600"},"â€¢",-1)),e("span",F,s(a.purchase.supplier?.phone||"-"),1)])])])]),e("div",P,[e("span",{class:d(["px-2.5 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider border",a.invoice.status==="validated"?"bg-teal-50 text-teal-700 border-teal-200":"bg-orange-50 text-orange-700 border-orange-200"])},s(a.invoice.status),3),e("p",U,[t[3]||(t[3]=k(" Jatuh Tempo: ",-1)),e("span",E,s(x(a.invoice.due_date)),1)])])]),e("div",G,[e("div",{class:d(["absolute top-0 left-0 h-full transition-all duration-500 ease-out rounded-full",u.value?"bg-lime-500 shadow-[0_0_10px_rgba(132,204,22,0.6)]":"bg-blue-500"]),style:_({width:`${g.value}%`})},null,6),e("span",{class:d(["absolute inset-0 flex items-center justify-center text-[9px] font-bold text-gray-700 z-10",g.value>50?"text-white drop-shadow-md":"text-gray-600"])},s(Math.round(g.value))+"% ",3)]),e("div",H,[e("div",J,[t[4]||(t[4]=e("p",{class:"text-[10px] uppercase font-bold text-gray-400 tracking-wider mb-0.5"}," Total Nota ",-1)),e("p",$,s(v(a.invoice.total_amount)),1)]),p(I,{name:"fade",mode:"out-in"},{default:m(()=>[u.value&&a.invoice.status!=="validated"?(i(),n("button",{key:0,onClick:t[0]||(t[0]=(...h)=>a.validateInvoice&&a.validateInvoice(...h)),class:"relative flex items-center justify-between w-full h-full px-4 overflow-hidden text-white transition-all shadow-lg bg-lime-500 hover:bg-lime-600 active:scale-95 rounded-2xl shadow-lime-500/40 group"},[...t[5]||(t[5]=[e("div",{class:"absolute inset-0 transition-transform duration-300 translate-y-full bg-white/10 group-hover:translate-y-0"},null,-1),e("div",{class:"relative z-10 text-left"},[e("p",{class:"text-[10px] font-bold opacity-90 uppercase tracking-wider"}," Data Cocok "),e("p",{class:"text-sm font-black leading-none"}," VALIDASI ")],-1),e("div",{class:"bg-white/20 p-1.5 rounded-full relative z-10 group-hover:translate-x-1 transition-transform"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)])])):(i(),n("div",{key:1,class:d(["w-full h-full p-3 rounded-2xl border flex flex-col justify-center relative overflow-hidden",Math.abs(o.value)<100?"bg-teal-50 border-teal-200 text-teal-800":"bg-white dark:bg-gray-800 border-red-100 text-red-600"])},[e("div",K,[e("p",Q,s(Math.abs(o.value)<100?"Status":"Selisih"),1),e("p",W,s(Math.abs(o.value)<100?a.invoice.status:v(o.value)),1)]),Math.abs(o.value)>=100?(i(),n("svg",X,[...t[6]||(t[6]=[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)])])):(i(),n("svg",Y,[...t[7]||(t[7]=[e("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])]))],2))]),_:1})])])]))}};export{ae as default};
