import{x as S,u as M,y as C,j as V,c as U,o as d,w as $,b as r,t as n,e as B,g as i,i as l,k as m,f as y,d as s,z as g,A as k}from"./app-C_cXePOB.js";import{_ as E}from"./Modal-DR4Qf9lZ.js";import{u as N}from"./useActionLoading-Bvh_DZn-.js";const A={class:"w-full p-6 bg-white shadow-lg maxs-w-md rounded-xl dark:bg-gray-800"},j={class:"flex items-center justify-between pb-3 border-b"},z={class:"text-lg font-semibold text-gray-800 dark:text-white"},P={key:0},F={key:0,class:"mt-1 text-xs text-red-500"},K={key:1},O={key:0,class:"mt-1 text-xs text-red-500"},H={key:2},L={key:0,class:"mt-1 text-xs text-red-500"},q={key:3},G={key:0,class:"mt-1 text-xs text-red-500"},I={key:4},J={key:0,class:"mt-1 text-xs text-red-500"},Q={key:5},R={key:0,value:""},W={key:0,class:"mt-1 text-xs text-red-500"},X={key:6},Y={key:0,value:""},Z={key:0,class:"mt-1 text-xs text-red-500"},D={class:""},_={key:0,class:"mt-1 text-xs text-red-500"},ee={class:"flex justify-end gap-2 pt-3 border-t"},te=["disabled"],ae={__name:"form-create",props:{show:{type:Boolean,default:!1},mode:{type:String,default:"create"},data:{type:Object,default:()=>({})},dataType:{type:String,default:"category"}},emits:["close","success"],setup(p,{emit:b}){const u=p,f={category:{create:{method:"post",url:()=>route("api.settings.storeCategory")},edit:{method:"put",url:o=>route("api.settings.updateCategory",{id:o})}},type:{create:{method:"post",url:()=>route("api.settings.storeType")},edit:{method:"put",url:o=>route("api.settings.updateType",{id:o})}},unit:{create:{method:"post",url:()=>route("api.settings.storeUnit")},edit:{method:"put",url:o=>route("api.settings.updateUnit",{id:o})}},size:{create:{method:"post",url:()=>route("api.settings.storeSize")},edit:{method:"put",url:o=>route("api.settings.updateSize",{id:o})}},brand:{create:{method:"post",url:()=>route("api.settings.storeBrand")},edit:{method:"put",url:o=>route("api.settings.updateBrand",{id:o})}},supplier:{create:{method:"post",url:()=>route("api.settings.storeSupplier")},edit:{method:"put",url:o=>route("api.settings.updateSupplier",{id:o})}}};S();const x=b,{isActionLoading:c}=N(),t=M({id:null,code:"",name:"",description:"",phone:"",address:"",type:"",status:""});C(()=>u.data,o=>{t.clearErrors(),o&&u.mode==="edit"?(t.id=o.id,t.code=o.code||"",t.name=o.name||"",t.description=o.description||"",t.phone=o.phone||"",t.address=o.address||"",t.type=o.type||"",t.status=o.status||""):t.reset()});const h=V(()=>{switch(u.dataType){case"category":return u.mode==="create"?"Tambah Kategori":"Edit Kategori";case"type":return u.mode==="create"?"Tambah Tipe Produk":"Edit Tipe Produk";case"unit":return u.mode==="create"?"Tambah Satuan":"Edit Satuan";case"brand":return u.mode==="create"?"Tambah Merk":"Edit Merk";case"supplier":return u.mode==="create"?"Tambah Supplier":"Edit Supplier";default:return""}}),v=()=>{const o=u.dataType,e=u.mode,a=f[o]?.[e];if(!a){console.error(`Config rute tidak ditemukan untuk: ${o} - ${e}`);return}const w=a.method,T=a.url(t.id);c.value=!0,t.submit(w,T,{preserveScroll:!0,onFinish:()=>{c.value=!1,t.wasSuccessful&&(x("close"),x("success"),t.reset())}})};return(o,e)=>(d(),U(E,{show:p.show,onClose:e[10]||(e[10]=a=>o.$emit("close")),"max-width":"lg"},{default:$(()=>[r("div",A,[r("div",j,[r("h2",z,n(h.value),1),r("button",{onClick:e[0]||(e[0]=a=>o.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}," âœ• ")]),r("form",{class:"mt-4 space-y-4",onSubmit:B(v,["prevent"])},[p.dataType!="supplier"?(d(),i("div",P,[e[11]||(e[11]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Kode"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan kode",class:"w-full px-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":e[1]||(e[1]=a=>s(t).code=a)},null,512),[[g,s(t).code]]),s(t).errors.code?(d(),i("p",F,n(s(t).errors.code),1)):l("",!0)])):l("",!0),p.dataType!="supplier"?(d(),i("div",K,[e[12]||(e[12]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Nama"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan nama",class:"w-full px-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":e[2]||(e[2]=a=>s(t).name=a)},null,512),[[g,s(t).name]]),s(t).errors.name?(d(),i("p",O,n(s(t).errors.name),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",H,[e[13]||(e[13]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Nama Supplier"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan nama",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":e[3]||(e[3]=a=>s(t).name=a)},null,512),[[g,s(t).name]]),s(t).errors.name?(d(),i("p",L,n(s(t).errors.name),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",q,[e[14]||(e[14]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("No Hp"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan No Hp",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":e[4]||(e[4]=a=>s(t).phone=a)},null,512),[[g,s(t).phone]]),s(t).errors.phone?(d(),i("p",G,n(s(t).errors.phone),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",I,[e[15]||(e[15]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Alamat"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan alamat",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":e[5]||(e[5]=a=>s(t).address=a)},null,512),[[g,s(t).address]]),s(t).errors.address?(d(),i("p",J,n(s(t).errors.address),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",Q,[e[18]||(e[18]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Type"),r("span",{class:"text-red-500"},"*")],-1)),m(r("select",{class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg dark:bg-gray-700 dark:text-white","onUpdate:modelValue":e[6]||(e[6]=a=>s(t).type=a)},[u.mode=="create"?(d(),i("option",R," Pilih Type ")):l("",!0),e[16]||(e[16]=r("option",{value:"type_online"},"Online",-1)),e[17]||(e[17]=r("option",{value:"type_offline"},"Offline",-1))],512),[[k,s(t).type]]),s(t).errors.type?(d(),i("p",W,n(s(t).errors.type),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",X,[e[21]||(e[21]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Status"),r("span",{class:"text-red-500"},"*")],-1)),m(r("select",{class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg dark:bg-gray-700 dark:text-white","onUpdate:modelValue":e[7]||(e[7]=a=>s(t).status=a)},[u.mode=="create"?(d(),i("option",Y," Pilih Status ")):l("",!0),e[19]||(e[19]=r("option",{value:"active"},"Aktif",-1)),e[20]||(e[20]=r("option",{value:"inactive"},"Tidak Aktif",-1))],512),[[k,s(t).status]]),s(t).errors.status?(d(),i("p",Z,n(s(t).errors.status),1)):l("",!0)])):l("",!0),r("div",D,[e[22]||(e[22]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Catatan / Deskripsi ",-1)),m(r("textarea",{type:"text",placeholder:"Masukkan Catatan / Deskripsi",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":e[8]||(e[8]=a=>s(t).description=a)},null,512),[[g,s(t).description]]),s(t).errors.description?(d(),i("p",_,n(s(t).errors.description),1)):l("",!0)]),r("div",ee,[r("button",{type:"button",onClick:e[9]||(e[9]=a=>o.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}," Batal "),r("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white rounded-lg bg-lime-500 hover:bg-lime-600",disabled:s(t).processing},n(s(t).processing?"Menyimpan...":"Simpan"),9,te)])],32)])]),_:1},8,["show"]))}};export{ae as default};
