import{q as h,C as w,l as d,o,e as c,f as e,m as l,n as x,t as r,k as i,w as p,g as f,B as y,F as v}from"./vendor-core-CTIsLlXR.js";import{_ as N}from"./DeleteConfirm-Wg8Vw5Z3.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";import"./Modal-2Yb2T-4V.js";import"./useActionLoading-C7V52Mi3.js";const j={class:"flex flex-col overflow-hidden bg-white border border-gray-200 shadow-sm md:flex-row dark:bg-gray-800 rounded-2xl dark:border-gray-700"},C={class:"relative w-full md:w-80 lg:w-96 shrink-0 bg-gray-50 dark:bg-gray-900 border-b md:border-b-0 md:border-r border-gray-200 dark:border-gray-700 group overflow-hidden"},S={class:"relative w-full aspect-square flex items-center justify-center p-6"},z=["src","alt"],I={class:"absolute top-4 left-4 z-20 flex flex-col gap-2"},M={key:0,class:"px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider text-white bg-purple-600 shadow-lg shadow-purple-500/30 rounded-lg backdrop-blur-md flex items-center gap-1.5"},B={key:1,class:"px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider text-white bg-gray-600 shadow-lg shadow-gray-500/30 rounded-lg backdrop-blur-md flex items-center gap-1.5"},H={key:2,class:"px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider text-white bg-red-600 shadow-lg shadow-red-500/30 rounded-lg backdrop-blur-md flex items-center gap-1.5"},V={class:"absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/50 to-transparent z-20 flex justify-between items-end"},D={key:0,class:"px-2 py-1 rounded-md text-[10px] font-bold text-white bg-black/40 backdrop-blur-md border border-white/10 flex items-center gap-1"},O={class:"flex flex-col justify-between flex-1 p-6 md:p-8 space-y-6"},P={class:"flex flex-wrap items-center gap-3 mb-4 text-xs"},L={class:"px-2 py-1 font-bold text-lime-700 bg-lime-100 rounded-md dark:bg-lime-900/30 dark:text-lime-400 uppercase tracking-wide"},T={class:"font-medium text-gray-500 dark:text-gray-400"},A={class:"font-mono text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded"},E={class:"text-2xl md:text-3xl font-black text-gray-900 dark:text-white leading-tight mb-6"},F={class:"grid grid-cols-2 md:grid-cols-4 gap-4 pb-6 border-b border-gray-100 dark:border-gray-700"},$={class:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700"},q={class:"flex items-baseline gap-1"},K={class:"text-xs text-gray-500"},R={class:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700"},G={class:"text-base font-bold text-gray-900 dark:text-white"},J={class:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700 col-span-2"},U={class:"flex items-center gap-3"},W={class:"text-sm font-semibold text-gray-600 dark:text-gray-300 block"},Q={class:"text-sm font-bold text-green-600 block"},X={class:"space-y-6"},Y={class:"flex flex-wrap items-end justify-between gap-4"},Z={class:"text-4xl font-black text-lime-600 dark:text-lime-400 tracking-tight"},_={key:0,class:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-gray-50 dark:bg-gray-800 border border-gray-100 dark:border-gray-700"},ee={class:"text-lg"},te={class:"flex flex-col leading-none"},ae={class:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-gray-100 dark:border-gray-700"},ie={__name:"card-detail",props:{data:Object,dss:Object,price_trend:Object},setup(a){const g=a,u=h(null),k=(s,t=!1)=>{let n={};t?n={title:"Hapus Permanen Produk",message:"Produk ini akan dihapus selamanya. Anda yakin menghapus",itemName:s.name,url:route("products.destroy",{id:s.slug,permanen:!0})}:n={title:"Pindahkan ke Sampah",message:"Anda yakin ingin memindahkan produk",itemName:s.name,url:route("products.destroy",{id:s.slug})},u.value.open(n)},m=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s),b=w(()=>g.data.insights?.some(t=>t.type==="restock"&&t.severity==="critical")||g.data.stock<=g.data.min_stock);return(s,t)=>(o(),d(v,null,[c(N,{ref_key:"showConfirmModal",ref:u,onSuccess:t[0]||(t[0]=()=>{})},null,512),e("div",j,[e("div",C,[e("div",S,[t[3]||(t[3]=e("div",{class:"absolute inset-0 z-0 flex flex-col items-center justify-center text-gray-300 dark:text-gray-700"},[e("svg",{class:"w-16 h-16 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("img",{src:a.data.image_url,alt:a.data.name,loading:"lazy",decoding:"async",onload:"this.classList.remove('opacity-0')",onerror:"this.style.display='none'",class:"relative z-10 object-contain w-full h-full transition-transform duration-500 opacity-0 cursor-zoom-in group-hover:scale-105",onClick:t[1]||(t[1]=n=>s.$emit("imageClick",{path:a.data.image_url,name:a.data.name}))},null,8,z),e("div",I,[a.dss?.is_trending?(o(),d("span",M," ðŸ”¥ TRENDING ")):l("",!0),a.dss?.is_dead_stock?(o(),d("span",B," ðŸ¢ SLOW MOVING ")):l("",!0),b.value?(o(),d("span",H," ðŸš¨ STOK MENIPIS ")):l("",!0)])]),e("div",V,[e("div",{class:x(["px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider backdrop-blur-md border border-white/20 shadow-sm",a.data.status==="active"?"bg-green-500/90 text-white":"bg-gray-500/90 text-white"])},r(a.data.status==="active"?"â— Aktif":"â—‹ Non-Aktif"),3),a.data.supplier?(o(),d("div",D,[t[4]||(t[4]=e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),i(" "+r(a.data.supplier?.name),1)])):l("",!0)])]),e("div",O,[e("div",null,[e("div",P,[e("span",L,r(a.data.brand?.name||"No Brand"),1),t[5]||(t[5]=e("span",{class:"text-gray-300 dark:text-gray-600"},"/",-1)),e("span",T,r(a.data.category?.name),1),t[6]||(t[6]=e("span",{class:"text-gray-300 dark:text-gray-600"},"/",-1)),e("span",A,r(a.data.code),1)]),e("h1",E,r(a.data.full_name||a.data.name),1),e("div",F,[e("div",$,[t[7]||(t[7]=e("span",{class:"text-[10px] uppercase font-bold text-gray-400 block mb-1"},"Stok Saat Ini",-1)),e("div",q,[e("span",{class:x(["text-xl font-bold text-gray-900 dark:text-white",{"text-red-500":b.value}])},r(a.data.stock),3),e("span",K,r(a.data.unit?.name),1)])]),e("div",R,[t[8]||(t[8]=e("span",{class:"text-[10px] uppercase font-bold text-gray-400 block mb-1"},"Ukuran/Size",-1)),e("span",G,r(a.data.size?.name||"-"),1)]),e("div",J,[t[12]||(t[12]=e("span",{class:"text-[10px] uppercase font-bold text-gray-400 block mb-1"},"Status Keuangan",-1)),e("div",U,[e("div",null,[t[9]||(t[9]=e("span",{class:"text-[10px] text-gray-400"},"Beli:",-1)),e("span",W,r(m(a.data.purchase_price)),1)]),t[11]||(t[11]=e("div",{class:"w-px h-6 bg-gray-200 dark:bg-gray-600"},null,-1)),e("div",null,[t[10]||(t[10]=e("span",{class:"text-[10px] text-gray-400"},"Margin:",-1)),e("span",Q,"+"+r(a.data.financials.margin.percent)+"%",1)])])])])]),e("div",X,[e("div",Y,[e("div",null,[t[13]||(t[13]=e("span",{class:"text-sm font-medium text-gray-400 block mb-1"},"Harga Jual",-1)),e("div",Z,r(m(a.data.selling_price)),1)]),a.data.financials?.price_trend?.direction!=="stable"?(o(),d("div",_,[e("span",ee,r(a.data.financials.price_trend.direction==="up"?"ðŸ“ˆ":"ðŸ“‰"),1),e("div",te,[t[14]||(t[14]=e("span",{class:"text-[10px] font-bold uppercase text-gray-400"},"Trend Harga",-1)),e("span",{class:x(["text-xs font-bold",a.data.financials.price_trend.direction==="up"?"text-red-500":"text-green-500"])},r(a.data.financials.price_trend.direction==="up"?"Naik":"Turun")+" "+r(a.data.financials.price_trend.percent)+"% ",3)])])):l("",!0)]),e("div",ae,[c(f(y),{href:s.route("products.index"),class:"flex-1 px-6 py-3 text-sm font-bold text-center text-gray-600 bg-gray-200 border border-gray-200 rounded-xl hover:bg-gray-300 hover:text-gray-900 transition-colors"},{default:p(()=>[...t[15]||(t[15]=[i(" Kembali ",-1)])]),_:1},8,["href"]),c(f(y),{href:s.route("products.edit",a.data.slug),class:"flex-1 px-6 py-3 text-sm font-bold text-center text-white bg-yellow-500 rounded-xl hover:bg-yellow-600 shadow-lg shadow-yellow-500/30 transition-colors flex items-center justify-center gap-2"},{default:p(()=>[...t[16]||(t[16]=[e("i",{class:"fa-solid fa-pen-to-square"},null,-1),i(" Edit Produk ",-1)])]),_:1},8,["href"]),e("button",{onClick:t[2]||(t[2]=n=>k(a.data)),class:"flex-1 px-6 py-3 text-sm font-bold text-center text-red-600 bg-red-50 border border-red-100 rounded-xl hover:bg-red-100 transition-colors flex items-center justify-center gap-2"},[...t[17]||(t[17]=[e("i",{class:"fa-regular fa-trash-can"},null,-1),i(" Hapus ",-1)])])])])])])],64))}};export{ie as default};
