import{D as c,v as H,l as n,o as l,f as t,p as x,t as s,F as f,I,n as m,e as v,w as p,k as y,g as b,C as w}from"./vendor-core-B46KUNyc.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";const B=["src"],V={key:1,class:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-lime-50 to-lime-100 dark:from-gray-700 dark:to-gray-800 p-2"},$={class:"text-[10px] md:text-xs font-bold text-center text-gray-500 dark:text-gray-400 line-clamp-3 break-words select-none"},L={class:"absolute top-2 left-2 flex flex-col gap-1 pointer-events-none z-10"},E={class:"flex flex-1 items-stretch divide-x divide-gray-50 dark:divide-gray-700"},F={class:"flex-1 p-4 flex flex-col justify-center min-w-[200px]"},N={class:"flex items-center gap-2 mb-1 text-[10px] font-bold uppercase tracking-wider text-gray-400"},P={class:"text-lime-600 dark:text-lime-400 truncate max-w-[100px]"},z={class:"truncate max-w-[100px]"},A={class:"mt-3 flex flex-wrap items-center gap-3"},S={class:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-500 dark:text-gray-400 font-mono border border-gray-200 dark:border-gray-600"},T={key:0,class:"text-[10px] text-gray-500 dark:text-gray-400 flex items-center gap-1"},R={class:"text-[10px] text-gray-400 italic"},J={class:"w-32 p-4 flex flex-col justify-center items-center bg-gray-50/50 dark:bg-gray-800/50 transition-colors hover:bg-lime-50/30"},O={class:"text-center"},U={class:"text-[10px] text-gray-400 uppercase font-medium"},q={class:"w-48 p-4 flex flex-col justify-center gap-2"},G={class:"text-base font-black text-gray-900 dark:text-white"},K={class:"flex items-center gap-3"},Q={class:"text-xs font-semibold text-gray-500 dark:text-gray-400"},W={class:"text-right flex-1"},X={class:"w-auto p-4 flex items-center justify-center gap-1 pr-6"},tt={__name:"ProductCardList",props:{data:Object},emits:["imageClick","delete","restore","forceDelete"],setup(a,{emit:C}){const i=a,u=C,h=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),j=r=>{if(!r)return"-";const e=new Date(r),d=Math.floor((new Date-e)/1e3);return d<60?"Baru saja":d<3600?`${Math.floor(d/60)} menit lalu`:d<86400?`${Math.floor(d/3600)} jam lalu`:d<604800?`${Math.floor(d/86400)} hari lalu`:new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"short",year:"numeric"}).format(e)};c(()=>i.data.insights?.some(r=>r.type==="trend")),c(()=>i.data.insights?.some(r=>r.type==="dead_stock")),c(()=>i.data.insights?.some(r=>r.type==="margin_alert"));const M=c(()=>i.data.insights?.some(e=>e.type==="restock"&&e.severity==="critical")||i.data.stock<=i.data.min_stock),g=H(!1),D=()=>{g.value=!0},k=c(()=>i.data.deleted_at!==null);return(r,e)=>(l(),n("div",{class:m(["relative flex flex-row w-full overflow-hidden transition-all duration-300 bg-white border border-gray-100 shadow-sm group dark:bg-gray-800 rounded-2xl dark:border-gray-700 hover:shadow-xl hover:-translate-y-0.5 hover:border-lime-500/30",{"opacity-60 grayscale":k.value}])},[t("div",{class:"relative w-36 shrink-0 bg-gray-50 dark:bg-gray-900 border-r border-gray-100 dark:border-gray-700 select-none cursor-pointer overflow-hidden",onClick:e[0]||(e[0]=o=>u("imageClick",{path:a.data.image_url,name:a.data.name}))},[g.value?x("",!0):(l(),n("img",{key:0,src:a.data.image_url,loading:"lazy",class:"absolute inset-0 object-cover w-full h-full transition-transform duration-500 hover:scale-110",onError:D},null,40,B)),g.value||!a.data.image_url?(l(),n("div",V,[t("span",$,s(a.data.name),1)])):x("",!0),t("div",L,[(l(!0),n(f,null,I(a.data.active_badges,o=>(l(),n("span",{key:o.type,class:m(["self-start px-1.5 py-0.5 text-[9px] font-bold uppercase tracking-wider text-white rounded shadow-sm backdrop-blur-sm",o.class])},s(o.label),3))),128))])]),t("div",E,[t("div",F,[t("div",N,[t("span",P,s(a.data.brand?.name),1),e[4]||(e[4]=t("span",null,"â€¢",-1)),t("span",z,s(a.data.category?.name),1)]),v(b(w),{href:r.route("products.show",a.data.slug),class:"text-base font-bold leading-tight text-gray-900 dark:text-gray-100 hover:text-lime-600 dark:hover:text-lime-400 transition-colors line-clamp-2"},{default:p(()=>[y(s(a.data.name),1)]),_:1},8,["href"]),t("div",A,[t("span",S,s(a.data.code),1),a.data.supplier?(l(),n("span",T,[e[5]||(e[5]=t("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),y(" "+s(a.data.supplier?.name),1)])):x("",!0),t("span",R," Updated "+s(j(a.data.updated_at)),1)])]),t("div",J,[e[6]||(e[6]=t("span",{class:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-1"},"Stok",-1)),t("div",O,[t("span",{class:m(["text-lg font-bold block leading-none",M.value?"text-red-500":"text-gray-700 dark:text-gray-200"])},s(a.data.stock),3),t("span",U,s(a.data.unit?.name),1)])]),t("div",q,[t("div",null,[e[7]||(e[7]=t("span",{class:"text-[9px] block text-gray-400 uppercase font-bold"},"Harga Jual",-1)),t("span",G,s(h(a.data.selling_price)),1)]),t("div",K,[t("div",null,[e[8]||(e[8]=t("span",{class:"text-[9px] block text-gray-400 uppercase font-bold"},"Modal",-1)),t("span",Q,s(h(a.data.purchase_price)),1)]),t("div",W,[e[9]||(e[9]=t("span",{class:"text-[9px] block text-gray-400 uppercase font-bold"},"Margin",-1)),t("span",{class:m(["text-xs font-bold",a.data.is_margin_low?"text-red-500":"text-green-600"])}," +"+s(a.data.current_margin.percent)+"% ",3)])])]),t("div",X,[k.value?(l(),n(f,{key:1},[t("button",{onClick:e[2]||(e[2]=o=>u("restore",a.data)),class:"p-2 text-lime-600 transition-colors rounded-lg hover:bg-lime-50",title:"Pulihkan"},[...e[12]||(e[12]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])]),t("button",{onClick:e[3]||(e[3]=o=>u("forceDelete",a.data)),class:"p-2 text-red-600 transition-colors rounded-lg hover:bg-red-50",title:"Hapus Permanen"},[...e[13]||(e[13]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])],64)):(l(),n(f,{key:0},[v(b(w),{href:r.route("products.edit",a.data.slug),class:"p-2 text-gray-500 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-lime-600",title:"Edit Produk"},{default:p(()=>[...e[10]||(e[10]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),t("button",{onClick:e[1]||(e[1]=o=>u("delete",a.data)),class:"p-2 text-gray-500 transition-colors rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600",title:"Hapus Produk"},[...e[11]||(e[11]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])],64))])])],2))}};export{tt as default};
