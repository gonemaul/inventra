import{u as v,d as w,o as c,w as k,f as t,y as d,g as o,z as m,t as g,l as F,m as B,I as b}from"./vendor-core-CJbEklrS.js";import{u as C}from"./useActionLoading-FfnGJtHr.js";import{B as M}from"./BottomSheetFilter-DCuDmFac.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";const D={class:"w-full p-4 bg-white shadow rounded-xl dark:bg-gray-800"},j={class:"mb-4"},A={class:"flex gap-2"},I={class:"mb-4"},S={class:"flex gap-2"},T={class:"flex-1"},U={class:"text-[10px] text-gray-400 mt-1 text-left"},$={class:"flex-1"},z={class:"text-[10px] text-gray-400 mt-1 text-left"},N={class:"flex flex-col-reverse items-center justify-between gap-4 px-3 py-3 mt-3 border-t border-gray-100 sm:flex-row dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800 sm:gap-0"},O={class:"flex w-full gap-3 sm:w-auto"},R=["disabled"],L={key:0,class:"w-4 h-4 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},E={__name:"modalFilter",props:{show:{type:Boolean,default:!1},filters:Object},emits:["close"],setup(u,{emit:y}){const n=u,p=y,s=v({min_date:n.filters.min_date||"",max_date:n.filters.max_date||"",min_revenue:n.filters.min_revenue||"",max_revenue:n.filters.max_revenue||"",min_profit:n.filters.min_profit||"",max_profit:n.filters.max_profit||""}),{isActionLoading:i}=C();function x(a){return Object.entries(a).reduce((e,[r,l])=>(typeof l=="boolean"&&l===!1||l!=null&&l!==""&&(Array.isArray(l)&&l.length===0||(e[r]=l)),e),{})}function h(){const a=s.data(),r={...{search:n.filters.search||""},...a},l=x(r);i.value=!0,b.get(route("sales.index"),l,{preserveState:!0,replace:!0,only:["sales","filters"],onFinish:()=>{i.value=!1,p("close")}})}function _(){const a=x({search:n.filters.search||""});i.value=!0,b.get(route("sales.index"),a,{preserveState:!0,replace:!0,onFinish:()=>{i.value=!1,p("close"),s.reset()}})}const f=a=>a?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a):"0";return(a,e)=>(c(),w(M,{show:u.show,onClose:e[5]||(e[5]=r=>a.$emit("close")),title:"penjualan"},{default:k(()=>[t("div",D,[t("div",j,[e[6]||(e[6]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Tanggal",-1)),t("div",A,[d(t("input",{type:"date",placeholder:"Min",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[0]||(e[0]=r=>o(s).min_date=r)},null,512),[[m,o(s).min_date]]),d(t("input",{type:"date",placeholder:"Max",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[1]||(e[1]=r=>o(s).max_date=r)},null,512),[[m,o(s).max_date]])])]),t("div",I,[e[8]||(e[8]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Total Omset",-1)),t("div",S,[t("div",T,[d(t("input",{type:"number",placeholder:"Min",class:"px-1 text-center form-input","onUpdate:modelValue":e[2]||(e[2]=r=>o(s).min_revenue=r)},null,512),[[m,o(s).min_revenue,void 0,{number:!0}]]),t("p",U,g(f(o(s).min_revenue)),1)]),e[7]||(e[7]=t("span",{class:"self-start mt-2 text-gray-400"},"-",-1)),t("div",$,[d(t("input",{type:"number",placeholder:"Max",class:"px-1 text-center form-input","onUpdate:modelValue":e[3]||(e[3]=r=>o(s).max_revenue=r)},null,512),[[m,o(s).max_revenue,void 0,{number:!0}]]),t("p",z,g(f(o(s).max_revenue)),1)])])]),t("div",N,[t("button",{onClick:_,class:"text-xs font-bold text-gray-500 transition border-b border-gray-400 border-dashed dark:text-gray-400 hover:text-red-500 hover:border-red-500"}," Reset ke Default "),t("div",O,[t("button",{onClick:e[4]||(e[4]=r=>a.$emit("close")),class:"flex-1 sm:flex-none px-5 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-bold text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition"}," Batal "),t("button",{onClick:h,class:"flex-1 sm:flex-none px-8 py-2.5 rounded-xl bg-lime-500 hover:bg-lime-600 text-white font-bold text-sm shadow-md shadow-lime-200 dark:shadow-none transition flex items-center justify-center gap-2",disabled:o(i)},[o(i)?(c(),F("svg",L,[...e[9]||(e[9]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):B("",!0),e[10]||(e[10]=t("span",null,"Terapkan Filter",-1))],8,R)])])])]),_:1},8,["show"]))}},Q=V(E,[["__scopeId","data-v-761b67e1"]]);export{Q as default};
