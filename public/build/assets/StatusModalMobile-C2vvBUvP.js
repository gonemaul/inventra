import{y as w,x,g as n,i as M,o as i,b as e,t as o,s as _}from"./app-Bur_-z3X.js";import{u as S}from"./useActionLoading-ranTtZro.js";const z={key:0,class:"fixed inset-0 z-50 flex items-center justify-center px-4 bg-black/50 backdrop-blur-sm"},A={class:"w-full max-w-sm p-6 bg-white dark:bg-gray-900 rounded-2xl"},j={class:"items-center justify-between p-3 mb-6 border border-blue-100 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800 rounded-xl"},C={class:"mb-2"},H={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},B={class:"text-xs font-medium text-gray-600 dark:text-gray-300 truncate max-w-[120px]"},I={class:"relative p-5 border border-gray-100 bg-gray-50 dark:bg-gray-800 rounded-xl dark:border-gray-700"},E={class:"relative z-10 flex items-center justify-between"},D={class:"flex flex-col items-center w-1/3 gap-2 group"},L={class:"flex items-center justify-center w-10 h-10 text-gray-400 bg-gray-200 rounded-full shadow-sm dark:bg-gray-700 dark:text-gray-400"},T={xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},V=["d"],K={class:"text-center"},N={class:"px-2 py-0.5 bg-gray-100 text-gray-500 rounded text-[10px] font-bold border border-gray-200 block truncate"},R={class:"flex flex-col items-center w-1/3 gap-2"},F={class:"flex items-center justify-center w-10 h-10 rounded-full shadow-sm bg-lime-100 dark:bg-lime-900/30 text-lime-600 dark:text-lime-400 ring-4 ring-lime-50 dark:ring-lime-900/10"},P={xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},$=["d"],G={class:"text-center"},O={class:"px-2 py-0.5 bg-lime-50 text-lime-700 border border-lime-200 rounded text-[10px] font-bold block truncate"},U={class:"flex gap-3 mt-6"},J={__name:"StatusModalMobile",props:{targetStatus:String,purchase:Object},emits:["close"],setup(s,{expose:m,emit:p}){const h=s,{isActionLoading:d}=S(),f=w(),l=x(!1),c=x({}),u=p,v=a=>{c.value=a.data,l.value=!0},g=()=>{l.value=!1,u("close")};m({open:v});const y=()=>{d.value=!0,_.put(route("purchases.update-status",h.purchase.id),c.value||{},{preserveScroll:!0,onSuccess:()=>{g(),u("close")},onError:a=>{f.error(a.message||"Terjadi kesalahan.")},onFinish:()=>{d.value=!1}})},b={draft:{label:"DRAFT",icon:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},dipesan:{label:"DIPESAN",icon:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"},dikirim:{label:"DIKIRIM",icon:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z"},diterima:{label:"DITERIMA",icon:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},checking:{label:"CHECKING",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},selesai:{label:"SELESAI",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},dibatalkan:{label:"BATAL",icon:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}},r=a=>b[a]||b.draft;return(a,t)=>l.value?(i(),n("div",z,[e("div",A,[t[8]||(t[8]=e("h3",{class:"mb-4 text-lg font-bold text-center text-gray-800 dark:text-white"}," Konfirmasi Perubahan Status ",-1)),e("div",j,[e("div",C,[t[2]||(t[2]=e("p",{class:"text-[10px] text-gray-400 uppercase tracking-wider font-bold"}," Kode Transaksi ",-1)),e("p",H,o(s.purchase.reference_no),1)]),e("div",null,[t[3]||(t[3]=e("p",{class:"text-[10px] text-gray-400 uppercase tracking-wider font-bold"}," Supplier ",-1)),e("p",B,o(s.purchase.supplier?.name),1)])]),e("div",I,[t[7]||(t[7]=e("div",{class:"absolute top-1/2 left-4 right-4 h-0.5 bg-gray-200 dark:bg-gray-700 -translate-y-1/2 z-0"},null,-1)),e("div",E,[e("div",D,[e("div",L,[(i(),n("svg",T,[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:r(s.purchase.status).icon},null,8,V)]))]),e("div",K,[t[4]||(t[4]=e("span",{class:"text-[10px] text-gray-400 uppercase font-bold tracking-wider block mb-0.5"},"Dari",-1)),e("span",N,o(r(s.purchase.status).label),1)])]),t[6]||(t[6]=e("div",{class:"flex items-center justify-center w-8 h-8 text-gray-400 bg-white border border-gray-100 rounded-full shadow-sm dark:bg-gray-600 dark:border-gray-500"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 animate-pulse text-lime-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})])],-1)),e("div",R,[e("div",F,[(i(),n("svg",P,[e("path",{d:r(s.targetStatus).icon},null,8,$)]))]),e("div",G,[t[5]||(t[5]=e("span",{class:"text-[10px] text-lime-600 uppercase font-bold tracking-wider block mb-0.5"},"Menjadi",-1)),e("span",O,o(r(s.targetStatus).label),1)])])])]),e("div",U,[e("button",{onClick:t[0]||(t[0]=k=>g()),class:"flex-1 py-3 text-sm font-bold text-gray-600 transition bg-gray-100 rounded-xl hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"}," Batal "),e("button",{onClick:t[1]||(t[1]=k=>y()),class:"flex-1 py-3 text-sm font-bold text-white rounded-xl bg-lime-500 hover:bg-lime-600 shadow-lg shadow-lime-500/30 transition active:scale-[0.98]"}," Ya, Ubah Status ")])])])):M("",!0)}};export{J as default};
