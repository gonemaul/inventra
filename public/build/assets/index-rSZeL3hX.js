import{_ as y}from"./AuthenticatedLayout-lJ7tg5Vh.js";import{m as d,j as _,H as h,I as w,g as f,o as m,b as o,c as T,a as n,w as i,i as C,p as B,r as I,T as $,J as D,d as k,h as S,l as N,f as O,n as R,t as E,F as V}from"./app-Cde9GbA4.js";import{_ as P}from"./DataTable-DoRY0CDV.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as z}from"./Filter-BFLUSDy5.js";import"./useActionLoading-DxcsvJ2v.js";import"./TextInput-Ds8JO9zX.js";import"./PrimaryButton-SIQTkSmb.js";const A={__name:"OpsiTable",props:{rowId:{type:[Number,String],required:!0},activeId:{type:[Number,String,null],default:null},position:{type:Object,default:()=>({top:0,left:0})}},emits:["toggle","close"],setup(b,{emit:s}){const r=b,u=s,g=d(null),c=d(null),p=_(()=>r.activeId===r.rowId),a=_(()=>({top:r.position?.top+"px",left:r.position?.left+"px",position:"absolute"}));function t(l){u("toggle",r.rowId,l)}function e(l){p.value&&!c.value?.contains(l.target)&&!g.value?.contains(l.target)&&u("close")}return h(()=>{document.addEventListener("click",e)}),w(()=>{document.removeEventListener("click",e)}),(l,v)=>(m(),f("div",{class:"relative inline-block text-left",ref_key:"triggerRef",ref:g},[o("button",{onClick:v[0]||(v[0]=x=>t(x)),class:"p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"}," â‹® "),(m(),T(D,{to:"body"},[n($,{name:"fade"},{default:i(()=>[p.value?(m(),f("div",{key:0,style:B(a.value),ref_key:"menuRef",ref:c,class:"absolute z-[9999] mt-1 min-w-[8rem] rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5"},[I(l.$slots,"default",{},void 0,!0)],4)):C("",!0)]),_:3})]))],512))}},F=j(A,[["__scopeId","data-v-81c228a4"]]),L={class:"w-full min-h-screen px-4 space-y-6"},q={class:"p-4 space-y-6 bg-gray-100 border shadow-md rounded-xl dark:bg-customBg-tableDark"},H=["onClick"],J=["onClick"],Z={__name:"index",setup(b){const s=d(null),r=d({top:0,left:0});function u(a,t){if(s.value===a)s.value=null;else{const e=t.target.getBoundingClientRect();r.value={top:e.bottom+window.scrollY,left:e.left+window.scrollX},s.value=a}}const g=d({search:"",kategori:""}),c=[{key:"tanggal_order",label:"Tanggal Order",sortable:!0,width:"200px",format:"tanggal"},{key:"tanggal_pengiriman",label:"Tanggal Pengiriman",sortable:!0,width:"250px",format:"tanggal"},{key:"item",label:"Total Item",sortable:!0,width:"200px",rupiah:!0},{key:"total",label:"Total Belanja",sortable:!0,width:"200px",format:"rupiah"},{key:"status",label:"Status",sortable:!0,width:"200px",rupiah:!0,slot:"status"},{key:"aksi",label:"Aksi",width:"120px",slot:"aksi"}],p=[{id:1,tanggal_order:"2025-08-01",tanggal_pengiriman:"2025-08-01",item:2,total:2e6,status:"active"},{id:2,tanggal_order:"2025-08-03",tanggal_pengiriman:"2025-08-03",item:4,total:3e6,status:"inactive"},{id:3,tanggal_order:"2025-08-05",tanggal_pengiriman:"2025-08-05",item:7,total:15e5,status:"active"}];return(a,t)=>(m(),f(V,null,[n(k(S),{title:"Pembelian"}),n(y,{headerTitle:"Pembelian"},{default:i(()=>[o("div",L,[n(z,{actions:[{route:a.route("purchases.create"),buttonText:"RAB"}]},null,8,["actions"]),o("div",q,[t[2]||(t[2]=o("div",null,[o("h2",{class:"text-base font-semibold text-gray-900 dark:text-white sm:text-lg lg:text-xl"}," Daftar Pembelian "),o("p",{class:"mt-1 text-xs text-gray-600 dark:text-gray-300 sm:text-sm lg:text-base"}," Kelola semua pembelian. ")],-1)),n(P,{columns:c,data:p,params:g.value},{status:i(({row:e})=>[o("span",{class:R(e.status==="active"?"px-2 py-1 rounded bg-green-100 text-green-700":"px-2 py-1 rounded bg-red-100 text-red-700")},E(e.status),3)]),aksi:i(({row:e})=>[n(F,{"row-id":e.id,"active-id":s.value,position:r.value,onToggle:u,onClose:t[0]||(t[0]=l=>s.value=null)},{default:i(()=>[n(k(N),{href:a.route("checking"),class:"block w-full px-4 py-2 text-sm text-left border-b-2 hover:bg-gray-100 dark:hover:bg-gray-700"},{default:i(()=>[...t[1]||(t[1]=[O(" ðŸ‘ View ",-1)])]),_:1},8,["href"]),o("button",{onClick:l=>a.alert("Edit "+e.tanggal_order),class:"block w-full px-4 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700"}," âœï¸ Edit ",8,H),o("button",{onClick:l=>a.alert("Delete "+e.tanggal_order),class:"block w-full px-4 py-2 text-sm text-left text-red-600 hover:bg-red-100 dark:hover:bg-red-700"}," ðŸ—‘ Delete ",8,J)]),_:2},1032,["row-id","active-id","position"])]),_:1},8,["params"])])])]),_:1})],64))}};export{Z as default};
