import{x as u,j as y,g as s,o as n,a as v,b as e,i,f,F as p,q as C,t as l,n as I,w as D,d as B,l as M}from"./app-CTxKr8Ch.js";import{_}from"./ImageModal-BDWGOUQL.js";import"./Modal-C0_XOQWB.js";const j={class:"space-y-4"},N={class:"flex items-start justify-between mb-2"},V={class:"px-2 py-1 text-xs font-bold text-gray-800 bg-gray-100 rounded dark:text-white dark:bg-gray-800"},L={class:"text-[10px] text-gray-400 mt-1"},$={class:"text-right"},E={class:"mt-1 text-sm font-bold text-lime-600"},H={class:"flex items-center justify-between"},z={class:"flex gap-2"},F=["onClick"],U=["onClick"],q=["onClick"],A={key:0,class:"py-10 text-sm text-center text-gray-400"},T={__name:"InvoiceMobile",props:{purchase:{type:Array,required:!0},isCheckingMode:{type:Boolean,default:!1},canEditDelete:Boolean,actions:Object},setup(o){const c=o,d=u(!1),g=u(null),m=u(null),b=(a,t)=>{g.value=a,m.value="Invoice-#"+t,d.value=!0},x=y(()=>c.purchase.status!=="diterima"||c.purchase.status!=="checking"),k=a=>a?new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-",w=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a||0);return(a,t)=>(n(),s(p,null,[v(_,{show:d.value,imageUrl:g.value,productName:m.value,onClose:t[0]||(t[0]=r=>d.value=!1)},null,8,["show","imageUrl","productName"]),e("div",j,[e("button",{onClick:t[1]||(t[1]=r=>o.actions.openCreateInvoiceModal()),class:"flex items-center justify-center w-full gap-2 py-3 font-bold transition border-2 border-dashed border-lime-300 dark:border-lime-800 bg-lime-50 dark:bg-lime-900/10 text-lime-700 dark:text-lime-400 rounded-xl hover:bg-lime-100"},[...t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),f(" Buat Nota Baru ",-1)])]),(n(!0),s(p,null,C(o.purchase.invoices,r=>(n(),s("div",{key:r.id,class:"relative p-4 bg-white border border-gray-100 shadow-sm dark:bg-gray-900 rounded-xl dark:border-gray-800"},[e("div",N,[e("div",null,[e("span",V,"#"+l(r.invoice_number),1),e("p",L,l(k(r.invoice_date)),1)]),e("div",$,[e("span",{class:I(["text-[10px] px-2 py-0.5 rounded font-bold uppercase",r.payment_status==="paid"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"])},l(r.payment_status),3),e("p",E,l(w(r.total_amount)),1)])]),t[7]||(t[7]=e("div",{class:"h-px my-3 bg-gray-100 dark:bg-gray-800"},null,-1)),e("div",H,[e("div",z,[o.canEditDelete?(n(),s("button",{key:0,onClick:h=>o.actions.handleEditInvoice(r),class:"p-2 text-blue-600 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[...t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,F)):i("",!0),o.canEditDelete?(n(),s("button",{key:1,onClick:h=>o.actions.handleDeleteInvoice(r),class:"p-2 text-red-600 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[...t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,U)):i("",!0),r.invoice_image?(n(),s("button",{key:2,onClick:h=>b(r.invoice_url,r.invoice_number),class:"p-2 text-gray-600 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[...t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])],8,q)):i("",!0)]),v(B(M),{href:a.route("purchases.linkInvoiceItems",{purchase:o.purchase.id,invoice:r.id}),class:"flex items-center gap-1 px-4 py-2 text-xs font-bold text-white rounded-lg shadow-sm bg-lime-500 hover:bg-lime-600"},{default:D(()=>[e("span",null,l(x.value?"Detail":"Checking"),1),t[6]||(t[6]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),_:2},1032,["href"])])]))),128)),o.purchase.invoices.length===0?(n(),s("div",A," Belum ada nota. ")):i("",!0)])],64))}};export{T as default};
