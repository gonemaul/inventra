import{E as c,p as h,l as s,o as n,e as x,f as e,m as d,k as D,F as y,C as B,t as l,n as v,w as M,g as N,x as j}from"./vendor-core-DyO1rNNh.js";import{_ as V}from"./ImageModal-BrOu5B5a.js";import"./vendor-common-pmZ7KOuE.js";import"./vendor-charts-Bw6UNgWf.js";import"./BottomSheet-121-8Qsv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"space-y-4"},L={class:"flex items-start justify-between"},$={class:"px-2 py-1 text-xs font-bold text-gray-800 bg-gray-100 rounded dark:text-white dark:bg-gray-800"},H={class:"text-[10px] text-gray-400 mt-1"},z={class:"text-[10px] text-red-400 mt-1 font-medium"},F={class:"text-right items-end gap-1.5"},U={class:"flex gap-1"},A={class:"text-sm font-bold text-gray-800 dark:text-gray-200 mt-0.5"},S={class:"flex items-center justify-between"},T={class:"flex gap-2"},q=["onClick"],O=["onClick"],P=["onClick"],R={key:1,class:"py-10 text-sm text-center text-gray-400"},Y={__name:"InvoiceMobile",props:{purchase:{type:Array,required:!0},isCheckingMode:{type:Boolean,default:!1},canEditDelete:Boolean,actions:Object},setup(o){const i=o,u=c(!1),g=c(null),m=c(null),k=(a,r)=>{g.value=a,m.value="Invoice-#"+r,u.value=!0},w=h(()=>i.purchase.status!=="diterima"&&i.purchase.status!=="checking"),p=a=>a?new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-",f=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a||0),C=a=>a==="validated"?"bg-teal-50 text-teal-700 border-teal-200":"bg-blue-50 text-blue-700 border-blue-200",_=a=>{switch(a){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";default:return"bg-orange-100 text-orange-800"}},I=h(()=>i.purchase.status=="diterima"||i.purchase.status=="checking");return(a,r)=>(n(),s(y,null,[x(V,{show:u.value,imageUrl:g.value,productName:m.value,onClose:r[0]||(r[0]=t=>u.value=!1)},null,8,["show","imageUrl","productName"]),e("div",E,[I.value?(n(),s("button",{key:0,onClick:r[1]||(r[1]=t=>o.actions.openCreateInvoiceModal()),class:"flex items-center justify-center w-full gap-2 py-3 font-bold transition border-2 border-dashed border-lime-300 dark:border-lime-800 bg-lime-50 dark:bg-lime-900/10 text-lime-700 dark:text-lime-400 rounded-xl hover:bg-lime-100"},[...r[2]||(r[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),D(" Buat Nota Baru ",-1)])])):d("",!0),(n(!0),s(y,null,B(o.purchase.invoices,t=>(n(),s("div",{key:t.id,class:"relative p-4 bg-white border border-gray-100 shadow-sm dark:bg-gray-900 rounded-xl dark:border-gray-800"},[e("div",L,[e("div",null,[e("span",$,"#"+l(t.invoice_number),1),e("p",H,l(p(t.invoice_date)),1),e("p",z,l(t.due_date?p(t.due_date):"Tunai"),1)]),e("div",F,[e("div",U,[e("span",{class:v(["text-[9px] px-2 py-0.5 rounded font-bold uppercase border tracking-wider",C(t.status)])},l(t.status),3),e("span",{class:v(["text-[9px] px-2 py-0.5 rounded font-bold uppercase",_(t.payment_status)])},l(t.payment_status),3)]),e("p",A,l(f(t.total_amount)),1)])]),r[7]||(r[7]=e("div",{class:"h-px my-2 bg-gray-100 dark:bg-gray-800"},null,-1)),e("div",S,[e("div",T,[o.canEditDelete?(n(),s("button",{key:0,onClick:b=>o.actions.handleEditInvoice(t),class:"p-2 text-blue-600 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[...r[3]||(r[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,q)):d("",!0),o.canEditDelete?(n(),s("button",{key:1,onClick:b=>o.actions.handleDeleteInvoice(t),class:"p-2 text-red-600 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[...r[4]||(r[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,O)):d("",!0),t.invoice_image?(n(),s("button",{key:2,onClick:b=>k(t.invoice_url,t.invoice_number),class:"p-2 text-gray-600 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},[...r[5]||(r[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])],8,P)):d("",!0)]),x(N(j),{href:a.route("purchases.linkInvoiceItems",{purchase:o.purchase.id,invoice:t.id}),class:"flex items-center gap-1 px-4 py-2 text-xs font-bold text-white rounded-lg shadow-sm bg-lime-500 hover:bg-lime-600"},{default:M(()=>[e("span",null,l(w.value||t.status=="validated"?"Detail":"Checking"),1),r[6]||(r[6]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),_:2},1032,["href"])])]))),128)),o.purchase.invoices.length===0?(n(),s("div",R," Belum ada nota. ")):d("",!0)])],64))}};export{Y as default};
