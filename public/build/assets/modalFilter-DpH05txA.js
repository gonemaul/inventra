import{u as h,d as v,o as k,w,f as t,q as d,g as a,I as m,t as u,D as g}from"./vendor-core-PGoj2oEu.js";import{_ as F}from"./Modal-DpJx3Yf4.js";import{u as M}from"./useActionLoading-Ch10BqBo.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-common-BBegFRNv.js";import"./vendor-charts-Bw6UNgWf.js";const I={class:"w-full p-4 bg-white shadow rounded-xl dark:bg-gray-800"},V={class:"mb-4"},j={class:"flex gap-2"},A={class:"mb-4"},B={class:"flex gap-2"},C={class:"flex-1"},S={class:"text-[10px] text-gray-400 mt-1 text-left"},T={class:"flex-1"},U={class:"text-[10px] text-gray-400 mt-1 text-left"},O={class:"flex justify-end gap-2"},R=["disabled"],$={__name:"modalFilter",props:{show:{type:Boolean,default:!1},filters:Object},emits:["close"],setup(p,{emit:b}){const i=p,f=b,r=h({min_date:i.filters.min_date||"",max_date:i.filters.max_date||"",min_revenue:i.filters.min_revenue||"",max_revenue:i.filters.max_revenue||"",min_profit:i.filters.min_profit||"",max_profit:i.filters.max_profit||""}),{isActionLoading:l}=M();function c(o){return Object.entries(o).reduce((e,[s,n])=>(typeof n=="boolean"&&n===!1||n!=null&&n!==""&&(Array.isArray(n)&&n.length===0||(e[s]=n)),e),{})}function y(){const o=r.data(),s={...{search:i.filters.search||""},...o},n=c(s);l.value=!0,g.get(route("sales.index"),n,{preserveState:!0,replace:!0,only:["sales","filters"],onFinish:()=>{l.value=!1,f("close")}})}function _(){const o=c({search:i.filters.search||""});l.value=!0,g.get(route("sales.index"),o,{preserveState:!0,replace:!0,onFinish:()=>{l.value=!1,f("close"),r.reset()}})}const x=o=>o?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o):"0";return(o,e)=>(k(),v(F,{show:p.show,onClose:e[4]||(e[4]=s=>o.$emit("close")),maxWidth:"lg"},{default:w(()=>[t("div",I,[e[8]||(e[8]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white"}," Filter Penjualan ",-1)),t("div",V,[e[5]||(e[5]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Tanggal",-1)),t("div",j,[d(t("input",{type:"date",placeholder:"Min",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[0]||(e[0]=s=>a(r).min_date=s)},null,512),[[m,a(r).min_date]]),d(t("input",{type:"date",placeholder:"Max",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[1]||(e[1]=s=>a(r).max_date=s)},null,512),[[m,a(r).max_date]])])]),t("div",A,[e[7]||(e[7]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Total Omset",-1)),t("div",B,[t("div",C,[d(t("input",{type:"number",placeholder:"Min",class:"px-1 text-center form-input","onUpdate:modelValue":e[2]||(e[2]=s=>a(r).min_revenue=s)},null,512),[[m,a(r).min_revenue,void 0,{number:!0}]]),t("p",S,u(x(a(r).min_revenue)),1)]),e[6]||(e[6]=t("span",{class:"self-start mt-2 text-gray-400"},"-",-1)),t("div",T,[d(t("input",{type:"number",placeholder:"Max",class:"px-1 text-center form-input","onUpdate:modelValue":e[3]||(e[3]=s=>a(r).max_revenue=s)},null,512),[[m,a(r).max_revenue,void 0,{number:!0}]]),t("p",U,u(x(a(r).max_revenue)),1)])])]),t("div",O,[t("button",{class:"px-4 py-2 text-sm font-medium text-white rounded-lg bg-lime-500 hover:bg-lime-600 disabled:opacity-50",onClick:y,disabled:a(r).processing},u(a(r).processing?"Menerapkan...":"Terapkan"),9,R),t("button",{class:"px-4 py-2 text-sm font-medium bg-gray-200 rounded-lg hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-gray-200",onClick:_,type:"button"}," Reset ")])])]),_:1},8,["show"]))}},E=D($,[["__scopeId","data-v-74a36169"]]);export{E as default};
