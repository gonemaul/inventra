import{v as $,D as f,l as o,o as d,f as t,e as v,w as h,g as S,C as z,p as y,n as s,k as B,t as g,F as b,I as k}from"./vendor-core-By7Plnkm.js";import{B as F}from"./BottomSheet-CbDDnn2t.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";const j={class:"flex flex-col bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 shadow-sm z-30 transition-colors duration-300"},A={class:"px-4 py-3 pb-0 flex items-center gap-3"},E={class:"relative flex-1"},M=["value"],V={key:0,class:"absolute right-3 top-3"},T={class:"flex items-center gap-2 pl-4 py-3 overflow-hidden"},P={key:0,class:"flex items-center justify-center w-4 h-4 text-[9px] bg-white text-lime-600 rounded-full"},H={class:"flex items-center gap-2 overflow-x-auto scrollbar-hide pr-4 mask-fade-right"},I=["onClick"],L={class:"space-y-6 pb-6 p-4"},U={class:"grid grid-cols-4 gap-2"},D=["disabled","onClick","title"],R={class:"text-lg mb-1"},Z={class:"text-xs font-bold text-center leading-tight"},q={key:0},O={class:"flex flex-wrap gap-2"},G=["onClick"],J={class:"grid grid-cols-1 gap-4"},K={key:0},Q={class:"flex flex-wrap gap-2 max-h-[120px] overflow-y-auto custom-scroll pr-1"},W=["onClick"],X={key:1},Y={class:"flex flex-wrap gap-2 max-h-[120px] overflow-y-auto custom-scroll pr-1"},_=["onClick"],ee={class:"flex items-center justify-between p-3 rounded-xl border border-gray-200 dark:bg-gray-800 dark:border-gray-700"},te={class:"pt-4 flex gap-3"},re={__name:"FilterProduct",props:{categories:{type:Array,required:!0},brands:{type:Array,default:()=>[]},isFetching:{type:Boolean,default:!1},search:{type:String,default:""},category:{type:[String,Number],default:"all"},subCategory:{type:[String,Number],default:"all"},brand:{type:[String,Number],default:"all"},size:{type:[String,Number],default:"all"},sort:{type:String,default:"default"},hideEmptyStock:{type:Boolean,default:!1},sizes:{type:Array,default:()=>[]}},emits:["update:search","update:category","update:subCategory","update:brand","update:size","update:sort","update:hideEmptyStock","scan"],setup(a,{emit:w}){const n=a,i=w,u=$(!1),m=f(()=>{if(n.category==="all")return[];const l=n.categories.find(e=>e.id==n.category);return l?l.product_types||[]:[]}),p=l=>{i("update:category",l),i("update:subCategory","all"),i("update:brand","all"),i("update:size","all")},c=f(()=>{let l=0;return n.subCategory!=="all"&&l++,n.brand!=="all"&&l++,n.size!=="all"&&n.size&&l++,n.sort!=="default"&&l++,l}),C=()=>{i("update:subCategory","all"),i("update:brand","all"),i("update:size","all"),i("update:sort","default"),i("update:hideEmptyStock",!1),u.value=!1};return(l,e)=>(d(),o(b,null,[t("div",j,[t("div",A,[v(S(z),{href:l.route("dashboard"),class:"p-2.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700 transition"},{default:h(()=>[...e[11]||(e[11]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1},8,["href"]),t("div",E,[t("input",{value:a.search,onFocus:e[0]||(e[0]=r=>r.target.select()),onInput:e[1]||(e[1]=r=>l.$emit("update:search",r.target.value)),type:"search",placeholder:"Cari produk...",class:"w-full pl-10 pr-4 py-2.5 bg-gray-100 dark:bg-gray-800 border-none rounded-xl focus:ring-2 focus:ring-lime-500 text-sm font-medium text-gray-800 dark:text-white placeholder-gray-400 transition-all"},null,40,M),e[13]||(e[13]=t("span",{class:"absolute left-3.5 top-2.5 text-gray-400"},[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),a.isFetching?(d(),o("div",V,[...e[12]||(e[12]=[t("span",{class:"relative flex h-3 w-3"},[t("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-lime-400 opacity-75"}),t("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-lime-500"})],-1)])])):y("",!0)]),t("button",{onClick:e[2]||(e[2]=r=>l.$emit("scan")),class:"p-2.5 rounded-xl bg-gray-900 text-white dark:bg-lime-500 dark:text-gray-900 shadow-lg active:scale-95 transition"},[...e[14]||(e[14]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])])]),t("div",T,[t("button",{onClick:e[3]||(e[3]=r=>u.value=!0),class:s(["flex items-center gap-1.5 px-3 py-1.5 rounded-full border text-xs font-bold whitespace-nowrap transition active:scale-95 shrink-0",c.value>0?"bg-lime-500 border-lime-500 text-white shadow-md shadow-lime-500/20":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300"])},[e[15]||(e[15]=t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)),e[16]||(e[16]=B(" Filter ",-1)),c.value>0?(d(),o("span",P,g(c.value),1)):y("",!0)],2),e[17]||(e[17]=t("div",{class:"w-px h-6 bg-gray-200 dark:bg-gray-700 shrink-0 mx-1"},null,-1)),t("div",H,[t("button",{onClick:e[4]||(e[4]=r=>p("all")),class:s(["px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition active:scale-95 border",a.category==="all"?"bg-gray-900 dark:bg-lime-500 text-white dark:text-gray-900 border-gray-900 dark:border-lime-500":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"])}," Semua ",2),(d(!0),o(b,null,k(a.categories,r=>(d(),o("button",{key:r.id,onClick:x=>p(r.id),class:s(["px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition active:scale-95 border",a.category===r.id?"bg-gray-900 dark:bg-lime-500 text-white dark:text-gray-900 border-gray-900 dark:border-lime-500":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"])},g(r.name),11,I))),128))])])]),v(F,{show:u.value,onClose:e[10]||(e[10]=r=>u.value=!1),title:"Filter & Urutkan"},{default:h(()=>[t("div",L,[t("div",null,[e[18]||(e[18]=t("h4",{class:"text-xs font-bold text-gray-400 uppercase mb-3"},"Urutkan Berdasarkan",-1)),t("div",U,[(d(!0),o(b,null,k([{val:"default",label:"Nama (A-Z)",icon:"AZ"},{val:"bestseller",label:"Terlaris",icon:"ðŸ”¥"},{val:"cheapest",label:"Termurah",icon:"ðŸ’°"},{val:"recommendation",label:"Rekomendasi",icon:"â­",disabled:a.category==="all"}],r=>(d(),o("button",{key:r.val,disabled:r.disabled,onClick:x=>!r.disabled&&l.$emit("update:sort",r.val),class:s(["flex flex-col items-center justify-center p-3 rounded-xl border transition active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-100 disabled:border-gray-200 dark:disabled:bg-gray-800 dark:disabled:border-gray-700",[a.sort===r.val?"bg-lime-50 border-lime-500 text-lime-700 dark:bg-lime-900/20 dark:text-lime-400":"bg-white border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300"]]),title:r.disabled?"Pilih kategori terlebih dahulu":""},[t("span",R,g(r.icon),1),t("span",Z,g(r.label),1)],10,D))),128))])]),m.value.length>0?(d(),o("div",q,[e[19]||(e[19]=t("h4",{class:"text-xs font-bold text-gray-400 uppercase mb-3"},"Tipe Produk",-1)),t("div",O,[t("button",{onClick:e[5]||(e[5]=r=>l.$emit("update:subCategory","all")),class:s(["px-3 py-1.5 rounded-lg border text-xs font-bold transition active:scale-95",a.subCategory==="all"?"bg-gray-800 text-white dark:bg-lime-500 dark:text-gray-900 border-gray-800 dark:border-lime-500":"bg-gray-50 text-gray-500 border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"])}," Semua ",2),(d(!0),o(b,null,k(m.value,r=>(d(),o("button",{key:r.id,onClick:x=>l.$emit("update:subCategory",r.id),class:s(["px-3 py-1.5 rounded-lg border text-xs font-bold transition active:scale-95",a.subCategory===r.id?"bg-gray-800 text-white dark:bg-lime-500 dark:text-gray-900 border-gray-800 dark:border-lime-500":"bg-gray-50 text-gray-500 border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"])},g(r.name),11,G))),128))])])):y("",!0),t("div",J,[a.brands.length>0?(d(),o("div",K,[e[20]||(e[20]=t("h4",{class:"text-xs font-bold text-gray-400 uppercase mb-3"},"Merk / Brand",-1)),t("div",Q,[t("button",{onClick:e[6]||(e[6]=r=>l.$emit("update:brand","all")),class:s(["px-3 py-1.5 rounded-lg border text-xs font-bold transition active:scale-95",a.brand==="all"?"bg-gray-800 text-white dark:bg-lime-500 dark:text-gray-900 border-gray-800 dark:border-lime-500":"bg-gray-50 text-gray-500 border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"])}," Semua ",2),(d(!0),o(b,null,k(a.brands,r=>(d(),o("button",{key:r.id,onClick:x=>l.$emit("update:brand",r.id),class:s(["px-3 py-1.5 rounded-lg border text-xs font-bold transition active:scale-95",a.brand===r.id?"bg-gray-800 text-white dark:bg-lime-500 dark:text-gray-900 border-gray-800 dark:border-lime-500":"bg-white text-gray-600 border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"])},g(r.name),11,W))),128))])])):y("",!0),a.sizes&&a.sizes.length>0?(d(),o("div",X,[e[21]||(e[21]=t("h4",{class:"text-xs font-bold text-gray-400 uppercase mb-3"},"Ukuran / Size",-1)),t("div",Y,[t("button",{onClick:e[7]||(e[7]=r=>l.$emit("update:size","all")),class:s(["px-3 py-1.5 rounded-lg border text-xs font-bold transition active:scale-95",a.size==="all"?"bg-gray-800 text-white dark:bg-lime-500 dark:text-gray-900 border-gray-800 dark:border-lime-500":"bg-gray-50 text-gray-500 border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"])}," Semua ",2),(d(!0),o(b,null,k(a.sizes,r=>(d(),o("button",{key:r.id,onClick:x=>l.$emit("update:size",r.id),class:s(["px-3 py-1.5 rounded-lg border text-xs font-bold transition active:scale-95",a.size===r.id?"bg-gray-800 text-white dark:bg-lime-500 dark:text-gray-900 border-gray-800 dark:border-lime-500":"bg-white text-gray-600 border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"])},g(r.name),11,_))),128))])])):y("",!0)]),t("div",null,[e[23]||(e[23]=t("h4",{class:"text-xs font-bold text-gray-400 uppercase mb-3"},"Opsi Lainnya",-1)),t("div",ee,[e[22]||(e[22]=t("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Sembunyikan Stok Habis",-1)),t("button",{onClick:e[8]||(e[8]=r=>l.$emit("update:hideEmptyStock",!a.hideEmptyStock)),class:s(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",a.hideEmptyStock?"bg-lime-500":"bg-gray-200 dark:bg-gray-600"])},[t("span",{class:s(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm",a.hideEmptyStock?"translate-x-6":"translate-x-1"])},null,2)],2)])]),t("div",te,[t("button",{onClick:C,class:"flex-1 py-3.5 bg-gray-100 text-gray-600 font-bold rounded-xl active:scale-95 transition"}," Reset "),t("button",{onClick:e[9]||(e[9]=r=>u.value=!1),class:"flex-[2] py-3.5 bg-gray-900 text-white font-bold rounded-xl active:scale-95 transition shadow-lg"}," Terapkan ")])])]),_:1},8,["show"])],64))}},ie=N(re,[["__scopeId","data-v-3106d7d1"]]);export{ie as default};
