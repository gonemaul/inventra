import{u as j,v as b,l as o,o as a,e as y,g as v,i as P,w as f,f as t,C as V,k as c,t as r,z as S,F as k,I as _,L as H,n as m,p as z,J as B}from"./vendor-core-By7Plnkm.js";import{_ as M}from"./AuthenticatedLayout-BlgKae2S.js";import{_ as N}from"./ReportPagination-CJ0WNI_F.js";import{u as T}from"./useExport-ZWbXSJP4.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";import"./useSidebar-CpEDRVzi.js";import"./useActionLoading-BREuot5v.js";const $={class:"space-y-6 pb-20"},A={class:"flex flex-col gap-4 mb-4 md:flex-row md:items-center md:justify-between print:hidden"},D={class:"flex items-center gap-2"},E={class:"grid grid-cols-1 gap-4 md:grid-cols-4"},F={class:"relative p-6 overflow-hidden text-white shadow-lg md:col-span-2 bg-gradient-to-br from-gray-800 to-gray-900 dark:from-lime-700 dark:to-lime-950 rounded-2xl"},I={class:"relative z-10"},K={class:"mt-2 text-3xl font-black"},O={class:"mt-2 text-xs text-gray-400"},L={class:"p-6 bg-white border border-gray-200 rounded-2xl dark:bg-gray-800 dark:border-gray-700"},J={class:"mt-1 text-2xl font-bold text-blue-600"},R={class:"p-6 bg-white border border-gray-200 rounded-2xl dark:bg-gray-800 dark:border-gray-700"},U={class:"mt-1 text-2xl font-bold text-lime-600"},G={class:"bg-white border border-gray-200 shadow-sm rounded-2xl dark:bg-gray-800 dark:border-gray-700 relative"},q={class:"flex flex-col md:flex-row items-center justify-between gap-4 p-4 border-b border-gray-100 dark:border-gray-700"},Q={class:"text-lg font-bold text-gray-800 dark:text-white"},W={class:"w-full md:w-64"},X=["value"],Y={class:"overflow-x-auto"},Z={class:"w-full text-sm text-left"},tt={class:"text-xs text-gray-500 uppercase bg-gray-50 dark:bg-gray-700/50"},et={class:"flex items-center gap-1"},st={key:0},rt={key:1},ot={class:"flex items-center justify-center gap-1"},at={key:0},it={key:1},lt={class:"flex items-center justify-end gap-1"},nt={key:0},dt={key:1},ct={class:"flex items-center justify-end gap-1"},ut={key:0},gt={key:1},pt={class:"flex items-center justify-end gap-1"},xt={key:0},mt={key:1},yt={class:"divide-y divide-gray-100 dark:divide-gray-700"},vt={class:"px-6 py-3"},kt={class:"font-bold text-gray-800 dark:text-white"},ht={class:"text-xs text-gray-500"},bt={class:"px-6 py-3 text-center"},ft={class:"px-2 py-1 font-mono font-bold text-gray-700 bg-gray-100 rounded dark:bg-gray-700 dark:text-gray-300"},_t={class:"px-6 py-3 text-right text-gray-500"},wt={class:"px-6 py-3 font-black text-right text-gray-800 bg-gray-50/50 dark:text-white dark:bg-gray-800/50"},Ct={class:"px-6 py-3 font-medium text-right text-blue-600"},jt={key:0},Pt={class:"p-4 border-t border-gray-100 dark:border-gray-700 flex justify-center md:justify-end"},$t={__name:"StockValue",props:{products:Object,summary:Object,categories:Array,filters:Object},setup(l){const g=l,{exportToCsv:w}=T(),C=()=>{const d=g.products.data.map(e=>({Nama:e.name,Kategori:e.category?.name,Stok:e.stock,Unit:e.unit?.name,"Harga Beli":e.purchase_price,"Total Aset":e.stock*e.purchase_price}));w("Laporan_Stok_Value",d)},u=j({category_id:g.filters.category_id||"",sort:g.filters.sort||"stock",direction:g.filters.direction||"desc"}),h=()=>{B.get(route("reports.stock-value"),{category_id:u.category_id,sort:u.sort,direction:u.direction},{preserveScroll:!0,preserveState:!0})},p=d=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(d),i=b(g.filters.sort||"stock"),n=b(g.filters.direction||"desc"),x=d=>{i.value===d?n.value=n.value==="asc"?"desc":"asc":(i.value=d,n.value="desc"),u.sort=i.value,u.direction=n.value,h()};return(d,e)=>(a(),o(k,null,[y(v(P),{title:"Laporan Nilai Aset"}),y(M,{headerTitle:"Valuasi Aset Gudang"},{default:f(()=>[t("div",$,[t("div",A,[t("div",D,[y(v(V),{href:d.route("reports.index"),class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-gray-600 transition bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50 hover:text-blue-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:text-white"},{default:f(()=>[...e[6]||(e[6]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),c(" Kembali ",-1)])]),_:1},8,["href"])]),t("div",{class:"flex gap-2"},[t("button",{onClick:C,class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white transition bg-green-600 rounded-lg shadow hover:bg-green-700"},[...e[7]||(e[7]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),c(" Export CSV ",-1)])]),e[8]||(e[8]=t("button",{onclick:"window.print()",class:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white transition bg-blue-600 rounded-lg shadow hover:bg-blue-700"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})]),c(" Print ")],-1))])]),t("div",E,[t("div",F,[t("div",I,[e[9]||(e[9]=t("p",{class:"text-xs font-bold tracking-widest text-gray-400 uppercase"}," Total Nilai Aset (HPP) ",-1)),t("h2",K,r(p(l.summary.total_asset_value)),1),t("p",O," Uang yang mengendap dalam bentuk "+r(l.summary.total_items)+" unit barang. ",1)]),e[10]||(e[10]=t("div",{class:"absolute bottom-0 right-0 p-4 opacity-10"},[t("svg",{class:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),t("div",L,[e[11]||(e[11]=t("p",{class:"text-xs font-bold tracking-widest text-gray-500 uppercase"}," Potensi Omzet ",-1)),t("h2",J,r(p(l.summary.potential_revenue)),1),e[12]||(e[12]=t("p",{class:"text-[10px] text-gray-400 mt-1"}," Jika semua terjual habis ",-1))]),t("div",R,[e[13]||(e[13]=t("p",{class:"text-xs font-bold tracking-widest text-gray-500 uppercase"}," Estimasi Profit ",-1)),t("h2",U,r(p(l.summary.potential_profit)),1),e[14]||(e[14]=t("p",{class:"text-[10px] text-gray-400 mt-1"},"Margin Kotor",-1))])]),t("div",G,[t("div",q,[t("h3",Q," Rincian Per Produk ("+r(l.products.total)+" Items) ",1),t("div",W,[S(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>v(u).category_id=s),onChange:h,class:"w-full text-sm border-gray-300 rounded-lg dark:bg-gray-700 focus:ring-lime-500"},[e[15]||(e[15]=t("option",{value:""},"Semua Kategori",-1)),(a(!0),o(k,null,_(l.categories,s=>(a(),o("option",{key:s.id,value:s.id},r(s.name),9,X))),128))],544),[[H,v(u).category_id]])])]),t("div",Y,[t("table",Z,[t("thead",tt,[t("tr",null,[t("th",{class:"px-6 py-3 cursor-pointer hover:text-lime-600 group",onClick:e[1]||(e[1]=s=>x("name"))},[t("div",et,[e[16]||(e[16]=c(" Produk ",-1)),t("span",{class:m(["text-gray-300 group-hover:text-lime-500",{"text-lime-600":i.value==="name"}])},[i.value==="name"?(a(),o("span",st,r(n.value==="asc"?"↑":"↓"),1)):(a(),o("span",rt,"↕"))],2)])]),t("th",{class:"px-6 py-3 text-center cursor-pointer hover:text-lime-600 group",onClick:e[2]||(e[2]=s=>x("stock"))},[t("div",ot,[e[17]||(e[17]=c(" Stok ",-1)),t("span",{class:m(["text-gray-300 group-hover:text-lime-500",{"text-lime-600":i.value==="stock"}])},[i.value==="stock"?(a(),o("span",at,r(n.value==="asc"?"↑":"↓"),1)):(a(),o("span",it,"↕"))],2)])]),t("th",{class:"px-6 py-3 text-right cursor-pointer hover:text-lime-600 group",onClick:e[3]||(e[3]=s=>x("purchase_price"))},[t("div",lt,[e[18]||(e[18]=c(" HPP Satuan ",-1)),t("span",{class:m(["text-gray-300 group-hover:text-lime-500",{"text-lime-600":i.value==="purchase_price"}])},[i.value==="purchase_price"?(a(),o("span",nt,r(n.value==="asc"?"↑":"↓"),1)):(a(),o("span",dt,"↕"))],2)])]),t("th",{class:"px-6 py-3 font-bold text-right bg-gray-100 cursor-pointer hover:text-lime-600 dark:bg-gray-900/50 group",onClick:e[4]||(e[4]=s=>x("asset_value"))},[t("div",ct,[e[19]||(e[19]=c(" Total Aset (HPP) ",-1)),t("span",{class:m(["text-gray-300 group-hover:text-lime-500",{"text-lime-600":i.value==="asset_value"}])},[i.value==="asset_value"?(a(),o("span",ut,r(n.value==="asc"?"↑":"↓"),1)):(a(),o("span",gt,"↕"))],2)])]),t("th",{class:"px-6 py-3 text-right cursor-pointer hover:text-lime-600 group",onClick:e[5]||(e[5]=s=>x("potential_revenue"))},[t("div",pt,[e[20]||(e[20]=c(" Potensi Jual ",-1)),t("span",{class:m(["text-gray-300 group-hover:text-lime-500",{"text-lime-600":i.value==="potential_revenue"}])},[i.value==="potential_revenue"?(a(),o("span",xt,r(n.value==="asc"?"↑":"↓"),1)):(a(),o("span",mt,"↕"))],2)])])])]),t("tbody",yt,[(a(!0),o(k,null,_(l.products.data,s=>(a(),o("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors"},[t("td",vt,[t("div",kt,r(s.name),1),t("div",ht,r(s.code)+" • "+r(s.category?.name),1)]),t("td",bt,[t("span",ft,r(s.stock)+" "+r(s.unit?.name),1)]),t("td",_t,r(p(s.purchase_price)),1),t("td",wt,r(p(s.asset_value)),1),t("td",Ct,r(p(s.potential_sale)),1)]))),128)),l.products.data.length===0?(a(),o("tr",jt,[...e[21]||(e[21]=[t("td",{colspan:"5",class:"px-6 py-8 text-center text-gray-500"}," Data tidak ditemukan. ",-1)])])):z("",!0)])])]),t("div",Pt,[y(N,{links:l.products.links},null,8,["links"])])]),e[22]||(e[22]=t("div",{class:"text-xs text-center text-gray-400 mt-4"}," * HPP dihitung berdasarkan harga beli yang tersimpan di master produk. ",-1))])]),_:1})],64))}};export{$t as default};
