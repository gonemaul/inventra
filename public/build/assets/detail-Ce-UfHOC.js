import{_ as k}from"./AuthenticatedLayout-CL35wTeb.js";import{j as p,g as n,o as i,a as d,d as b,h as f,w as l,b as t,i as h,F as c,q as _,n as y,t as r,f as v}from"./app-OOVJa1pD.js";import w from"./card-detail-BG2_9Kv7.js";import{_ as j}from"./Tabs-B5AvFVJ9.js";import D from"./tab-forecasting-Cfrem9kZ.js";import B from"./tab-analisis-ejI3v5dQ.js";import"./useActionLoading-1e1XIs5r.js";import"./modalDelete-DGCvTG1J.js";import"./Modal-CeAPgi98.js";const R={class:"w-full min-h-screen space-y-5"},$={class:"p-4 bg-white rounded-lg shadow dark:bg-gray-800"},F={class:"grid grid-cols-2 gap-4 mt-4"},N={class:"p-3 border border-blue-100 rounded bg-blue-50 dark:bg-gray-700 dark:border-gray-600"},I={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},O={class:"text-sm text-gray-500"},P={class:"p-3 border border-green-100 rounded bg-green-50 dark:bg-gray-700 dark:border-gray-600"},S={class:"text-lg font-bold text-green-600 dark:text-green-400"},T={class:"p-4 bg-white rounded-lg shadow dark:bg-gray-800"},V={class:"mt-4 divide-y divide-gray-100 dark:divide-gray-700"},q={class:"flex items-center gap-3"},A={key:0},C={key:1},M={class:"text-sm font-bold text-gray-800 dark:text-gray-200"},z={class:"text-xs text-gray-500 dark:text-gray-400"},E={class:"text-right"},H={class:"text-xs text-gray-400"},L={key:0,class:"py-4 text-sm text-center text-gray-400"},tt={__name:"detail",props:{product:Object,dss:Object,chart_data:Array,stock_history:Array,price_trend:Object},setup(e){const u=e,g=[{key:"ringkasan",label:"Ringkasan Penjualan"},{key:"analisis",label:"Analisis Pergerakan"},{key:"forecast",label:"Forecasting Restock"},{key:"riwayat",label:"Riwayat Stock"}],m=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o);return p(()=>{const o=Math.max(...u.chart_data.map(a=>a.qty));return o===0?5:o}),(o,a)=>(i(),n(c,null,[d(b(f),{title:`Detail ${e.product.name}`},null,8,["title"]),d(k,{headerTitle:"Detail Barang"},{default:l(()=>[t("div",R,[d(w,{data:e.product,dss:e.dss,price_trend:e.price_trend},null,8,["data","dss","price_trend"]),d(j,{tabs:g,defaultTab:"ringkasan"},{ringkasan:l(()=>[t("div",$,[a[2]||(a[2]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Ringkasan Penjualan ",-1)),a[3]||(a[3]=t("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-300"}," Performa penjualan produk ini dalam 7 hari terakhir. ",-1)),t("div",F,[t("div",N,[a[0]||(a[0]=t("p",{class:"text-xs text-gray-500 uppercase dark:text-gray-400"}," Terjual (30 Hari) ",-1)),t("p",I,[v(r(e.dss.sales_30_days)+" ",1),t("span",O,r(e.product.unit?.name),1)])]),t("div",P,[a[1]||(a[1]=t("p",{class:"text-xs text-gray-500 uppercase dark:text-gray-400"}," Estimasi Omzet (30 Hari) ",-1)),t("p",S,r(m(e.dss.sales_30_days*e.product.selling_price)),1)])])])]),analisis:l(()=>[d(B,{inventory:e.product.inventory,product:e.product},null,8,["inventory","product"])]),forecast:l(()=>[d(D,{inventory:e.product.inventory},null,8,["inventory"])]),riwayat:l(()=>[t("div",T,[a[4]||(a[4]=t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Riwayat Stock "),t("p",{class:"text-sm text-gray-600 dark:text-gray-300"}," Mutasi keluar masuk barang. ")])],-1)),t("ul",V,[(i(!0),n(c,null,_(e.stock_history,(s,x)=>(i(),n("li",{key:x,class:"flex items-center justify-between py-3"},[t("div",q,[t("div",{class:y(["flex items-center justify-center w-8 h-8 rounded-full",s.type=="in"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"])},[s.type=="in"?(i(),n("span",A,"⬇️")):(i(),n("span",C,"⬆️"))],2),t("div",null,[t("p",M,r(s.type=="in"?"Barang Masuk":"Barang Keluar"),1),t("p",z,r(s.note),1)])]),t("div",E,[t("p",{class:y(["font-bold",s.type=="in"?"text-green-600":"text-red-600"])},r(s.type=="in"?"+":"-")+" "+r(s.qty),3),t("p",H,r(new Date(s.date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})),1)])]))),128)),e.stock_history.length===0?(i(),n("li",L," Belum ada riwayat transaksi. ")):h("",!0)])])]),_:1})])]),_:1})],64))}};export{tt as default};
