import{l as o,o as a,e as n,w as d,y,f as e,D as x,O as b,T as S,q as v,u as B,F as L,H as V,t as c,k as l,g as i,Y as A,n as C}from"./vendor-core-CJbEklrS.js";import{P as k}from"./PrimaryButton-Dbwz-4sj.js";import{_ as O}from"./TextInput-D3g6WrLG.js";import{_ as M}from"./InputError-DL5Pbxe2.js";import{_ as $}from"./Modal-CSrVmq0b.js";import{_ as T}from"./SecondaryButton-Dn91XaO6.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"text-sm text-gray-600"},F={__name:"ActionMessage",props:{on:Boolean},setup(u){return(p,m)=>(a(),o("div",null,[n(S,{"leave-active-class":"transition duration-1000 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:d(()=>[y(e("div",z,[x(p.$slots,"default")],512),[[b,u.on]])]),_:3})]))}},H={class:"mt-5 space-y-6"},I={key:0,class:"space-y-4"},P={class:"text-lime-600 bg-lime-50 p-2.5 rounded-xl border border-lime-100 shadow-sm"},j={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},D={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},E={class:"ml-4"},N={class:"text-sm font-bold text-gray-700"},U={class:"text-xs text-gray-500 mt-0.5"},K={key:0,class:"ml-1 font-bold text-green-600"},R={key:1,class:"text-gray-400"},q={key:1,class:"flex items-center gap-2 p-4 text-sm text-yellow-700 border border-yellow-100 rounded-lg bg-yellow-50"},Y={class:"flex items-center pt-4 mt-5 border-t border-gray-100"},G={class:"p-6"},J={class:"mt-6"},Q={class:"flex justify-end mt-6"},ls={__name:"LogoutOtherBrowserSessionsForm",props:{sessions:Array},setup(u){const p=u,m=v(!1),g=v(null),r=B({password:""}),_=()=>{m.value=!0,setTimeout(()=>g.value.focus(),250)},w=()=>{r.delete(route("other-browser-sessions.destroy"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>g.value.focus(),onFinish:()=>r.reset()})},f=()=>{m.value=!1,r.reset()};return console.log(p.sessions),(W,s)=>(a(),o("section",null,[s[10]||(s[10]=e("header",null,[e("h2",{class:"text-lg font-bold text-gray-900"},"Sesi Browser"),e("p",{class:"mt-1 text-sm text-gray-600"}," Lihat daftar perangkat yang sedang login dan kelola keamanan sesi Anda. ")],-1)),e("div",H,[u.sessions.length>0?(a(),o("div",I,[(a(!0),o(L,null,V(u.sessions,(t,h)=>(a(),o("div",{key:h,class:"flex items-center"},[e("div",P,[t.agent.is_desktop?(a(),o("svg",j,[...s[1]||(s[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 17.25v-1.007"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 3h12a3 3 0 013 3v8a3 3 0 01-3 3H6a3 3 0 01-3-3V6a3 3 0 013-3z"},null,-1)])])):(a(),o("svg",D,[...s[2]||(s[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"},null,-1)])]))]),e("div",E,[e("div",N,c(t.agent.platform?t.agent.platform:"Unknown OS")+" - "+c(t.agent.browser?t.agent.browser:"Unknown Browser"),1),e("div",U,[l(c(t.ip_address)+", ",1),t.is_current_device?(a(),o("span",K," â— Perangkat Ini ")):(a(),o("span",R," Terakhir aktif "+c(t.last_active),1))])])]))),128))])):(a(),o("div",q,[...s[3]||(s[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),e("span",null,[l(" Tidak ada data sesi. Pastikan "),e("b",null,"SESSION_DRIVER=database"),l(" di .env ")],-1)])])),e("div",Y,[n(k,{onClick:_,class:"border-0 shadow-lg bg-gradient-to-r from-lime-500 to-green-600 hover:from-lime-600 hover:to-green-700 shadow-lime-500/20"},{default:d(()=>[...s[4]||(s[4]=[l(" Log Out Sesi Lain ",-1)])]),_:1}),n(F,{on:i(r).recentlySuccessful,class:"ms-3"},{default:d(()=>[...s[5]||(s[5]=[l(" Berhasil log out perangkat lain. ",-1)])]),_:1},8,["on"])]),n($,{show:m.value,onClose:f},{default:d(()=>[e("div",G,[s[8]||(s[8]=e("h2",{class:"text-lg font-bold text-gray-900"}," Log Out Sesi Browser Lain ",-1)),s[9]||(s[9]=e("p",{class:"mt-2 text-sm text-gray-600"}," Silakan masukkan password Anda untuk mengonfirmasi bahwa Anda ingin keluar dari semua sesi browser lain di seluruh perangkat Anda. Sesi ini akan tetap aktif. ",-1)),e("div",J,[n(O,{ref_key:"passwordInput",ref:g,modelValue:i(r).password,"onUpdate:modelValue":s[0]||(s[0]=t=>i(r).password=t),type:"password",class:"block w-3/4 mt-1",placeholder:"Password Akun",onKeyup:A(w,["enter"])},null,8,["modelValue"]),n(M,{message:i(r).errors.password,class:"mt-2"},null,8,["message"])]),e("div",Q,[n(T,{onClick:f},{default:d(()=>[...s[6]||(s[6]=[l(" Batal ",-1)])]),_:1}),n(k,{class:C(["bg-red-600 border-transparent ms-3 hover:bg-red-700 focus:ring-red-500",{"opacity-25":i(r).processing}]),disabled:i(r).processing,onClick:w},{default:d(()=>[...s[7]||(s[7]=[l(" Log Out Sesi Lain ",-1)])]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])])]))}};export{ls as default};
