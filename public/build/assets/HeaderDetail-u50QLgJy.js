import{p as S,l as B,o as I,f as t,e as a,w as g,t as o,g as l}from"./vendor-core-n0E2YlDl.js";import e from"./InfoCard-Co59hIrv.js";import{u as q}from"./usePurchaseAnalytics-BiKfC_Gd.js";import"./vendor-common-BBegFRNv.js";import"./vendor-charts-Bw6UNgWf.js";const C={class:"space-y-8 dark:bg-gray-800"},Q={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},A={class:"space-y-6"},F={class:"p-4 border shadow-lg rounded-xl border-lime-400 bg-gray-50 dark:bg-gray-900"},K={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},M={class:"flex flex-col"},O={class:"font-medium"},R={class:"text-sm text-gray-500"},H={class:"p-4 border shadow-lg rounded-xl border-lime-400 bg-gray-50 dark:bg-gray-900"},P={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},j={class:"flex flex-col h-full gap-6"},U={class:"p-4 border shadow-lg rounded-xl border-lime-400 bg-gray-50 dark:bg-gray-900"},V={class:"grid grid-cols-2 gap-4 sm:grid-cols-3"},G={__name:"HeaderDetail",props:{data:{type:Object,required:!0},mode:{type:String,default:"detail"}},setup(s){const r=s;function c(i){return i?new Date(i).toLocaleDateString("id-ID",{day:"2-digit",month:"numeric",year:"numeric"}):"-"}function u(i){return!i&&i!==0?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(i)}const d=S(()=>r.data.status==="diterima"||r.data.status==="checking"),m=(r.data.shipping_cost||0)+(r.data.other_costs||0);(r.data.invoices_sum_total_amount||0)+m;const{kosong:v,baru_pengganti:b,total_macam_dipesan:p,total_macam_diterima:y,total_qty_dipesan:_,total_qty_diterima:h,total_rupiah_dipesan:f,total_rupiah_diterima:x,total_barang_sesuai:k,macam_harga_naik:D,macam_harga_turun:w,produk_qty_lebih:N,produk_qty_kurang:T}=q(r.data.items);return(i,n)=>(I(),B("div",C,[t("div",Q,[t("div",A,[t("div",F,[n[0]||(n[0]=t("div",{class:"flex justify-between"},[t("h3",{class:"mb-4 text-sm font-semibold text-gray-600 dark:text-gray-300"}," Info Transaksi ")],-1)),t("div",K,[a(e,{label:"Supplier"},{default:g(()=>[t("div",M,[t("span",O,o(s.data.supplier?s.data.supplier.name:"Umum/Cash"),1),t("span",R,o(s.data.supplier?s.data.supplier.address+" | "+s.data.supplier.phone:"-"),1)])]),_:1}),a(e,{label:"Status"},{default:g(()=>[t("span",null,o(s.data.status.toUpperCase()),1)]),_:1}),a(e,{label:"Tanggal Order",value:c(s.data.transaction_date)},null,8,["value"]),a(e,{label:"Tanggal Datang",value:c(s.data.received_at)},null,8,["value"])])]),t("div",H,[n[1]||(n[1]=t("h3",{class:"mb-4 text-sm font-semibold text-gray-600 dark:text-gray-300"}," Ringkasan Keuangan ",-1)),t("div",P,[a(e,{label:"Jumlah Nota",value:d.value?s.data.invoices.length+" Nota":"-"},null,8,["value"]),a(e,{label:"Nilai PO Awal",value:u(l(f)),"format-value":u},null,8,["value"]),a(e,{label:"Nilai Fisik Diterima",value:d.value?u(l(x)):"-","format-value":u,highlight:""},null,8,["value"])])])]),t("div",j,[t("div",U,[n[2]||(n[2]=t("h3",{class:"mb-4 text-sm font-semibold text-gray-600 dark:text-gray-300"}," Analisis Discrepancy (PO vs Fisik Nota) ",-1)),t("div",V,[a(e,{label:"Barang Sesuai Total",value:l(k),type:"success"},null,8,["value"]),a(e,{label:"Macam Dipesan",value:l(p)},null,8,["value"]),a(e,{label:"Macam Diterima",value:d.value?l(y):"-"},null,8,["value"]),a(e,{label:"Qty Total Dipesan",value:l(_)},null,8,["value"]),a(e,{label:"Qty Total Diterima",value:d.value?l(h):"-"},null,8,["value"]),a(e,{label:"Qty Kekurangan",value:l(T),type:"danger"},null,8,["value"]),a(e,{label:"Qty Kelebihan",value:l(N),type:"warning"},null,8,["value"]),a(e,{label:"Item Kosong (Qty 0)",value:l(v),type:"danger"},null,8,["value"]),a(e,{label:"Harga Naik (Macam)",value:l(D),type:"warning"},null,8,["value"]),a(e,{label:"Harga Turun (Macam)",value:l(w),type:"info"},null,8,["value"]),a(e,{label:"Barang Baru/Substitusi",value:l(b),type:"info"},null,8,["value"]),a(e,{label:"Catatan",value:s.data.notes||"-"},null,8,["value"])])])])])]))}};export{G as default};
