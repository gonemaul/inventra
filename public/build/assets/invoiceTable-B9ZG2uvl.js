import{_ as x}from"./DataTable-DNYoLFHT.js";import{m as u,g as i,o as l,a as c,b as s,w as n,i as p,d as y,l as k,f,n as _,t as g,F as C}from"./app-DwOZ8O7W.js";import{_ as w}from"./ImageModal-BLHTPr2M.js";import"./Modal-DnFGslV2.js";const N={class:"p-4 space-y-5 bg-white border rounded-lg shadow-md dark:bg-gray-900 dark:border-lime-500"},$=["onClick"],B={class:"flex flex-wrap gap-2"},I=["onClick"],D=["onClick"],E=["onClick"],A={__name:"invoiceTable",props:{purchase:{type:Array,required:!0},isCheckingMode:{type:Boolean,default:!1},canEditDelete:Boolean},emits:["edit-invoice","delete-invoice","open-payment-modal"],setup(o,{emit:T}){const r=u(!1),m=u(null),b=u(null),v=(a,t)=>{m.value=a,b.value="Invoice-#"+t,r.value=!0},h=[{key:"invoice_number",label:"No Nota",sortable:!0,width:"100px",slot:"invoice"},{key:"invoice_date",label:"Tanggal Nota",sortable:!0,width:"150px",format:"tanggal"},{key:"due_date",label:"Jatuh Tempo",sortable:!0,width:"150px",format:"tanggal"},{key:"total_amount",label:"Nominal Total",sortable:!0,width:"200px",format:"rupiah"},{key:"payment_status",label:"Status Bayar",sortable:!0,width:"120px",slot:"status"},{key:"aksi",label:"Aksi",width:"180px",slot:"aksi"}];return(a,t)=>(l(),i(C,null,[c(w,{show:r.value,imageUrl:m.value,productName:b.value,onClose:t[0]||(t[0]=e=>r.value=!1)},null,8,["show","imageUrl","productName"]),s("div",N,[t[2]||(t[2]=s("h3",{class:"text-lg font-bold dark:text-white"},"Daftar Nota Keuangan",-1)),c(x,{columns:h,data:o.purchase.invoices,serverSide:!1,perPageOptions:[5,10,20]},{invoice:n(({row:e})=>[s("span",{class:"text-blue-500 cursor-pointer",onClick:d=>v(e.invoice_image,e.invoice_number)},g(e.invoice_number),9,$)]),status:n(({row:e})=>[s("span",{class:_([{"px-2 py-1 text-white rounded":!0,"bg-green-600":e.payment_status==="paid","bg-yellow-600":e.payment_status==="partial","bg-red-600":e.payment_status==="unpaid"},"text-xs uppercase"])},g(e.payment_status),3)]),aksi:n(({row:e})=>[s("div",B,[c(y(k),{href:a.route("purchases.linkInvoiceItems",{purchase:o.purchase.id,invoice:e.id}),class:"px-2 py-1 text-xs text-white bg-orange-500 rounded hover:bg-orange-600"},{default:n(()=>[...t[1]||(t[1]=[f(" Detail ",-1)])]),_:2},1032,["href"]),o.canEditDelete?(l(),i("button",{key:0,onClick:d=>a.$emit("edit-invoice",e),class:"px-2 py-1 text-xs text-white bg-blue-500 rounded hover:bg-blue-600"}," Edit ",8,I)):p("",!0),o.canEditDelete?(l(),i("button",{key:1,onClick:d=>a.$emit("delete-invoice",e),class:"px-2 py-1 text-xs text-white bg-red-500 rounded hover:bg-red-600"}," Hapus ",8,D)):p("",!0),e.payment_status!=="paid"?(l(),i("button",{key:2,onClick:d=>a.$emit("open-payment-modal",e),class:"px-2 py-1 text-xs text-white rounded bg-lime-600 hover:bg-lime-700"}," Bayar ",8,E)):p("",!0)])]),_:1},8,["data"])])],64))}};export{A as default};
