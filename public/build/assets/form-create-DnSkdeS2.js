import{y as S,u as C,z as M,j as V,c as U,o as d,w as B,b as r,t as n,e as $,g as i,i as l,k as m,f as y,d as s,F as E,q as N,B as x,A as g}from"./app-OOVJa1pD.js";import{_ as A}from"./Modal-CeAPgi98.js";import{u as j}from"./useActionLoading-1e1XIs5r.js";const F={class:"w-full p-6 bg-white shadow-lg maxs-w-md rounded-xl dark:bg-gray-800"},P={class:"flex items-center justify-between pb-3 border-b"},z={class:"text-lg font-semibold text-gray-800 dark:text-white"},K={key:0},O={key:0,value:null},L=["value"],H={key:0,class:"mt-1 text-xs text-red-500"},_={key:1},q={key:0,class:"mt-1 text-xs text-red-500"},G={key:2},I={key:0,class:"mt-1 text-xs text-red-500"},J={key:3},Q={key:0,class:"mt-1 text-xs text-red-500"},R={key:4},W={key:0,class:"mt-1 text-xs text-red-500"},X={key:5},Y={key:0,class:"mt-1 text-xs text-red-500"},Z={key:6},D={key:0,value:""},ee={key:0,class:"mt-1 text-xs text-red-500"},te={key:7},re={key:0,value:""},se={key:0,class:"mt-1 text-xs text-red-500"},oe={class:""},ae={key:0,class:"mt-1 text-xs text-red-500"},de={class:"flex justify-end gap-2 pt-3 border-t"},ie=["disabled"],pe={__name:"form-create",props:{show:{type:Boolean,default:!1},mode:{type:String,default:"create"},data:{type:Object,default:()=>({})},dataType:{type:String,default:"category"},categories:{type:Object,default:()=>({})}},emits:["close","success"],setup(p,{emit:b}){const u=p,f={category:{create:{method:"post",url:()=>route("api.settings.storeCategory")},edit:{method:"put",url:o=>route("api.settings.updateCategory",{id:o})}},type:{create:{method:"post",url:()=>route("api.settings.storeType")},edit:{method:"put",url:o=>route("api.settings.updateType",{id:o})}},unit:{create:{method:"post",url:()=>route("api.settings.storeUnit")},edit:{method:"put",url:o=>route("api.settings.updateUnit",{id:o})}},size:{create:{method:"post",url:()=>route("api.settings.storeSize")},edit:{method:"put",url:o=>route("api.settings.updateSize",{id:o})}},brand:{create:{method:"post",url:()=>route("api.settings.storeBrand")},edit:{method:"put",url:o=>route("api.settings.updateBrand",{id:o})}},supplier:{create:{method:"post",url:()=>route("api.settings.storeSupplier")},edit:{method:"put",url:o=>route("api.settings.updateSupplier",{id:o})}}};S();const c=b,{isActionLoading:k}=j(),e=C({id:null,code:"",name:"",description:"",phone:"",address:"",type:"",status:"",category_id:null});M(()=>u.data,o=>{e.clearErrors(),o&&u.mode==="edit"?(e.id=o.id,e.code=o.code||"",e.name=o.name||"",e.description=o.description||"",e.phone=o.phone||"",e.address=o.address||"",e.type=o.type||"",e.status=o.status||"",e.category_id=o.category_id||null):e.reset()});const h=V(()=>{switch(u.dataType){case"category":return u.mode==="create"?"Tambah Kategori":"Edit Kategori";case"type":return u.mode==="create"?"Tambah Tipe Produk":"Edit Tipe Produk";case"unit":return u.mode==="create"?"Tambah Satuan":"Edit Satuan";case"brand":return u.mode==="create"?"Tambah Merk":"Edit Merk";case"supplier":return u.mode==="create"?"Tambah Supplier":"Edit Supplier";default:return""}}),v=()=>{const o=u.dataType,t=u.mode,a=f[o]?.[t];if(!a){console.error(`Config rute tidak ditemukan untuk: ${o} - ${t}`);return}const w=a.method,T=a.url(e.id);k.value=!0,e.submit(w,T,{preserveScroll:!0,onFinish:()=>{k.value=!1,e.wasSuccessful&&(c("close"),c("success"),e.reset())}})};return(o,t)=>(d(),U(A,{show:p.show,onClose:t[11]||(t[11]=a=>o.$emit("close")),"max-width":"lg"},{default:B(()=>[r("div",F,[r("div",P,[r("h2",z,n(h.value),1),r("button",{onClick:t[0]||(t[0]=a=>o.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}," âœ• ")]),r("form",{class:"mt-4 space-y-4",onSubmit:$(v,["prevent"])},[p.dataType=="type"?(d(),i("div",K,[t[12]||(t[12]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Category"),r("span",{class:"text-red-500"},"*")],-1)),m(r("select",{class:"w-full px-3 py-2 text-sm border border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":t[1]||(t[1]=a=>s(e).category_id=a)},[u.mode=="create"?(d(),i("option",O," Pilih Kategori ")):l("",!0),(d(!0),i(E,null,N(u.categories,a=>(d(),i("option",{key:a.id,value:a.id},n(a.name),9,L))),128))],512),[[x,s(e).category_id]]),s(e).errors.category_id?(d(),i("p",H,n(s(e).errors.category_id),1)):l("",!0)])):l("",!0),p.dataType!="supplier"?(d(),i("div",_,[t[13]||(t[13]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Kode"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan kode",class:"w-full px-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":t[2]||(t[2]=a=>s(e).code=a)},null,512),[[g,s(e).code]]),s(e).errors.code?(d(),i("p",q,n(s(e).errors.code),1)):l("",!0)])):l("",!0),p.dataType!="supplier"?(d(),i("div",G,[t[14]||(t[14]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Nama"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan nama",class:"w-full px-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":t[3]||(t[3]=a=>s(e).name=a)},null,512),[[g,s(e).name]]),s(e).errors.name?(d(),i("p",I,n(s(e).errors.name),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",J,[t[15]||(t[15]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Nama Supplier"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan nama",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":t[4]||(t[4]=a=>s(e).name=a)},null,512),[[g,s(e).name]]),s(e).errors.name?(d(),i("p",Q,n(s(e).errors.name),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",R,[t[16]||(t[16]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("No Hp"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan No Hp",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":t[5]||(t[5]=a=>s(e).phone=a)},null,512),[[g,s(e).phone]]),s(e).errors.phone?(d(),i("p",W,n(s(e).errors.phone),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",X,[t[17]||(t[17]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Alamat"),r("span",{class:"text-red-500"},"*")],-1)),m(r("input",{type:"text",placeholder:"Masukkan alamat",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":t[6]||(t[6]=a=>s(e).address=a)},null,512),[[g,s(e).address]]),s(e).errors.address?(d(),i("p",Y,n(s(e).errors.address),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",Z,[t[20]||(t[20]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Type"),r("span",{class:"text-red-500"},"*")],-1)),m(r("select",{class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg dark:bg-gray-700 dark:text-white","onUpdate:modelValue":t[7]||(t[7]=a=>s(e).type=a)},[u.mode=="create"?(d(),i("option",D," Pilih Type ")):l("",!0),t[18]||(t[18]=r("option",{value:"type_online"},"Online",-1)),t[19]||(t[19]=r("option",{value:"type_offline"},"Offline",-1))],512),[[x,s(e).type]]),s(e).errors.type?(d(),i("p",ee,n(s(e).errors.type),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",te,[t[23]||(t[23]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Status"),r("span",{class:"text-red-500"},"*")],-1)),m(r("select",{class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg dark:bg-gray-700 dark:text-white","onUpdate:modelValue":t[8]||(t[8]=a=>s(e).status=a)},[u.mode=="create"?(d(),i("option",re," Pilih Status ")):l("",!0),t[21]||(t[21]=r("option",{value:"active"},"Aktif",-1)),t[22]||(t[22]=r("option",{value:"inactive"},"Tidak Aktif",-1))],512),[[x,s(e).status]]),s(e).errors.status?(d(),i("p",se,n(s(e).errors.status),1)):l("",!0)])):l("",!0),r("div",oe,[t[24]||(t[24]=r("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Catatan / Deskripsi ",-1)),m(r("textarea",{type:"text",placeholder:"Masukkan Catatan / Deskripsi",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":t[9]||(t[9]=a=>s(e).description=a)},null,512),[[g,s(e).description]]),s(e).errors.description?(d(),i("p",ae,n(s(e).errors.description),1)):l("",!0)]),r("div",de,[r("button",{type:"button",onClick:t[10]||(t[10]=a=>o.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}," Batal "),r("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white rounded-lg bg-lime-500 hover:bg-lime-600",disabled:s(e).processing},n(s(e).processing?"Menyimpan...":"Simpan"),9,ie)])],32)])]),_:1},8,["show"]))}};export{pe as default};
