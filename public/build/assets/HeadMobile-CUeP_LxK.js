import{u as j}from"./usePurchaseAnalytics-CAt2lCdP.js";import{B as M}from"./BottomSheet-CdQ1fCHn.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{y as z,l as F,o as H,f as e,e as s,t as d,k as T,g as a,n as c,G as V,w as I,Z as K,F as O,h as b}from"./vendor-core-DNtFhSmw.js";import"./vendor-common-pmZ7KOuE.js";import"./vendor-charts-Bw6UNgWf.js";const P={class:"p-4 space-y-4 bg-white border border-gray-100 shadow-sm dark:bg-gray-900 rounded-xl dark:border-gray-800"},q={class:"flex items-start justify-between mb-3"},A={class:"text-lg font-bold leading-tight text-lime-600 dark:text-lime-400"},Q={class:"text-xs text-gray-500 mt-0.5"},$={class:"grid grid-cols-2 gap-3 bg-gray-50 dark:bg-gray-800 p-2.5 rounded-lg border border-gray-300 dark:border-gray-700"},L={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},R={class:"pl-3 border-l border-gray-400 dark:border-gray-700"},W={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},E={class:"p-3 border rounded-lg bg-lime-50 dark:bg-lime-900/10 border-lime-100 dark:border-lime-900/30"},G={class:"flex flex-col gap-2"},J={class:"flex items-center justify-between p-3 border border-gray-100 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},Z={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},U={class:"flex items-center justify-between p-3 border border-gray-100 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},X={class:"text-sm font-bold text-gray-800 dark:text-gray-100"},Y={class:""},ee={class:"grid grid-cols-3 gap-2"},ae={class:"flex flex-col justify-center col-span-1 p-2 border border-gray-100 rounded bg-gray-50 dark:bg-gray-800 dark:border-gray-700"},te={class:"text-xs font-medium truncate"},l=K({props:["label","value","isDanger","isWarning","isSuccess","isSubtle"],setup(r){let n="text-gray-800 dark:text-gray-200",i="bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700";return r.isDanger?(n="text-red-600",i="bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-800"):r.isWarning?(n="text-orange-600",i="bg-orange-50 dark:bg-orange-900/20 border-orange-100 dark:border-orange-800"):r.isSuccess?(n="text-green-600",i="bg-green-50 dark:bg-green-900/20 border-green-100 dark:border-green-800"):r.isSubtle&&(n="text-gray-400"),()=>b("div",{class:`p-2 rounded border ${i} flex flex-col justify-between min-h-[50px]`},[b("span",{class:"text-[9px] text-gray-400 leading-tight mb-1"},r.label),b("span",{class:`text-sm font-bold leading-none ${n}`},r.value||"-")])}}),re={__name:"HeadMobile",props:{purchase:Object},setup(r){const n=r,i=z(!1),x=o=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(o||0),m=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}):"-",{kosong:p,baru_pengganti:h,total_macam_dipesan:w,total_macam_diterima:_,total_qty_dipesan:D,total_qty_diterima:C,total_rupiah_dipesan:g,total_rupiah_diterima:u,total_barang_sesuai:B,macam_harga_naik:v,macam_harga_turun:f,produk_qty_lebih:y,produk_qty_kurang:k}=j(n.purchase.items);return(o,t)=>(H(),F(O,null,[e("div",P,[e("div",null,[e("div",q,[e("div",null,[t[2]||(t[2]=e("p",{class:"text-[10px] text-gray-400 uppercase tracking-wider font-semibold"}," Supplier ",-1)),e("h3",A,d(r.purchase.supplier?.name),1),e("p",Q,d(r.purchase.supplier?.address)+" | "+d(r.purchase.supplier?.phone),1)])]),e("div",$,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-[10px] text-gray-400 mb-0.5"}," Tanggal Order ",-1)),e("p",L,d(m(r.purchase.transaction_date)),1)]),e("div",R,[t[4]||(t[4]=e("p",{class:"text-[10px] text-gray-400 mb-0.5"}," Tanggal Datang ",-1)),e("p",W,d(r.purchase.received_at?m(r.purchase.received_at):"-"),1)])])]),e("div",E,[t[7]||(t[7]=e("h4",{class:"text-[10px] font-bold text-lime-700 dark:text-lime-400 uppercase tracking-wide mb-2 flex items-center gap-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a1 1 0 100-2 1 1 0 000 2z"})]),T(" Ringkasan Keuangan ")],-1)),e("div",G,[e("div",J,[t[5]||(t[5]=e("span",{class:"text-xs font-semibold tracking-wide text-gray-500 uppercase"},"Jml Nota",-1)),e("span",Z,d(r.purchase.invoices?.length||"-"),1)]),e("div",U,[t[6]||(t[6]=e("span",{class:"text-xs font-semibold tracking-wide text-gray-500 uppercase"},"Nilai PO",-1)),e("span",X,d(x(a(g))),1)]),e("div",{class:c([["flex items-center justify-between p-3  border border-l-4 rounded-lg ",a(g)>a(u)?"border-l-lime-500 bg-lime-500/15 dark:bg-lime-900/10 border-lime-100 dark:border-lime-900/30 ":"border-l-red-500 bg-red-500/15 dark:bg-red-900/10 border-red-100 dark:border-red-900/30 "],""])},[e("span",{class:c(["text-xs font-semibold tracking-wide uppercase",a(g)>a(u)?"text-lime-700 dark:text-lime-400":"text-red-700 dark:text-red-400"])},"Fisik Diterima",2),e("span",{class:c(["text-sm font-bold",a(g)>a(u)?"text-lime-700 dark:text-lime-400":"text-red-700 dark:text-red-400"])},d(x(a(u))||"-"),3)],2)])]),e("button",{onClick:t[0]||(t[0]=S=>i.value=!0),class:"w-full bg-white dark:bg-gray-900 rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-800 flex justify-between items-center group active:scale-[0.99] transition"},[...t[8]||(t[8]=[V('<div class="flex items-center gap-3" data-v-5f2fcc82><div class="flex items-center justify-center w-10 h-10 text-blue-600 rounded-full bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400" data-v-5f2fcc82><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-5f2fcc82><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-5f2fcc82></path></svg></div><div class="text-left" data-v-5f2fcc82><h4 class="text-sm font-bold text-gray-800 dark:text-gray-100" data-v-5f2fcc82> Analisis Discrepancy </h4><p class="text-[10px] text-gray-500" data-v-5f2fcc82> Klik untuk melihat detail perbandingan PO vs Fisik </p></div></div><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-400 transition group-hover:text-blue-500" viewBox="0 0 20 20" fill="currentColor" data-v-5f2fcc82><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" data-v-5f2fcc82></path></svg>',2)])])]),s(M,{show:i.value,onClose:t[1]||(t[1]=S=>i.value=!1),title:"Analisis Detail (PO vs Fisik)"},{default:I(()=>[e("div",Y,[e("div",ee,[s(a(l),{label:"Barang Sesuai",value:a(B)},null,8,["value"]),s(a(l),{label:"Macam Dipesan",value:a(w)},null,8,["value"]),s(a(l),{label:"Macam Diterima",value:a(_),"is-subtle":""},null,8,["value"]),s(a(l),{label:"Qty Total Pesan",value:a(D)},null,8,["value"]),s(a(l),{label:"Qty Total Terima",value:a(C),"is-subtle":""},null,8,["value"]),s(a(l),{label:"Qty Kekurangan",value:a(k),"is-danger":a(k)>0},null,8,["value","is-danger"]),s(a(l),{label:"Qty Kelebihan",value:a(y),"is-warning":a(y)>0},null,8,["value","is-warning"]),s(a(l),{label:"Item Kosong",value:a(p),"is-danger":a(p)>0},null,8,["value","is-danger"]),s(a(l),{label:"Harga Naik",value:a(v),"is-warning":a(v)>0},null,8,["value","is-warning"]),s(a(l),{label:"Harga Turun",value:a(f),"is-success":a(f)>0},null,8,["value","is-success"]),s(a(l),{label:"Barang Baru",value:a(h)},null,8,["value"]),e("div",ae,[t[9]||(t[9]=e("span",{class:"text-[9px] text-gray-400 leading-tight"},"Catatan",-1)),e("span",te,d(r.purchase.notes||"-"),1)])]),t[10]||(t[10]=e("p",{class:"text-center text-[10px] text-gray-400 mt-6"}," Data ini diperbarui otomatis berdasarkan input nota kedatangan. ",-1))])]),_:1},8,["show"])],64))}},ge=N(re,[["__scopeId","data-v-5f2fcc82"]]);export{ge as default};
