import{u as _,c as h,o as k,w as v,b as t,k as d,d as a,z as m,t as u,q as f}from"./app-C_cXePOB.js";import{_ as w}from"./Modal-DR4Qf9lZ.js";import{u as F}from"./useActionLoading-Bvh_DZn-.js";const D={class:"w-full p-4 bg-white shadow rounded-xl dark:bg-gray-800"},M={class:"mb-4"},I={class:"flex gap-2"},V={class:"mb-4"},j={class:"flex gap-2"},A={class:"flex flex-col w-1/2 gap-2"},B={class:"text-xs text-gray-500"},C={class:"flex flex-col w-1/2 gap-2"},S={class:"text-xs text-gray-500"},T={class:"flex justify-end gap-2"},U=["disabled"],$={__name:"modalFilter",props:{show:{type:Boolean,default:!1},filters:Object},emits:["close"],setup(c,{emit:x}){const i=c,g=x,r=_({min_date:i.filters.min_date||"",max_date:i.filters.max_date||"",min_revenue:i.filters.min_revenue||"",max_revenue:i.filters.max_revenue||"",min_profit:i.filters.min_profit||"",max_profit:i.filters.max_profit||""}),{isActionLoading:n}=F();function p(l){return Object.entries(l).reduce((e,[s,o])=>(typeof o=="boolean"&&o===!1||o!=null&&o!==""&&(Array.isArray(o)&&o.length===0||(e[s]=o)),e),{})}function b(){const l=r.data(),s={...{search:i.filters.search||""},...l},o=p(s);n.value=!0,f.get(route("sales.index"),o,{preserveState:!0,replace:!0,only:["sales","filters"],onFinish:()=>{n.value=!1,g("close")}})}function y(){const l=p({search:i.filters.search||""});n.value=!0,f.get(route("sales.index"),l,{preserveState:!0,replace:!0,onFinish:()=>{n.value=!1,g("close"),r.reset()}})}return(l,e)=>(k(),h(w,{show:c.show,onClose:e[4]||(e[4]=s=>l.$emit("close")),maxWidth:"lg"},{default:v(()=>[t("div",D,[e[7]||(e[7]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white"}," Filter Penjualan ",-1)),t("div",M,[e[5]||(e[5]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Tanggal",-1)),t("div",I,[d(t("input",{type:"date",placeholder:"Min",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[0]||(e[0]=s=>a(r).min_date=s)},null,512),[[m,a(r).min_date]]),d(t("input",{type:"date",placeholder:"Max",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[1]||(e[1]=s=>a(r).max_date=s)},null,512),[[m,a(r).max_date]])])]),t("div",V,[e[6]||(e[6]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Total Omset",-1)),t("div",j,[t("div",A,[d(t("input",{type:"number",placeholder:"Min",class:"px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[2]||(e[2]=s=>a(r).min_revenue=s)},null,512),[[m,a(r).min_revenue,void 0,{number:!0}]]),t("span",B,u(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a(r).min_revenue)||0),1)]),t("div",C,[d(t("input",{type:"number",placeholder:"Max",class:"px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[3]||(e[3]=s=>a(r).max_revenue=s)},null,512),[[m,a(r).max_revenue,void 0,{number:!0}]]),t("span",S,u(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a(r).max_revenue)||0),1)])])]),t("div",T,[t("button",{class:"px-4 py-2 text-sm font-medium text-white rounded-lg bg-lime-500 hover:bg-lime-600 disabled:opacity-50",onClick:b,disabled:a(r).processing},u(a(r).processing?"Menerapkan...":"Terapkan"),9,U),t("button",{class:"px-4 py-2 text-sm font-medium bg-gray-200 rounded-lg hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-gray-200",onClick:y,type:"button"}," Reset ")])])]),_:1},8,["show"]))}};export{$ as default};
