import{N as S,u as C,x as V,j as M,c as U,o as d,w as $,b as s,t as u,e as N,g as i,i as l,k as m,f as y,d as r,B as g,A as k}from"./app-Cde9GbA4.js";import{_ as B}from"./Modal-ClSYSUje.js";import{u as A}from"./useActionLoading-DxcsvJ2v.js";const E={class:"w-full p-6 bg-white shadow-lg maxs-w-md rounded-xl dark:bg-gray-800"},j={class:"flex items-center justify-between pb-3 border-b"},z={class:"text-lg font-semibold text-gray-800 dark:text-white"},F={key:0},K={key:0,class:"mt-1 text-xs text-red-500"},O={key:1},H={key:0,class:"mt-1 text-xs text-red-500"},L={key:2},P={key:0,class:"mt-1 text-xs text-red-500"},q={key:3},G={key:0,class:"mt-1 text-xs text-red-500"},I={key:4},J={key:0,class:"mt-1 text-xs text-red-500"},Q={key:5},R={key:0,value:""},W={key:0,class:"mt-1 text-xs text-red-500"},X={key:6},Y={key:0,value:""},Z={key:0,class:"mt-1 text-xs text-red-500"},D={class:""},_={key:0,class:"mt-1 text-xs text-red-500"},ee={class:"flex justify-end gap-2 pt-3 border-t"},te=["disabled"],ae={__name:"form-create",props:{show:{type:Boolean,default:!1},mode:{type:String,default:"create"},data:{type:Object,default:()=>({})},dataType:{type:String,default:"category"}},emits:["close","success"],setup(p,{emit:b}){const n=p,f={category:{create:{method:"post",url:()=>route("api.settings.storeCategory")},edit:{method:"put",url:o=>route("api.settings.updateCategory",{id:o})}},unit:{create:{method:"post",url:()=>route("api.settings.storeUnit")},edit:{method:"put",url:o=>route("api.settings.updateUnit",{id:o})}},size:{create:{method:"post",url:()=>route("api.settings.storeSize")},edit:{method:"put",url:o=>route("api.settings.updateSize",{id:o})}},supplier:{create:{method:"post",url:()=>route("api.settings.storeSupplier")},edit:{method:"put",url:o=>route("api.settings.updateSupplier",{id:o})}}};S();const x=b,{isActionLoading:c}=A(),t=C({id:null,code:"",name:"",description:"",phone:"",address:"",type:"",status:""});V(()=>n.data,o=>{t.clearErrors(),o&&n.mode==="edit"?(t.id=o.id,t.code=o.code||"",t.name=o.name||"",t.description=o.description||"",t.phone=o.phone||"",t.address=o.address||"",t.type=o.type||"",t.status=o.status||""):t.reset()});const h=M(()=>{switch(n.dataType){case"category":return n.mode==="create"?"Tambah Kategori":"Edit Kategori";case"unit":return n.mode==="create"?"Tambah Satuan":"Edit Satuan";case"supplier":return n.mode==="create"?"Tambah Supplier":"Edit Supplier";default:return""}}),v=()=>{const o=n.dataType,e=n.mode,a=f[o]?.[e];if(!a){console.error(`Config rute tidak ditemukan untuk: ${o} - ${e}`);return}const w=a.method,T=a.url(t.id);c.value=!0,t.submit(w,T,{preserveScroll:!0,onFinish:()=>{c.value=!1,t.wasSuccessful&&(x("close"),x("success"),t.reset())}})};return(o,e)=>(d(),U(B,{show:p.show,onClose:e[10]||(e[10]=a=>o.$emit("close")),"max-width":"lg"},{default:$(()=>[s("div",E,[s("div",j,[s("h2",z,u(h.value),1),s("button",{onClick:e[0]||(e[0]=a=>o.$emit("close")),class:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}," âœ• ")]),s("form",{class:"mt-4 space-y-4",onSubmit:N(v,["prevent"])},[p.dataType!="supplier"?(d(),i("div",F,[e[11]||(e[11]=s("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Kode"),s("span",{class:"text-red-500"},"*")],-1)),m(s("input",{type:"text",placeholder:"Masukkan kode",class:"w-full px-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":e[1]||(e[1]=a=>r(t).code=a)},null,512),[[g,r(t).code]]),r(t).errors.code?(d(),i("p",K,u(r(t).errors.code),1)):l("",!0)])):l("",!0),p.dataType!="supplier"?(d(),i("div",O,[e[12]||(e[12]=s("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Nama"),s("span",{class:"text-red-500"},"*")],-1)),m(s("input",{type:"text",placeholder:"Masukkan nama",class:"w-full px-3 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":e[2]||(e[2]=a=>r(t).name=a)},null,512),[[g,r(t).name]]),r(t).errors.name?(d(),i("p",H,u(r(t).errors.name),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",L,[e[13]||(e[13]=s("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Nama Supplier"),s("span",{class:"text-red-500"},"*")],-1)),m(s("input",{type:"text",placeholder:"Masukkan nama",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":e[3]||(e[3]=a=>r(t).name=a)},null,512),[[g,r(t).name]]),r(t).errors.name?(d(),i("p",P,u(r(t).errors.name),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",q,[e[14]||(e[14]=s("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("No Hp"),s("span",{class:"text-red-500"},"*")],-1)),m(s("input",{type:"text",placeholder:"Masukkan No Hp",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":e[4]||(e[4]=a=>r(t).phone=a)},null,512),[[g,r(t).phone]]),r(t).errors.phone?(d(),i("p",G,u(r(t).errors.phone),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",I,[e[15]||(e[15]=s("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Alamat"),s("span",{class:"text-red-500"},"*")],-1)),m(s("input",{type:"text",placeholder:"Masukkan alamat",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":e[5]||(e[5]=a=>r(t).address=a)},null,512),[[g,r(t).address]]),r(t).errors.address?(d(),i("p",J,u(r(t).errors.address),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",Q,[e[18]||(e[18]=s("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Type"),s("span",{class:"text-red-500"},"*")],-1)),m(s("select",{class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg dark:bg-gray-700 dark:text-white","onUpdate:modelValue":e[6]||(e[6]=a=>r(t).type=a)},[n.mode=="create"?(d(),i("option",R," Pilih Type ")):l("",!0),e[16]||(e[16]=s("option",{value:"type_online"},"Online",-1)),e[17]||(e[17]=s("option",{value:"type_offline"},"Offline",-1))],512),[[k,r(t).type]]),r(t).errors.type?(d(),i("p",W,u(r(t).errors.type),1)):l("",!0)])):l("",!0),p.dataType=="supplier"?(d(),i("div",X,[e[21]||(e[21]=s("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},[y("Status"),s("span",{class:"text-red-500"},"*")],-1)),m(s("select",{class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg dark:bg-gray-700 dark:text-white","onUpdate:modelValue":e[7]||(e[7]=a=>r(t).status=a)},[n.mode=="create"?(d(),i("option",Y," Pilih Status ")):l("",!0),e[19]||(e[19]=s("option",{value:"active"},"Aktif",-1)),e[20]||(e[20]=s("option",{value:"inactive"},"Tidak Aktif",-1))],512),[[k,r(t).status]]),r(t).errors.status?(d(),i("p",Z,u(r(t).errors.status),1)):l("",!0)])):l("",!0),s("div",D,[e[22]||(e[22]=s("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Catatan / Deskripsi ",-1)),m(s("textarea",{type:"text",placeholder:"Masukkan Catatan / Deskripsi",class:"w-full px-3 py-2 text-sm text-gray-800 border rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white","onUpdate:modelValue":e[8]||(e[8]=a=>r(t).description=a)},null,512),[[g,r(t).description]]),r(t).errors.description?(d(),i("p",_,u(r(t).errors.description),1)):l("",!0)]),s("div",ee,[s("button",{type:"button",onClick:e[9]||(e[9]=a=>o.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}," Batal "),s("button",{type:"submit",class:"px-4 py-2 text-sm font-medium text-white rounded-lg bg-lime-500 hover:bg-lime-600",disabled:r(t).processing},u(r(t).processing?"Menyimpan...":"Simpan"),9,te)])],32)])]),_:1},8,["show"]))}};export{ae as default};
