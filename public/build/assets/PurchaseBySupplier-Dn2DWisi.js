import{u as k,C as b,l as g,o as p,e as c,g as s,i as w,w as v,f as t,y as u,z as x,t as i,E as F,F as y,H as B}from"./vendor-core-BC1dSzkC.js";import{_ as S}from"./AuthenticatedLayout-BqVghQ4K.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";import"./useSidebar-B3W3eSlW.js";import"./useActionLoading-BNGSEwHo.js";const T={class:"space-y-6"},V={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},j={class:"flex items-center gap-4 p-4 bg-white border border-gray-200 shadow-sm md:col-span-2 dark:bg-gray-800 rounded-2xl dark:border-gray-700"},D={class:"p-4 text-white shadow-lg bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl"},N={class:"mt-1 text-2xl font-black"},L={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},P={class:"p-6 bg-white border border-gray-200 shadow-lg rounded-2xl dark:bg-gray-800 dark:border-gray-700"},R={class:"overflow-hidden bg-white border border-gray-200 shadow-sm rounded-2xl dark:bg-gray-800 dark:border-gray-700"},A={class:"overflow-x-auto"},C={class:"w-full text-sm text-left"},I={class:"divide-y divide-gray-100 dark:divide-gray-700"},O={class:"px-6 py-3 font-bold text-gray-800 dark:text-white"},z={class:"px-6 py-3 text-center text-gray-500"},E={class:"px-6 py-3 font-black text-right text-orange-600"},G={__name:"PurchaseBySupplier",props:{filters:Object,data:Array,total_all_spend:Number},setup(n){const d=n,o=k({start_date:d.filters.start_date,end_date:d.filters.end_date}),m=()=>{o.get(route("reports.purchase-supplier"),{preserveScroll:!0})},l=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),h=b(()=>({chart:{type:"bar",height:350,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0,borderRadius:4,barHeight:"50%",distributed:!0}},colors:["#f97316","#eab308","#84cc16","#22c55e","#06b6d4"],dataLabels:{enabled:!0,textAnchor:"start",formatter:(a,e)=>l(a),offsetX:0},xaxis:{categories:d.data.map(a=>a.name),labels:{formatter:a=>(a/1e6).toFixed(0)+"jt"}},grid:{show:!1},tooltip:{y:{formatter:a=>l(a)}}})),f=b(()=>[{name:"Total Belanja",data:d.data.map(a=>a.total_spend)}]);return(a,e)=>(p(),g(y,null,[c(s(w),{title:"Laporan Pembelian Supplier"}),c(S,{headerTitle:"Analisa Supplier"},{default:v(()=>[t("div",T,[t("div",V,[t("div",j,[e[2]||(e[2]=t("span",{class:"text-sm font-bold text-gray-500"},"Periode:",-1)),u(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=r=>s(o).start_date=r),class:"text-sm border-gray-300 rounded-lg dark:bg-gray-700 dark:text-white"},null,512),[[x,s(o).start_date]]),e[3]||(e[3]=t("span",{class:"text-gray-400"},"-",-1)),u(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=r=>s(o).end_date=r),class:"text-sm border-gray-300 rounded-lg dark:bg-gray-700 dark:text-white"},null,512),[[x,s(o).end_date]]),t("button",{onClick:m,class:"px-4 py-2 text-sm font-bold text-white transition bg-orange-500 rounded-lg shadow hover:bg-orange-600"}," Lihat ")]),t("div",D,[e[4]||(e[4]=t("p",{class:"text-xs font-bold tracking-widest text-orange-100 uppercase"}," Total Belanja (Procurement) ",-1)),t("h3",N,i(l(n.total_all_spend)),1)])]),t("div",L,[t("div",P,[e[5]||(e[5]=t("h3",{class:"mb-4 text-lg font-bold text-gray-800 dark:text-white"}," Top Vendor by Value ",-1)),c(s(F),{type:"bar",height:"350",options:h.value,series:f.value},null,8,["options","series"])]),t("div",R,[e[7]||(e[7]=t("div",{class:"p-4 border-b bg-gray-50/50 dark:border-gray-700 dark:bg-gray-800"},[t("h3",{class:"font-bold text-gray-800 dark:text-white"}," Rincian Vendor ")],-1)),t("div",A,[t("table",C,[e[6]||(e[6]=t("thead",{class:"text-xs text-gray-500 uppercase bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3"},"Nama Supplier"),t("th",{class:"px-6 py-3 text-center"}," Frekuensi "),t("th",{class:"px-6 py-3 text-right"}," Total Belanja ")])],-1)),t("tbody",I,[(p(!0),g(y,null,B(n.data,(r,_)=>(p(),g("tr",{key:_,class:"transition hover:bg-orange-50/30 dark:hover:bg-gray-700/50"},[t("td",O,i(r.name),1),t("td",z,i(r.total_trx)+"x Transaksi ",1),t("td",E,i(l(r.total_spend)),1)]))),128))])])])])])])]),_:1})],64))}};export{G as default};
