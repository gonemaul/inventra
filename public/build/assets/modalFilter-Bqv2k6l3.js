import{u as V,c as A,o as i,w as C,b as t,k as n,d as o,g as u,F as b,y as p,t as g,A as x,n as M,B as c,v as B,s as w}from"./app-Cde9GbA4.js";import{_ as T}from"./Modal-ClSYSUje.js";import{u as z}from"./useActionLoading-DxcsvJ2v.js";const O={class:"w-full p-4 bg-white shadow rounded-xl dark:bg-gray-800"},j={class:"mb-4"},$={class:"flex gap-2"},D=["value"],H={class:"mb-4"},L=["value"],K={class:"mb-4"},N=["value"],Z={class:"mb-4"},E=["value"],J={class:"mb-4"},P={class:"flex flex-wrap gap-2"},R=["onClick"],W={class:"mb-4"},q={class:"flex gap-2"},G={class:"mb-4"},Q={class:"flex gap-2"},X={class:"flex justify-between gap-2"},Y={class:"my-auto"},I={class:"flex items-center space-x-2 cursor-pointer"},ee={class:"flex gap-3"},re=["disabled"],ae={__name:"modalFilter",props:{show:{type:Boolean,default:!1},filters:Object,dropdowns:Object},emits:["close"],setup(m,{emit:h}){const a=m,f=h,_=[{value:"created_at",label:"Terbaru"},{value:"name",label:"Nama"},{value:"selling_price",label:"Harga"},{value:"stock",label:"Stok"}],s=V({sort:a.filters.sort||"created_at",order:a.filters.order||"desc",status:a.filters.status||"",category_id:a.filters.category_id||"",supplier_id:a.filters.supplier_id||"",sizes:a.filters.sizes||[],min_stock:a.filters.min_stock||"",max_stock:a.filters.max_stock||"",min_price:a.filters.min_price||"",max_price:a.filters.max_price||"",trashed:a.filters.trashed||!1}),{isActionLoading:y}=z();function k(l){return Object.entries(l).reduce((e,[r,d])=>(typeof d=="boolean"&&d===!1||d!=null&&d!==""&&(Array.isArray(d)&&d.length===0||(e[r]=d)),e),{})}function S(l){const e=s.sizes.indexOf(l);e>-1?s.sizes.splice(e,1):s.sizes.push(l)}function v(l){return s.sizes.includes(l)}function F(){const l=s.data(),r={...{search:a.filters.search||""},...l},d=k(r);y.value=!0,w.get(route("products.index"),d,{preserveState:!0,replace:!0,onFinish:()=>{y.value=!1,f("close")}})}function U(){const l=k({search:a.filters.search||""});y.value=!0,w.get(route("products.index"),l,{preserveState:!0,replace:!0,onFinish:()=>{y.value=!1,f("close")}})}return(l,e)=>(i(),A(T,{show:m.show,onClose:e[10]||(e[10]=r=>l.$emit("close")),maxWidth:"lg"},{default:C(()=>[t("div",O,[e[23]||(e[23]=t("h2",{class:"mb-4 text-lg font-semibold text-gray-800 dark:text-white"}," Filter Produk ",-1)),t("div",j,[e[12]||(e[12]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Sortir",-1)),t("div",$,[n(t("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>o(s).sort=r),class:"w-1/2 px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[(i(),u(b,null,p(_,r=>t("option",{key:r.value,value:r.value},g(r.label),9,D)),64))],512),[[x,o(s).sort]]),n(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>o(s).order=r),class:"w-1/2 px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[...e[11]||(e[11]=[t("option",{value:"desc"},"Terbaru / Desc (Z-A)",-1),t("option",{value:"asc"},"Terlama / Asc (A-Z)",-1)])],512),[[x,o(s).order]])])]),t("div",H,[e[14]||(e[14]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Status",-1)),n(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>o(s).status=r),class:"w-full px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[e[13]||(e[13]=t("option",{value:""},"Semua Status",-1)),(i(!0),u(b,null,p(m.dropdowns.productStatuses,r=>(i(),u("option",{key:r,value:r},g(r.charAt(0).toUpperCase()+r.slice(1)),9,L))),128))],512),[[x,o(s).status]])]),t("div",K,[e[16]||(e[16]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Kategori",-1)),n(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>o(s).category_id=r),class:"w-full px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[e[15]||(e[15]=t("option",{value:""},"Semua Kategori",-1)),(i(!0),u(b,null,p(m.dropdowns.categories,r=>(i(),u("option",{key:r.id,value:r.id},g(r.name),9,N))),128))],512),[[x,o(s).category_id]])]),t("div",Z,[e[18]||(e[18]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Supplier",-1)),n(t("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>o(s).supplier_id=r),class:"w-full px-3 py-2 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500"},[e[17]||(e[17]=t("option",{value:""},"Semua Supplier",-1)),(i(!0),u(b,null,p(m.dropdowns.suppliers,r=>(i(),u("option",{key:r.id,value:r.id},g(r.name),9,E))),128))],512),[[x,o(s).supplier_id]])]),t("div",J,[e[19]||(e[19]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Ukuran",-1)),t("div",P,[(i(!0),u(b,null,p(m.dropdowns.sizes,r=>(i(),u("button",{key:r.id,class:M(["px-3 py-1 text-sm text-gray-800 border border-gray-300 rounded-lg dark:border-gray-600 dark:text-gray-300",{"bg-lime-500 text-white border-lime-500":v(r.id),"hover:bg-lime-100 dark:hover:bg-gray-600":!v(r.id)}]),onClick:d=>S(r.id)},g(r.name),11,R))),128))])]),t("div",W,[e[20]||(e[20]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Stok",-1)),t("div",q,[n(t("input",{type:"number",placeholder:"Min",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[5]||(e[5]=r=>o(s).min_stock=r)},null,512),[[c,o(s).min_stock]]),n(t("input",{type:"number",placeholder:"Max",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[6]||(e[6]=r=>o(s).max_stock=r)},null,512),[[c,o(s).max_stock]])])]),t("div",G,[e[21]||(e[21]=t("label",{class:"block mb-1 text-sm font-medium text-gray-700 dark:text-gray-300"},"Harga (Jual)",-1)),t("div",Q,[n(t("input",{type:"number",placeholder:"Min",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[7]||(e[7]=r=>o(s).min_price=r)},null,512),[[c,o(s).min_price]]),n(t("input",{type:"number",placeholder:"Max",class:"w-1/2 px-3 py-2 text-sm border border-gray-300 rounded-lg dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:border-lime-500 focus:ring-lime-500","onUpdate:modelValue":e[8]||(e[8]=r=>o(s).max_price=r)},null,512),[[c,o(s).max_price]])])]),t("div",X,[t("div",Y,[t("label",I,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=r=>o(s).trashed=r),class:"border-gray-300 rounded dark:bg-gray-900 dark:border-gray-700 text-lime-600 focus:ring-lime-500"},null,512),[[B,o(s).trashed]]),e[22]||(e[22]=t("span",{class:"text-sm text-gray-700 dark:text-gray-400"}," Hanya Tampilkan Sampah ",-1))])]),t("div",ee,[t("button",{class:"px-4 py-2 text-sm font-medium text-white rounded-lg bg-lime-500 hover:bg-lime-600 disabled:opacity-50",onClick:F,disabled:o(s).processing},g(o(s).processing?"Menerapkan...":"Terapkan"),9,re),t("button",{class:"px-4 py-2 text-sm font-medium bg-gray-200 rounded-lg hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-gray-200",onClick:U,type:"button"}," Reset ")])])])]),_:1},8,["show"]))}};export{ae as default};
