import{u as v,C as y,l as g,o as x,e as m,g as o,i as _,w as D,f as t,y as u,z as b,t as d,k as T,X as z,m as F,F as c,H as j}from"./vendor-core-B1zCOcYd.js";import{_ as S}from"./AuthenticatedLayout-CLS0x7FA.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";import"./useSidebar-D8kcIjC6.js";import"./useActionLoading-AmW3nhbQ.js";const I={class:"space-y-6"},L={class:"flex flex-col items-center justify-between p-4 bg-white border border-gray-200 shadow-sm md:flex-row dark:bg-gray-800 rounded-2xl dark:border-gray-700"},N={class:"flex w-full gap-2 md:w-auto"},O={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},V={class:"relative p-5 overflow-hidden text-white shadow-lg bg-gradient-to-r from-blue-600 to-blue-500 rounded-2xl"},B={class:"mt-1 text-3xl font-black"},C={class:"p-5 bg-white border border-gray-200 shadow-sm rounded-2xl dark:bg-gray-800 dark:border-gray-700"},R={class:"mt-1 text-3xl font-black text-gray-800 dark:text-white"},P={class:"p-5 bg-white border border-gray-200 shadow-sm rounded-2xl dark:bg-gray-800 dark:border-gray-700"},M={class:"mt-1 text-3xl font-black text-lime-600"},A={class:"p-6 bg-white border border-gray-200 shadow-lg rounded-2xl dark:bg-gray-800 dark:border-gray-700"},H={class:"w-full"},U={class:"overflow-hidden bg-white border border-gray-200 shadow-sm rounded-2xl dark:bg-gray-800 dark:border-gray-700"},E={class:"overflow-x-auto"},G={class:"w-full text-sm text-left"},J={class:"divide-y divide-gray-100 dark:divide-gray-700"},K={class:"px-6 py-3 font-medium text-gray-900 dark:text-white"},X={class:"px-6 py-3 text-center"},$={class:"px-2 py-1 text-xs font-bold text-blue-700 bg-blue-100 border border-blue-200 rounded"},q={class:"px-6 py-3 font-black text-right text-lime-600"},Q={key:0},rt={__name:"SalesRevenue",props:{filters:Object,data:Array,summary:Object},setup(s){const i=s,l=v({start_date:i.filters.start_date,end_date:i.filters.end_date}),p=()=>{l.get(route("reports.sales-revenue"),{preserveScroll:!0})},n=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),f=a=>a>=1e6?(a/1e6).toFixed(1)+"jt":a>=1e3?(a/1e3).toFixed(0)+"rb":a,h=y(()=>[{name:"Omzet",data:i.data.map(a=>parseInt(a.revenue))}]),k=y(()=>({chart:{type:"area",height:350,fontFamily:"Inter, sans-serif",toolbar:{show:!1},zoom:{enabled:!1}},colors:["#84cc16"],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.1,stops:[0,90,100]}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},xaxis:{categories:i.data.map(a=>new Date(a.date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})),axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:"#9ca3af",fontSize:"11px"}}},yaxis:{labels:{style:{colors:"#9ca3af",fontSize:"11px"},formatter:a=>f(a)}},grid:{borderColor:"#f3f4f6",strokeDashArray:4,yaxis:{lines:{show:!0}}},tooltip:{theme:"light",y:{formatter:a=>n(a)}}}));return(a,e)=>(x(),g(c,null,[m(o(_),{title:"Laporan Omzet Penjualan"}),m(S,{headerTitle:"Laporan Penjualan (Sales)"},{default:D(()=>[t("div",I,[t("div",L,[e[3]||(e[3]=t("h3",{class:"mb-3 font-bold text-gray-700 dark:text-gray-200 md:mb-0"}," ðŸ“… Periode Laporan ",-1)),t("div",N,[u(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=r=>o(l).start_date=r),class:"text-sm border-gray-300 rounded-lg dark:bg-gray-700 dark:text-white"},null,512),[[b,o(l).start_date]]),e[2]||(e[2]=t("span",{class:"self-center text-gray-400"},"-",-1)),u(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=r=>o(l).end_date=r),class:"text-sm border-gray-300 rounded-lg dark:bg-gray-700 dark:text-white"},null,512),[[b,o(l).end_date]]),t("button",{onClick:p,class:"px-4 py-2 font-bold text-white transition rounded-lg shadow-md bg-lime-500 hover:bg-lime-600"}," Filter ")])]),t("div",O,[t("div",V,[e[4]||(e[4]=t("p",{class:"text-xs font-bold tracking-widest text-blue-100 uppercase"}," Total Omzet ",-1)),t("h2",B,d(n(s.summary.total_revenue)),1),e[5]||(e[5]=t("div",{class:"absolute bottom-0 right-0 p-3 opacity-20"},[t("svg",{class:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),t("div",C,[e[7]||(e[7]=t("p",{class:"text-xs font-bold tracking-widest text-gray-400 uppercase"}," Total Transaksi ",-1)),t("h2",R,[T(d(s.summary.total_transactions)+" ",1),e[6]||(e[6]=t("span",{class:"text-sm font-medium text-gray-400"},"Nota",-1))])]),t("div",P,[e[8]||(e[8]=t("p",{class:"text-xs font-bold tracking-widest text-gray-400 uppercase"}," Rata-rata per Nota ",-1)),t("h2",M,d(n(s.summary.average_basket_size)),1),e[9]||(e[9]=t("p",{class:"mt-1 text-xs text-gray-400"},"Basket Size",-1))])]),t("div",A,[e[10]||(e[10]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",{class:"text-lg font-bold text-gray-800 dark:text-white"}," Grafik Tren Penjualan "),t("div",{class:"px-2 py-1 text-xs font-bold border rounded text-lime-600 bg-lime-50 border-lime-100"}," Daily Revenue ")],-1)),t("div",H,[m(o(z),{type:"area",height:"350",options:k.value,series:h.value},null,8,["options","series"])])]),t("div",U,[e[14]||(e[14]=t("div",{class:"p-4 border-b border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800"},[t("h3",{class:"font-bold text-gray-800 dark:text-white"}," Rincian Per Hari ")],-1)),t("div",E,[t("table",G,[e[13]||(e[13]=t("thead",{class:"text-xs text-gray-500 uppercase bg-gray-50 dark:bg-gray-700/50"},[t("tr",null,[t("th",{class:"px-6 py-3"},"Tanggal"),t("th",{class:"px-6 py-3 text-center"}," Jumlah Transaksi "),t("th",{class:"px-6 py-3 text-right"}," Omzet Harian "),t("th",{class:"px-6 py-3 text-center"},"Aksi")])],-1)),t("tbody",J,[(x(!0),g(c,null,j(s.data,(r,w)=>(x(),g("tr",{key:w,class:"hover:bg-gray-50 dark:hover:bg-gray-700/30"},[t("td",K,d(new Date(r.date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})),1),t("td",X,[t("span",$,d(r.transaction_count)+" Nota",1)]),t("td",q,d(n(r.revenue)),1),e[11]||(e[11]=t("td",{class:"px-6 py-3 text-center"},[t("button",{class:"text-xs font-bold text-gray-400 hover:text-blue-600 hover:underline"}," Lihat Detail ")],-1))]))),128)),s.data.length===0?(x(),g("tr",Q,[...e[12]||(e[12]=[t("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-400"}," Tidak ada penjualan pada periode ini. ",-1)])])):F("",!0)])])])])])]),_:1})],64))}};export{rt as default};
