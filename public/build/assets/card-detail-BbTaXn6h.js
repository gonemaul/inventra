import{q as k,C as w,l as n,o as d,e as u,f as e,m as c,k as l,n as b,t as r,w as f,g as p,B as y,F as v}from"./vendor-core-CJbEklrS.js";import{_ as C}from"./DeleteConfirm-BS8jwaVF.js";import"./vendor-common-GpUWqhKr.js";import"./vendor-charts-Bw6UNgWf.js";import"./Modal-CSrVmq0b.js";import"./useActionLoading-FfnGJtHr.js";const _={class:"flex flex-col overflow-hidden bg-white border-t border-l-4 shadow-md md:flex-row dark:bg-gray-800 rounded-xl border-lime-500"},j={class:"flex flex-col w-full border-b border-gray-100 md:w-56 lg:w-64 bg-gray-50 dark:bg-gray-900 md:border-b-0 md:border-r dark:border-gray-700"},L={class:"relative flex-1 w-full min-h-[160px] md:h-full flex items-center justify-center p-4 overflow-hidden group"},N=["src","alt"],H={class:"absolute z-10 flex flex-col gap-1 top-2 left-2"},M={key:0,class:"px-2 py-1 text-[10px] font-bold uppercase tracking-wider text-white bg-purple-600/90 backdrop-blur-sm rounded-lg shadow-sm border border-white/20 animate-pulse flex items-center gap-1.5 transition-all hover:bg-purple-600"},S={key:1,class:"px-2 py-1 text-[10px] font-bold uppercase tracking-wider text-white bg-gray-600/90 backdrop-blur-sm rounded-lg shadow-sm border border-white/20 animate-pulse flex items-center gap-1.5"},z={class:"absolute z-10 flex flex-wrap gap-1 bottom-2 left-2"},B={key:0,class:"px-2 py-1 text-[10px] font-bold uppercase tracking-wider text-yellow-900 bg-yellow-400/90 backdrop-blur-sm rounded-lg shadow-sm border border-white/20 animate-pulse flex items-center gap-1.5"},P={key:1,class:"px-2 py-1 text-[10px] font-bold uppercase tracking-wider text-white bg-red-500/90 backdrop-blur-sm rounded-lg shadow-sm border border-white/20 flex items-center gap-1.5"},V={class:"transition-all duration-300 ease-in-out transform group-hover:-translate-y-[150%] group-hover:opacity-0"},I={class:"absolute inset-0 flex items-center justify-center px-1 transition-all duration-300 ease-in-out transform translate-y-[150%] opacity-0 group-hover:translate-y-0 group-hover:opacity-100"},T={class:"w-full text-center truncate"},D={class:"flex flex-col justify-between flex-1 gap-4 p-4 sm:p-5"},A={class:"flex flex-wrap items-start justify-between gap-2 mb-2"},F={class:"flex flex-wrap items-center gap-2 text-xs font-bold tracking-wider text-gray-500 uppercase"},O={class:"flex justify-between w-full md:w-auto"},Z={class:"bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-300"},$={class:"font-mono md:hidden text-[10px] sm:text-xs text-gray-500 bg-gray-100 dark:text-gray-300 dark:bg-gray-700 px-2 py-0.5 rounded border border-gray-200 dark:border-gray-600"},E={class:"truncate text-lime-600 dark:text-lime-400"},K={class:"text-gray-600 dark:text-gray-400 truncate max-w-[100px]"},R={class:"font-mono hidden md:block text-[10px] sm:text-xs text-gray-500 bg-gray-100 dark:text-gray-300 dark:bg-gray-700 px-2 py-0.5 rounded border border-gray-200 dark:border-gray-600"},q={class:"mb-3 text-xl font-black leading-tight text-gray-800 sm:text-2xl md:text-3xl dark:text-white"},G={class:"flex flex-wrap items-center justify-center gap-3 pb-3 mb-3 text-sm text-gray-600 border-b border-gray-100 md:justify-start dark:text-gray-300 dark:border-gray-700"},J={class:"flex flex-col md:flex-row items-center gap-1.5"},U={class:"font-semibold bg-gray-200 dark:bg-gray-700 px-1.5 rounded border border-gray-100 dark:border-gray-600"},Q={class:"flex flex-col md:flex-row items-center gap-1.5"},W={class:"font-semibold bg-gray-200 dark:bg-gray-700 px-1.5 rounded border border-gray-100 dark:border-gray-600"},X={class:"flex flex-col items-center gap-1 md:flex-row"},Y={class:"grid grid-cols-1 gap-4 mb-4 sm:grid-cols-2"},ee={class:"relative p-3 border rounded-lg border-lime-100 bg-lime-50 dark:bg-lime-900/50 dark:border-lime-800"},te={class:"text-2xl font-black text-gray-700 dark:text-gray-200 leading-none mb-1.5"},ae={key:0,class:"inline-flex items-center gap-1 text-[10px] font-bold text-red-600 bg-white px-2 py-0.5 rounded shadow-sm border border-red-100"},re={class:"text-red-400"},se={key:1,class:"inline-flex items-center gap-1 text-[10px] font-bold text-green-600 bg-white px-2 py-0.5 rounded shadow-sm border border-green-100"},ne={class:"text-green-400"},de={key:2,class:"text-[10px] text-gray-400 font-medium"},oe={class:"relative p-3 border border-blue-100 rounded-lg bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800"},le={class:"flex items-center justify-between mb-1"},ie={class:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-white text-blue-700 shadow-sm border border-blue-100",title:"Keuntungan Bersih"},ce={class:"text-green-600"},ge={class:"text-2xl font-black text-blue-700 dark:text-blue-300 leading-none mb-1.5"},xe={key:0,class:"inline-flex items-center gap-1 text-[10px] font-bold text-green-600 bg-white px-2 py-0.5 rounded shadow-sm border border-green-100"},ue={class:"text-green-600"},be={key:1,class:"inline-flex items-center gap-1 text-[10px] font-bold text-red-500 bg-white px-2 py-0.5 rounded shadow-sm border border-red-100"},me={class:"text-red-500"},fe={key:2,class:"text-[10px] text-blue-300 font-medium"},pe={class:"flex flex-wrap items-center justify-end gap-2 pt-2 border-t border-gray-100 dark:border-gray-700"},ye={class:"flex order-1 w-full gap-2 sm:w-auto sm:order-2"},je={__name:"card-detail",props:{data:Object,dss:Object,price_trend:Object},setup(a){const g=a,m=k(null),h=(s,t=!1)=>{let i={};t?i={title:"Hapus Permanen Produk",message:"Produk ini akan dihapus selamanya. Anda yakin menghapus",itemName:s.name,url:route("products.destroy",{id:s.slug,permanen:!0})}:i={title:"Pindahkan ke Sampah",message:"Anda yakin ingin memindahkan produk",itemName:s.name,url:route("products.destroy",{id:s.slug})},m.value.open(i)},o=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s),x=w(()=>g.data.insights?.some(t=>t.type==="restock"&&t.severity==="critical")||g.data.stock<=g.data.min_stock);return(s,t)=>(d(),n(v,null,[u(C,{ref_key:"showConfirmModal",ref:m,onSuccess:t[0]||(t[0]=()=>{})},null,512),e("div",_,[e("div",j,[e("div",L,[t[7]||(t[7]=e("div",{class:"absolute inset-0 z-0 flex flex-col items-center justify-center w-full h-full transition-colors duration-300 bg-gray-100 border border-gray-200 dark:bg-gray-700 dark:border-gray-800"},[e("svg",{class:"w-10 h-10 mb-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("span",{class:"text-[10px] font-bold text-gray-400 tracking-wider"}," NO IMG ")],-1)),e("img",{src:a.data.image_url,alt:a.data.name,loading:"lazy",decoding:"async",onload:"this.classList.remove('opacity-0')",onerror:"this.style.display='none'",class:"absolute inset-0 z-10 object-contain max-w-full max-h-full transition-transform duration-500 opacity-0 cursor-pointer group-hover:scale-110",onClick:t[1]||(t[1]=i=>s.$emit("imageClick",{path:a.data.image_url,name:a.data.name}))},null,8,N),e("div",H,[a.dss?.is_trending?(d(),n("span",M,[...t[3]||(t[3]=[l(" ðŸ”¥ ",-1),e("span",{class:"inline"},"Trending",-1)])])):c("",!0),a.dss?.is_dead_stock?(d(),n("span",S,[...t[4]||(t[4]=[l(" ðŸ¢ ",-1),e("span",{class:"inline"},"Slow",-1)])])):c("",!0)]),e("div",z,[a.dss?.is_margin_low?(d(),n("span",B,[...t[5]||(t[5]=[l(" âš ï¸ ",-1),e("span",{class:"inline"},"Margin",-1)])])):c("",!0),x.value?(d(),n("span",P,[...t[6]||(t[6]=[l(" ðŸš¨ ",-1),e("span",{class:"inline"},"Stok",-1)])])):c("",!0)])]),e("div",{class:b(["group relative py-1.5 text-[10px] font-bold text-center text-white uppercase tracking-wider w-full transition-colors cursor-help hover:bg-cyan-500 overflow-hidden",a.data.status==="active"?"bg-lime-500":"bg-gray-400"])},[e("div",V,r(a.data.status==="active"?"Aktif":"Non-Aktif"),1),e("div",I,[e("span",T,r(a.data.supplier?.name||"Tanpa Supplier"),1)])],2)]),e("div",D,[e("div",null,[e("div",A,[e("div",F,[e("div",O,[e("span",Z,r(a.data.brand?.name||"No Brand"),1),e("span",$,r(a.data.code),1)]),t[8]||(t[8]=e("span",{class:"hidden text-gray-300 md:block"},"|",-1)),e("span",E,r(a.data.category?.name),1),t[9]||(t[9]=e("span",{class:"text-gray-300"},"|",-1)),e("span",K,r(a.data.product_type?.name||"No Type"),1)]),e("span",R,r(a.data.code),1)]),e("h1",q,r(a.data.full_name||a.data.name),1),e("div",G,[e("div",J,[t[10]||(t[10]=e("span",{class:"text-[10px] text-gray-400 uppercase font-bold"},"Size",-1)),e("span",U,r(a.data.size?.name||"-"),1)]),e("div",Q,[t[11]||(t[11]=e("span",{class:"text-[10px] text-gray-400 uppercase font-bold"},"Unit",-1)),e("span",W,r(a.data.unit?.name||"Pcs"),1)]),e("div",X,[e("span",{class:b(["text-[10px] font-bold uppercase",x.value?"text-red-500":"text-gray-400"])},"Stok",2),e("span",{class:b(["font-bold px-1.5 py-0.5 rounded",x.value?"bg-red-50 dark:bg-red-100 !text-red-600 ring-1 ring-red-100":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200"])},r(a.data.stock),3)])])]),e("div",Y,[e("div",ee,[t[12]||(t[12]=e("span",{class:"text-[10px] font-bold text-lime-400 uppercase block mb-1"},"Modal (HPP)",-1)),e("div",te,r(o(a.data.purchase_price)),1),a.data.financials.price_trend.direction==="up"?(d(),n("div",ae,[e("span",null,"ðŸ“ˆ Naik "+r(o(a.data.financials.price_trend.diff_rp)),1),e("span",re,"("+r(a.data.financials.price_trend.percent)+"%)",1)])):a.data.financials.price_trend.direction==="down"?(d(),n("div",se,[e("span",null,"ðŸ“‰ Turun "+r(o(a.data.financials.price_trend.diff_rp)),1),e("span",ne,"("+r(a.data.financials.price_trend.percent)+"%)",1)])):(d(),n("div",de," Stabil "))]),e("div",oe,[e("div",le,[t[14]||(t[14]=e("span",{class:"text-[10px] font-bold text-blue-400 uppercase"},"Harga Jual",-1)),e("div",ie,[e("span",null,"+"+r(o(a.data.financials.margin.rp)),1),t[13]||(t[13]=e("span",{class:"text-gray-300"},"|",-1)),e("span",ce,r(a.data.financials.margin.percent)+"%",1)])]),e("div",ge,r(o(a.data.selling_price)),1),a.data.financials.sales_trend.direction==="up"?(d(),n("div",xe,[e("span",null,"ðŸš€ Naik "+r(o(a.data.financials.sales_trend.diff_rp)),1),e("span",ue,"("+r(a.data.financials.sales_trend.percent)+"%)",1)])):a.data.financials.sales_trend.direction==="down"?(d(),n("div",be,[e("span",null,"ðŸ”» Turun "+r(o(a.data.financials.sales_trend.diff_rp)),1),e("span",me,"("+r(a.data.financials.sales_trend.percent)+"%)",1)])):(d(),n("div",fe," Stabil "))])]),e("div",pe,[u(p(y),{href:s.route("products.index"),class:"order-2 w-full px-4 py-2 text-sm font-bold text-center text-gray-500 transition bg-white border border-gray-200 rounded-lg hover:text-gray-800 hover:bg-gray-50 sm:w-auto sm:order-1"},{default:f(()=>[...t[15]||(t[15]=[l(" Kembali ",-1)])]),_:1},8,["href"]),e("div",ye,[u(p(y),{href:s.route("products.edit",a.data.slug),class:"flex items-center justify-center flex-1 gap-2 px-5 py-2 text-sm font-bold text-white transition bg-yellow-500 rounded-lg shadow-sm sm:flex-none hover:bg-yellow-600"},{default:f(()=>[...t[16]||(t[16]=[e("svg",{class:"w-3 h-3 sm:w-5 sm:h-5",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M19.9902 18.9531C20.5471 18.9534 21 19.4124 21 19.9766C21 20.5418 20.5471 20.9998 19.9902 21H14.2793C13.7224 20.9998 13.2695 20.5419 13.2695 19.9766C13.2696 19.4124 13.7224 18.9533 14.2793 18.9531H19.9902ZM12.2412 3.95703C13.1538 2.78531 14.7463 2.67799 16.0303 3.69922L17.5049 4.87109C18.1097 5.34407 18.5134 5.96737 18.6514 6.62305C18.8105 7.34415 18.6403 8.05244 18.1631 8.66504L9.37598 20.0283C8.97274 20.544 8.37869 20.834 7.74219 20.8447L4.24023 20.8877C4.0493 20.8876 3.89009 20.7589 3.84766 20.5762L3.05176 17.125C2.91398 16.4909 3.05194 15.8352 3.45508 15.3301L9.68457 7.26758C9.79068 7.13908 9.98121 7.11856 10.1084 7.21387L12.7295 9.2998C12.8993 9.43955 13.1329 9.51467 13.377 9.48242C13.8969 9.41792 14.2474 8.94469 14.1943 8.43945C14.1625 8.18164 14.0349 7.96685 13.8652 7.80566C13.8122 7.76267 11.3184 5.7627 11.3184 5.7627C11.1593 5.63368 11.1276 5.39743 11.2549 5.2373L12.2412 3.95703Z",fill:"currentColor"})],-1),l(" Edit ",-1)])]),_:1},8,["href"]),e("button",{onClick:t[2]||(t[2]=i=>h(a.data)),class:"flex items-center justify-center flex-1 gap-2 px-4 py-2 text-sm font-bold text-red-600 transition border border-red-100 rounded-lg sm:flex-none bg-red-50 hover:bg-red-100"},[...t[17]||(t[17]=[e("svg",{class:"w-3 h-3 sm:w-5 sm:h-5",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M18.9395 8.69727C19.1385 8.69738 19.3191 8.78402 19.4619 8.93066C19.5952 9.08766 19.663 9.28326 19.6436 9.48926C19.6429 9.56521 19.1099 16.2984 18.8057 19.1338C18.6151 20.8747 17.493 21.9319 15.8096 21.9609C14.5151 21.9899 13.2497 22 12.0039 22C10.6812 22 9.3874 21.9899 8.13184 21.9609C6.50488 21.9218 5.38206 20.8457 5.20117 19.1338C4.88816 16.2881 4.36472 9.56385 4.35449 9.48926C4.34477 9.28326 4.41071 9.08766 4.54492 8.93066C4.67715 8.78375 4.86811 8.69731 5.06836 8.69727H18.9395ZM14.0645 2C14.9485 2 15.7382 2.61708 15.9668 3.49707L16.1309 4.22656C16.2631 4.82145 16.778 5.24302 17.3711 5.24316H20.2871C20.676 5.24316 20.9998 5.56576 21 5.97656V6.35742C20.9998 6.75821 20.676 7.09082 20.2871 7.09082H3.71387C3.32402 7.09082 3.00025 6.75821 3 6.35742V5.97656C3.00021 5.56576 3.324 5.24316 3.71387 5.24316H6.62988C7.22203 5.24301 7.7369 4.82143 7.87012 4.22754L8.02344 3.5459C8.26078 2.61698 9.04181 2 9.93555 2H14.0645Z",fill:"currentColor"})],-1),l(" Hapus ",-1)])])])])])])],64))}};export{je as default};
